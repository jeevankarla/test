<?xml version="1.0" encoding="UTF-8"?>
<!-- Licensed to the Apache Software Foundation (ASF) under one or more contributor 
	license agreements. See the NOTICE file distributed with this work for additional 
	information regarding copyright ownership. The ASF licenses this file to 
	you under the Apache License, Version 2.0 (the "License"); you may not use 
	this file except in compliance with the License. You may obtain a copy of 
	the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required 
	by applicable law or agreed to in writing, software distributed under the 
	License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS 
	OF ANY KIND, either express or implied. See the License for the specific 
	language governing permissions and limitations under the License. -->

<menus xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-menu.xsd">

	<menu name="AccountingAppBar" title="${uiLabelMap.AccountingManager}"
		extends="CommonAppBarMenu" extends-resource="component://common/widget/CommonMenus.xml">
		<!-- <menu-item name="invoices" title="${uiLabelMap.AccountingInvoicesMenu}"><link 
			target="findInvoices"/></menu-item> <menu-item name="payments" title="${uiLabelMap.AccountingPaymentsMenu}"><link 
			target="findPayments"/></menu-item> -->
		<menu-item name="PaymentGroup" title="${uiLabelMap.AccountingPaymentGroup}">
			<link target="FindPaymentGroup" />
		</menu-item>
		<!-- <menu-item name="transaction" title="${uiLabelMap.AccountingTransactions}"> 
			<condition> <if-has-permission permission="MANUAL" action="_PAYMENT"/> </condition> 
			<link target="AuthorizeTransaction"/> </menu-item> -->
		<!--<menu-item name="PaymentGatewayConfig" title="${uiLabelMap.AccountingPaymentGatewayConfig}"> 
			<condition> <if-has-permission permission="PAYPROC" action="_ADMIN"/> </condition> 
			<link target="FindPaymentGatewayConfig"/> </menu-item> -->
		<!--<menu-item name="billingaccount" title="${uiLabelMap.AccountingBillingMenu}"><link 
			target="FindBillingAccount"/></menu-item> -->
		<menu-item name="FindFinAccount" title="${uiLabelMap.AccountingFinAccount}">
			<link target="FinAccountMain" />
		</menu-item>
		<menu-item name="TaxAuthorities" title="${uiLabelMap.AccountingTaxAuthorities}">
			<link target="FindTaxAuthority" />
		</menu-item>
		<!--<menu-item name="agreements" title="${uiLabelMap.AccountingAgreements}"><link 
			target="FindAgreement"/></menu-item> -->
		<menu-item name="ListFixedAssets" title="${uiLabelMap.AccountingFixedAssets}"><link 
			target="ListFixedAssets"/></menu-item>
		<menu-item name="GlobalGLSettings" title="${uiLabelMap.AccountingGlobalGLSettings}">
			<condition>
				<if-has-permission permission="ACCOUNTING" action="_GLACCOUNT_VIEW" />
			</condition>
			<link target="globalGLSettings" />
		</menu-item>
		<menu-item name="companies" title="${uiLabelMap.AccountingOrgGlSettings}">
			<condition>
				<if-has-permission permission="ACCOUNTING" action="_ORGGLSETTINGS_VIEW" />
			</condition>
			<link target="ListCompanies" />
		</menu-item>
		<menu-item name="formulas" title="${uiLabelMap.AccountFormula}">
			<condition>
				<if-has-permission permission="ACCOUNTING" action="_ACCTFORMULA_VIEW" />
			</condition>
			<link target="ListAccountFormulas" />
		</menu-item>
		<menu-item name="GlAccountReconciliation" title="${uiLabelMap.GlAccountReconciliation}">
			<condition>
				<if-has-permission permission="ACCOUNTING"
					action="_GLRECONCILIATION_VIEW" />
			</condition>
			<link target="ListCompaniesGlReconciliation" />
		</menu-item>
		<menu-item name="AccountingTransactions" title="${uiLabelMap.AccountingTransactions}">
			<condition>
				<if-has-permission permission="ACCTG_ATX" action="_VIEW" />
			</condition>
			<link target="ListCompaniesAccountingTransactions" />
		</menu-item>
		<menu-item name="AccountingReports" title="Final Accounts">
			<condition>
				<if-has-permission permission="ACCOUNTING" action="_REPORTS" />
			</condition>
			<link target="ListCompaniesAccountingReports" />
		</menu-item>
		<menu-item name="AccountingChecks" title="${uiLabelMap.AccountingChecks}">
			<condition>
				<if-has-permission permission="ACCOUNTING" action="_CHECKS_VIEW" />
			</condition>
			<link target="ListCompaniesAccountingChecks" />
		</menu-item>
		<menu-item name="Budget" title="${uiLabelMap.Budget}">
			<condition>
				<if-has-permission permission="ACCOUNTING" action="_BUDGET_VIEW" />
			</condition>
			<link target="findBudgets" />
		</menu-item>
		<menu-item name="CashierPortal" title="Cashier Portal">
			<condition>
				<if-has-permission permission="ACCOUNTING" action="_CASHIER" />
			</condition>
			<link target="cashierPortal" />
		</menu-item>
	   <menu-item name="TreasurerPortal" title="Treasurer Portal">
			<condition>
				<if-has-permission permission="ACCOUNTING" action="_TREASURER" />
			</condition>
			<link target="treasurerPortal" />
		</menu-item>
		
	</menu>

	<menu name="InvoiceTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml">
		<actions>
				<script location="component://accounting/webapp/accounting/WEB-INF/actions/hideAcctgMenuItem.groovy"/>
		</actions>
		<menu-item name="find" title="${uiLabelMap.CommonFind}">
			<link target="findInvoices" />
		</menu-item>
		<menu-item name="invoiceOverview" title="${uiLabelMap.AccountingInvoiceOverview}">
			<condition>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
			</condition>
			<link target="invoiceOverview">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>

		<menu-item name="editInvoice" title="${uiLabelMap.AccountingInvoiceHeader}">
			<condition>
				<and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_IN_PROCESS" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_RECEIVED" />
					</or>
				</and>
			</condition>
			<link target="editInvoice">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>

		<menu-item name="listInvoiceItems" title="${uiLabelMap.AccountingInvoiceItems}">
			<condition>
				<and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_IN_PROCESS" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_RECEIVED" />
					</or>
				</and>
			</condition>
			<link target="listInvoiceItems">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		
		<menu-item name="listInvoiceItemsNew" title="${uiLabelMap.AccountingInvoiceItems} New">
			
			<condition>
					
				<and>
					
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<if-compare field="enableNewInvItemScr" operator="equals" value="true"/>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_IN_PROCESS" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_RECEIVED" />
					</or>
				</and>
			</condition>
			<link target="listInvoiceItemsNew">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<!-- <menu-item name="EditInvoiceTimeEntries" title="${uiLabelMap.AccountingInvoiceTimeEntries}"> 
			<condition> <and> <not><if-empty field="invoice.invoiceId"/></not> <or> <if-compare 
			field="invoice.statusId" operator="equals" value="INVOICE_IN_PROCESS"/> <if-compare 
			field="invoice.statusId" operator="equals" value="INVOICE_RECEIVED"/> </or> 
			</and> </condition> <link target="editInvoiceTimeEntries"> <parameter param-name="invoiceId" 
			from-field="invoice.invoiceId"/> </link> </menu-item> <menu-item name="invoiceRoles" 
			title="${uiLabelMap.AccountingInvoiceRoles}"> <condition> <and> <not><if-empty 
			field="invoice.invoiceId"/></not> <or> <if-compare field="invoice.statusId" 
			operator="equals" value="INVOICE_IN_PROCESS"/> <if-compare field="invoice.statusId" 
			operator="equals" value="INVOICE_RECEIVED"/> </or> </and> </condition> <link 
			target="invoiceRoles"> <parameter param-name="invoiceId" from-field="invoice.invoiceId"/> 
			</link> </menu-item> -->
		<!-- <menu-item name="editInvoiceApplications" title="${uiLabelMap.AccountingApplications}">
			<condition disabled-style="disabled">
				<and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<if-compare operator="not-equals" value="PETTYCASH_INVOICE" field="invoice.invoiceTypeId"/>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_IN_PROCESS" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_SENT" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_RECEIVED" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_APPROVED" />
					</or>
				</and>
			</condition>
			<link target="editInvoiceApplications">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item> -->

		<menu-item name="sendPerEmail" title="${uiLabelMap.CommonSendPerEmail}">
			<condition disabled-style="disabled">
				<and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<if-compare operator="not-equals" value="PETTYCASH_INVOICE" field="invoice.invoiceTypeId"/>
				</and>	
			</condition>
			<link target="sendPerEmail">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>

		<menu-item name="sendPerSms" title="${uiLabelMap.CommonSendPerSms}">
			<condition disabled-style="disabled">
				<and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>				
				<if-compare operator="not-equals" value="PETTYCASH_INVOICE" field="invoice.invoiceTypeId"/>					
				</and>
			</condition>
			<link target="sendPerSms">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<!-- <menu-item name="commissionRun" title="${uiLabelMap.AccountingCommissionRun}"> 
			<link target="CommissionRun"/> </menu-item> -->
	</menu>

	<menu name="InvoiceSubTabBar" menu-container-style="button-bar button-style-2"
		default-selected-style="selected">
		<menu-item name="createNew" title="${uiLabelMap.CommonCreateNew}"
			widget-style="buttontext create">
			<condition>
				<and>
					<not>
						<if-compare operator="equals" value="accounting"
							field="localDispatcherName" />
					</not>
					<or>
						<if-has-permission permission="ACCOUNTING"
							action="_ARINVOICE_EDIT" />
						<if-has-permission permission="ACCOUNTING"
							action="_APINVOICE_EDIT" />
					</or>
				</and>
			</condition>
			<link target="newInvoice" />
		</menu-item>
		<!-- <menu-item name="copyInvoice" title="${uiLabelMap.CommonCopy}"> <condition> 
			<not><if-empty field="invoice.invoiceId"/></not> </condition> <link target="copyInvoice"> 
			<parameter param-name="invoiceIdToCopyFrom" from-field="invoiceId"/> </link> 
			</menu-item> -->
		<menu-item name="pdf" title="${uiLabelMap.AccountingInvoicePDF}">
			<condition>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
			</condition>
			<link target="invoice.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<menu-item name="newCashPdf" title="Cash Voucher PDF">
			<condition>
			  <and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
				    <if-compare field="invoice.prefPaymentMethodTypeId" operator="equals" value="CASH" />
			  </and>
			</condition>
			<link target="invoiceNew.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<menu-item name="newBankPdf" title="Bank Voucher PDF">
			<condition>
			<and>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
				<if-compare field="invoice.prefPaymentMethodTypeId" operator="equals" value="BANK" />
			</and>
			</condition>
			<link target="invoiceNew.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<menu-item name="pdfDfltCur"
			title="${uiLabelMap.AccountingInvoicePDFDefaultCur}(${defaultOrganizationPartyCurrencyUomId})">
			<condition>
				<and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<if-compare-field field="invoice.currencyUomId"
						operator="not-equals" to-field="defaultOrganizationPartyCurrencyUomId" />
				</and>
			</condition>
			<link target="invoice.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="currency"
					from-field="defaultOrganizationPartyCurrencyUomId" />
			</link>
		</menu-item>
		<menu-item name="statusToApproved"
			title="${uiLabelMap.AccountingInvoiceStatusToApproved}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_IN_PROCESS" />
						<!-- <if-compare field="invoice.statusId" operator="equals" value="INVOICE_SENT"/> 
							<if-compare field="invoice.statusId" operator="equals" value="INVOICE_RECEIVED"/> -->
					</or>
				</and>
			</condition>
			<link target="setInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_APPROVED" />
			</link>
		</menu-item>		
		<menu-item name="statusToReceived"
			title="${uiLabelMap.AccountingInvoiceStatusToReceived}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<if-compare field="invoice.statusId" operator="equals"
						value="INVOICE_IN_PROCESS" />
					<or>
						<if-compare field="invoice.invoiceTypeId" operator="equals"
							value="PURCHASE_INVOICE" />
						<if-compare field="invoice.invoiceTypeId" operator="equals"
							value="CUST_RTN_INVOICE" />
					</or>
				</and>
			</condition>
			<link target="setInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_RECEIVED" />
			</link>
		</menu-item>
		<menu-item name="statusToSent"
			title="${uiLabelMap.AccountingInvoiceStatusToSent}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<or>
						<and>
							<not>
								<if-empty field="invoice.invoiceId" />
							</not>
							<if-compare field="invoice.statusId" operator="equals"
								value="INVOICE_IN_PROCESS" />
							<if-compare field="invoice.invoiceTypeId" operator="equals"
								value="SALES_INVOICE" />
						</and>
						<and>
							<not>
								<if-empty field="invoice.invoiceId" />
							</not>
							<if-compare field="invoice.statusId" operator="equals"
								value="INVOICE_APPROVED" />
							<if-compare field="invoice.invoiceTypeId" operator="equals"
								value="SALES_INVOICE" />
						</and>
					</or>
				</and>
			</condition>
			<link target="setInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_SENT" />
			</link>
		</menu-item>
		<menu-item name="statusToReady"
			title="${uiLabelMap.AccountingInvoiceStatusToReady}">
			<condition>
				<and>
					<or>
						<if-has-permission permission="ACCOUNTING"
							action="_ARINVOICE_EDIT" />
						<if-has-permission permission="ACCOUNTING"
							action="_APINVOICE_EDIT" />
					</or>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<!-- <if-compare field="invoice.statusId" operator="equals" value="INVOICE_IN_PROCESS"/> 
							<if-compare field="invoice.statusId" operator="equals" value="INVOICE_SENT"/> 
							<if-compare field="invoice.statusId" operator="equals" value="INVOICE_RECEIVED"/> -->
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_APPROVED" />
					</or>
				</and>
			</condition>
			<link target="setInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_READY" />
			</link>
		</menu-item>
		<menu-item name="statusToPaid"
			title="${uiLabelMap.AccountingInvoiceStatusToPaid}">
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="not-equals"	value="PETTYCASH_INVOICE" />
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_READY" />
					</or>
				</and>
			</condition>
			<link target="setInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_PAID" />
			</link>
		</menu-item>
		<!-- <menu-item name="statusToWriteoff"
			title="${uiLabelMap.AccountingInvoiceStatusToWriteoff}">
			<condition>
				<and>
				<if-compare field="invoice.invoiceTypeId" operator="not-equals"	value="PETTYCASH_INVOICE" />
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_READY" />
					</or>
				</and>
			</condition>
			<link target="setInvoiceStatus" request-confirmation="true"
				confirmation-message="You want to writeoff this invoice number ${invoice.invoiceId}?">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_WRITEOFF" />
			</link>
		</menu-item> -->
		<menu-item name="statusToInProcess"
			title="${uiLabelMap.AccountingInvoiceStatusToInProcess}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_SENT" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_RECEIVED" />
					</or>
				</and>
			</condition>
			<link target="setInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_IN_PROCESS" />
			</link>
		</menu-item>
		<menu-item name="statusToCancelled"
			title="${uiLabelMap.AccountingInvoiceStatusToCancelled}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_IN_PROCESS" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_SENT" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_RECEIVED" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_READY" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_APPROVED" />
					</or>
				</and>
			</condition>
			<link target="javascript:getDescription()" url-mode="plain" link-type="hidden-form"
				confirmation-message="You want to cancel this invoice number ${invoice.invoiceId}?">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_CANCELLED" />
			</link>
		</menu-item>
		<menu-item name="accountingPdf" title="Accounting Transaction PDF">
		<condition>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
			</condition>
			<link target="account.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<menu-item name="makeApayment" title="${uiLabelMap.MakePayment}">			
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="equals"	value="PETTYCASH_INVOICE" />
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_READY" />
				</and>			
			</condition>
			<link target="createPettyCashPayment">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="amount" value="${bsh:return(org.ofbiz.accounting.invoice.InvoiceWorker.getInvoiceTotal(invoice));}" />
				<parameter param-name="statusId" value="PMNT_NOT_PAID" />
				<parameter param-name="partyIdTo" value="${invoice.partyIdFrom}"  />
				<parameter param-name="partyIdFrom" value="${invoice.partyId}" />
				<parameter param-name="currencyUomId" value="${invoice.currencyUomId}" />							
			</link>
		</menu-item>
		<menu-item name="statusToConfirmed"
			title="${uiLabelMap.AccountingPaymentTabStatusToConfirmedPayment}">
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="equals"	value="PETTYCASH_INVOICE" />
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_PAID" />
					<if-has-permission permission="ACCOUNTING" action="_PAYMENTSTATUS_CONFIRMED" />
					<if-compare field="payment[0].statusId" operator="equals" value="PMNT_SENT" />
													
				</and>
			</condition>
			<link target="setPaymentStatusPettyCash">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="paymentId" value="${payment[0].paymentId}" />
				<parameter param-name="statusId" value="PMNT_CONFIRMED" />
			</link>
		</menu-item>
		<menu-item name="statusToVoidPayment"
			title="${uiLabelMap.AccountingPaymentTabStatusToVoidPayment}">
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="equals"	value="PETTYCASH_INVOICE" />
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_PAID" />
					<if-has-permission permission="ACCOUNTING" action="_PAYMENTSTATUS_CANCEL" />
					<if-compare field="payment[0].statusId" operator="equals" value="PMNT_SENT" />
				</and>
			</condition>
			<link target="voidPaymentPettyCash">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="paymentId" value="${payment[0].paymentId}" />
			</link>
		</menu-item>
		<menu-item name="DebitNote"
			title="Debit/Credit Note">
			<link target="DebitNote" target-window="_BLANK">
<!-- 				<parameter param-name="paymentId" from-field="payment.paymentId"/> -->
				<parameter param-name="invoiceflag" value="Y"/>
				<parameter param-name="reportTypeFlag" value="debitNote"/>
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>	
		<!-- <menu-item name="saveInvoiceAsTemplate" title="${uiLabelMap.ProjectMgrSaveAsTemplate}"> 
			<condition> <and> <not><if-empty field="invoice.invoiceId"/></not> <or> <if-compare 
			field="invoice.invoiceTypeId" operator="equals" value="SALES_INVOICE"/> <if-compare 
			field="invoice.invoiceTypeId" operator="equals" value="PURCHASE_INVOICE"/> 
			</or> </and> </condition> <link target="copyInvoiceToTemplate"> <parameter 
			param-name="invoiceId" from-field="invoice.invoiceId"/> <parameter param-name="invoiceTypeId" 
			from-field="invoice.invoiceTypeId"/> </link> </menu-item> <menu-item name="addtax" 
			title="Add Tax"> <condition> <and> <not><if-empty field="invoice.invoiceId"/></not> 
			<if-compare field="invoice.statusId" operator="equals" value="INVOICE_IN_PROCESS"/> 
			</and> </condition> <link target="addtax"> <parameter param-name="invoiceId" 
			from-field="invoice.invoiceId"/> </link> </menu-item> -->
	</menu>

	<menu name="PaymentTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml">
		<menu-item name="findPayment" title="${uiLabelMap.CommonFind}">
			<link target="findPayments" />
		</menu-item>
		<menu-item name="paymentOverview" title="${uiLabelMap.AccountingPaymentTabOverview}">
			<condition>
				<not>
					<if-empty field="payment.paymentId" />
				</not>
			</condition>
			<link target="paymentOverview">
				<parameter param-name="paymentId" from-field="payment.paymentId" />
			</link>
		</menu-item>
		<menu-item name="editPayment" title="${uiLabelMap.AccountingPaymentTabHeader}">
			<condition>
				<and>
					<not>
						<if-empty field="payment.paymentId" />
					</not>
					<if-compare field="payment.statusId" operator="equals"
						value="PMNT_NOT_PAID" />
				</and>
			</condition>
			<link target="editPayment">
				<parameter param-name="paymentId" from-field="payment.paymentId" />
			</link>
		</menu-item>
		<menu-item name="editPaymentApplications"
			title="${uiLabelMap.AccountingPaymentTabApplications}">
			<condition disabled-style="disabled">
				<and>
					<not>
						<if-empty field="payment.paymentId" />
					</not>
					<or>						
						<if-compare field="payment.statusId" operator="equals"
							value="PMNT_RECEIVED" />
						<if-compare field="payment.statusId" operator="equals"
							value="PMNT_SENT" />
							<if-compare field="payment.statusId" operator="equals"
							value="PMNT_CONFIRMED" />
					</or>
				</and>
			</condition>
			<link target="editPaymentApplications">
				<parameter param-name="paymentId" from-field="payment.paymentId" />
			</link>
		</menu-item>
		<menu-item name="paymentReport" title="Payment Report">
			<link target="paymentReport" />
		</menu-item>
	</menu>

	<menu name="PaymentSubTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		menu-container-style="button-bar button-style-2">
		<actions>
			<set field="isDisbursement"
				value="${bsh:if(payment!=void)return org.ofbiz.accounting.util.UtilAccounting.isDisbursement(payment)}" />
		</actions>
		<!-- <menu-item name="createNew" title="${uiLabelMap.CommonCreateNew}"
			widget-style="buttontext create">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_PAYMENT_EDIT" />
					<not>
						<if-empty field="payment.paymentId" />
					</not>
				</and>
			</condition>
			<link target="newPayment" />
		</menu-item> -->
		<menu-item name="pdf" title="Accounting Report">
			<condition>
				<and>
					<not>
						<if-empty field="payment.paymentId" />
					</not>
				</and>
			</condition>
			<link target="paymentAccountingTrans.pdf" target-window="_BLANK">
				<parameter param-name="paymentId" from-field="payment.paymentId" />
			</link>
		</menu-item>
		<menu-item name="statusToSend"
			title="${uiLabelMap.AccountingPaymentTabStatusToSent}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_PAYMENT_EDIT" />
					<not>
						<if-empty field="payment.paymentId" />
					</not>
					<if-compare field="isDisbursement" operator="equals"
						value="true" />
					<if-compare field="payment.statusId" operator="equals"
						value="PMNT_NOT_PAID" />
				</and>
			</condition>
				<link target="javascript:showSetPaymentStatus()"  url-mode="plain" link-type="hidden-form">
				<parameter param-name="paymentId" from-field="payment.paymentId" />
				<parameter param-name="statusId" value="PMNT_SENT" />
			</link>
		</menu-item>
		<menu-item name="statusToReceived"
			title="${uiLabelMap.AccountingPaymentTabStatusToReceived}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_PAYMENT_EDIT" />
					<not>
						<if-empty field="payment.paymentId" />
					</not>
					<if-compare field="isDisbursement" operator="equals"
						value="false" />
					<if-compare field="payment.statusId" operator="equals"
						value="PMNT_NOT_PAID" />
				</and>
			</condition>
			<link target="javascript:showSetPaymentStatus()"  url-mode="plain" link-type="hidden-form">
				<parameter param-name="paymentId" from-field="payment.paymentId" />
				<parameter param-name="statusId" value="PMNT_RECEIVED" />
			</link>
		</menu-item>
		<!-- <menu-item name="statusToCancelled"
			title="${uiLabelMap.AccountingPaymentTabStatusToCancelled}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_PAYMENTSTATUS_CANCEL" />
					<not>
						<if-empty field="payment.paymentId" />
					</not>
					<if-compare field="payment.statusId" operator="equals"
						value="PMNT_NOT_PAID" />
				</and>
			</condition>
			<link target="setPaymentStatus" request-confirmation="true"
				confirmation-message="You want to cancel this payment number ${payment.paymentId}?">
				<parameter param-name="paymentId" from-field="payment.paymentId" />
				<parameter param-name="statusId" value="PMNT_CANCELLED" />
			</link>
		</menu-item> -->
		<!-- <menu-item name="statusToConfirmed"
			title="${uiLabelMap.AccountingPaymentTabStatusToConfirmed}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_PAYMENTSTATUS_CONFIRMED" />
					<not>
						<if-empty field="payment.paymentId" />
					</not>
					<or>
						<if-compare field="payment.statusId" operator="equals"
							value="PMNT_RECEIVED" />
						<if-compare field="payment.statusId" operator="equals"
							value="PMNT_SENT" />
					</or>
				</and>
			</condition>
			<link target="setPaymentStatus">
				<parameter param-name="paymentId" from-field="payment.paymentId" />
				<parameter param-name="statusId" value="PMNT_CONFIRMED" />
			</link>
		</menu-item> -->
		<!-- <menu-item name="printAsCheck" title="${uiLabelMap.AccountingPrintAsCheck}">
			<condition>
				<and>
					<not>
						<if-empty field="payment.paymentId" />
					</not>
					<if-compare field="payment.statusId" operator="equals"
						value="PMNT_NOT_PAID" />
				</and>
			</condition>
			<link target="printChecks.pdf">
				<parameter param-name="paymentId" from-field="payment.paymentId" />
			</link>
		</menu-item> -->
		<menu-item name="statusToVoidPayment"
			title="${uiLabelMap.AccountingPaymentTabStatusToVoid}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_PAYMENTSTATUS_CANCEL" />
					<not>
						<if-empty field="payment.paymentId" />
					</not>
					<and>
						<if-compare field="payment.statusId" operator="not-equals"
							value="PMNT_CONFIRMED" />
						<if-compare field="payment.statusId" operator="not-equals"
							value="PMNT_VOID" />
					</and>
				</and>
			</condition>
			<link  target="javascript:getPaymentDescription()" url-mode="plain" link-type="hidden-form">
				<parameter param-name="paymentId" from-field="payment.paymentId" />
			</link>
		</menu-item>
		<!-- <menu-item name="DebitNote"
			title="Debit/Credit Note">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_PAYMENTSTATUS_CANCEL" />
					<not>
						<if-empty field="payment.paymentId" />
					</not>
					<and>
						<if-compare field="payment.statusId" operator="not-equals"
							value="PMNT_CONFIRMED" />
						<if-compare field="payment.statusId" operator="not-equals"
							value="PMNT_VOID" />
					</and>
				</and>
			</condition>
			<link target="DebitNote" target-window="_BLANK">
				<parameter param-name="paymentId" from-field="payment.paymentId"/>
			</link>
		</menu-item> -->
		<!-- <menu-item name="paymentAccountTrans"
			title="Payment Accounting Trans PDF">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_PAYMENTSTATUS_CANCEL" />
					<not>
						<if-empty field="payment.paymentId" />
					</not>
					<and>
						<if-compare field="payment.statusId" operator="not-equals"
							value="PMNT_CONFIRMED" />
						<if-compare field="payment.statusId" operator="not-equals"
							value="PMNT_VOID" />
					</and>
				</and>
			</condition>
			<link target="PaymentTranspdf" target-window="_BLANK">
				<parameter param-name="paymentId" from-field="payment.paymentId"/>
			</link>
		</menu-item> -->
		<!-- <menu-item name="paymentVoucher"
			title="Payment Voucher">
			<link target="printAdvAndDepositReceipt.pdf" target-window="_BLANK">
				<parameter param-name="paymentId" from-field="payment.paymentId"/>
			</link>
		</menu-item> -->
		<menu-item name="paymentCheque"
			title="Print Cheque">
			<link target="printChecks.pdf" target-window="_BLANK">
				<parameter param-name="paymentId" from-field="payment.paymentId"/>
			</link>
		</menu-item>
	</menu>

	<menu name="PaymentGroupTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml">
		<menu-item name="PaymentGroupOverview" title="${uiLabelMap.AccountingPaymentTabOverview}">
			<link target="PaymentGroupOverview">
				<parameter param-name="paymentGroupId" from-field="paymentGroup.paymentGroupId" />
			</link>
		</menu-item>
		<menu-item name="EditPaymentGroup" title="${uiLabelMap.CommonGroup}">
			<condition>
				<not>
					<if-empty field="paymentGroup.paymentGroupId" />
				</not>
			</condition>
			<link target="EditPaymentGroup">
				<parameter param-name="paymentGroupId" from-field="paymentGroup.paymentGroupId" />
			</link>
		</menu-item>
		<menu-item name="EditPaymentGroupMember" title="${uiLabelMap.AccountingGroupMembers}">
			<condition>
				<not>
					<if-empty field="paymentGroup.paymentGroupId" />
				</not>
			</condition>
			<link target="EditPaymentGroupMember">
				<parameter param-name="paymentGroupId" from-field="paymentGroup.paymentGroupId" />
			</link>
		</menu-item>
	</menu>

	<menu name="PaymentGroupSubTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		menu-container-style="button-bar button-style-2">
		<menu-item name="createNew"
			title="${uiLabelMap.AccountingCreateNewPaymentGroup}" widget-style="buttontext create">
			<condition>
				<not>
					<if-empty field="paymentGroup" />
				</not>
			</condition>
			<link target="EditPaymentGroup" />
		</menu-item>
		<menu-item name="depositSlip" title="${uiLabelMap.AccountingDepositSlip}">
			<condition>
				<and>
					<if-compare field="display" operator="equals" value="true" />
					<if-compare field="paymentGroup.paymentGroupTypeId"
						operator="equals" value="BATCH_PAYMENT" />
					<not>
						<if-empty field="paymentGroupMembers" />
					</not>
				</and>
			</condition>
			<link target="DepositSlip.pdf">
				<parameter param-name="paymentGroupId" from-field="paymentGroup.paymentGroupId" />
			</link>
		</menu-item>
		<menu-item name="printCheck" title="${uiLabelMap.AccountingPrintChecks}">
			<condition>
				<and>
					<if-compare field="display" operator="equals" value="true" />
					<if-compare field="paymentGroup.paymentGroupTypeId"
						operator="equals" value="CHECK_RUN" />
					<not>
						<if-empty field="paymentGroupMembers" />
					</not>
				</and>
			</condition>
			<link target="printChecks.pdf">
				<parameter param-name="paymentGroupId" from-field="paymentGroup.paymentGroupId" />
			</link>
		</menu-item>
		<menu-item name="cancelpaymentGroup"
			title="${uiLabelMap.AccountingCancelBatchPayments}">
			<condition>
				<and>
					<not>
						<if-empty field="paymentGroupMembers" />
					</not>
					<not>
						<if-empty field="paymentGroup" />
					</not>
					<if-empty field="glReconciliationId" />
					<if-compare field="paymentGroup.paymentGroupTypeId"
						operator="equals" value="BATCH_PAYMENT" />
				</and>
			</condition>
			<link target="cancelPaymentGroup">
				<parameter param-name="paymentGroupId" from-field="paymentGroup.paymentGroupId" />
			</link>
		</menu-item>
		<menu-item name="cancelCheckRunPayments" title="${uiLabelMap.AccountingCancelCheckRun}">
			<condition>
				<and>
					<not>
						<if-empty field="paymentGroupMembers" />
					</not>
					<not>
						<if-empty field="paymentGroup" />
					</not>
					<if-compare field="paymentGroup.paymentGroupTypeId"
						operator="equals" value="CHECK_RUN" />
				</and>
			</condition>
			<link target="cancelCheckRunPayments">
				<parameter param-name="paymentGroupId" from-field="paymentGroup.paymentGroupId" />
			</link>
		</menu-item>
	</menu>

	<menu name="FixedAssetMaintTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml" 
		selected-menuitem-context-field-name="tabButtonItemFixedAssetMaint" default-menu-item-name="EditFixedAssetMaint"> 
		<menu-item name="EditFixedAssetMaint" title="${uiLabelMap.AccountingFixedAssetMaint}"> 
		<link target="EditFixedAssetMaint"> <parameter param-name="fixedAssetId" 
		from-field="fixedAssetMaint.fixedAssetId"/> <parameter param-name="maintHistSeqId" 
		from-field="fixedAssetMaint.maintHistSeqId"/> </link> </menu-item> <menu-item 
		name="EditFixedAssetMeters" title="${uiLabelMap.AccountingFixedAssetMeters}"> 
		<link target="EditFixedAssetMeters"> <parameter param-name="fixedAssetId"/> 
		<parameter param-name="maintHistSeqId"/> <parameter param-name="productMeterTypeId" 
		from-field="fixedAssetMaint.intervalMeterTypeId"/> </link> </menu-item>
		<menu-item name="EditFixedAssetMaintOrders" title="${uiLabelMap.AccountingFixedAssetMaintOrders}"> 
		<link target="EditFixedAssetMaintOrders"> <parameter param-name="fixedAssetId" 
		from-field="fixedAssetMaint.fixedAssetId"/> <parameter param-name="maintHistSeqId" 
		from-field="fixedAssetMaint.maintHistSeqId"/> </link> </menu-item> </menu>

	<menu name="FixedAssetTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		default-menu-item-name="EditFixedAsset">
		<menu-item name="EditFixedAsset" title="${uiLabelMap.AccountingFixedAsset}">
			<link target="EditFixedAsset">
				<parameter param-name="fixedAssetId" />
			</link>
		</menu-item>
		<menu-item name="FixedAssetChildren" title="${uiLabelMap.CommonEntityChildren}">
			<link target="FixedAssetChildren">
				<parameter param-name="fixedAssetId" />
				<parameter param-name="trail" from-field="fixedAssetId" />
			</link>
		</menu-item>
		<menu-item name="ListFixedAssetProducts" title="${uiLabelMap.AccountingFixedAssetProducts}"> 
			<link target="ListFixedAssetProducts"> <parameter param-name="fixedAssetId"/> 
			</link> </menu-item>
		<menu-item name="ListFixedAssetCalendar" title="${uiLabelMap.AccountingFixedAssetCalendar}">
			<link target="calendar">
				<parameter param-name="fixedAssetId" />
			</link>
		</menu-item>
		<menu-item name="EditFixedAssetStdCosts" title="${uiLabelMap.AccountingFixedAssetStdCosts}"> 
			<link target="EditFixedAssetStdCosts"> <parameter param-name="fixedAssetId"/> 
			</link> </menu-item>
		<menu-item name="EditFixedAssetIdents" title="${uiLabelMap.AccountingFixedAssetIdents}">
			<link target="EditFixedAssetIdents">
				<parameter param-name="fixedAssetId" />
			</link>
		</menu-item>
		<menu-item name="EditFixedAssetRegistrations"
			title="${uiLabelMap.AccountingFixedAssetRegistrations}">
			<link target="EditFixedAssetRegistrations">
				<parameter param-name="fixedAssetId" />
			</link>
		</menu-item>
		<menu-item name="EditFixedAssetMeters" title="${uiLabelMap.AccountingFixedAssetMeters}"> 
			<link target="EditFixedAssetMeters"> <parameter param-name="fixedAssetId"/> 
			</link> </menu-item> <menu-item name="ListFixedAssetMaints" title="${uiLabelMap.AccountingFixedAssetMaints}"> 
			<link target="ListFixedAssetMaints"> <parameter param-name="fixedAssetId"/> 
			</link> </menu-item> <menu-item name="EditPartyFixedAssetAssignments" title="${uiLabelMap.AccountingPartyFixedAssetAssignments}"> 
			<link target="EditPartyFixedAssetAssignments"> <parameter param-name="fixedAssetId"/> 
			</link> </menu-item>
		<menu-item name="FixedAssetDepreciation"
			title="${uiLabelMap.AccountingFixedAssetDepreciation}">
			<link target="showFixedAssetDepreciation">
				<parameter param-name="fixedAssetId" />
			</link>
		</menu-item>
		<menu-item name="FixedAssetGeoLocation" title="${uiLabelMap.CommonGeoLocation}"> 
			<link target="FixedAssetGeoLocation"> <parameter param-name="fixedAssetId"/> 
			</link> </menu-item>
	</menu>

	<menu name="PartyGlShortCuts">
		<menu-item name="CreateSalesAcctgTrans">
			<link target="CreateAcctgTransAndEntries" text="${uiLabelMap.AccountingCreateSalesAcctgTrans}"
				style="buttontext">
				<parameter param-name="organizationPartyId" />
				<parameter param-name="debitGlAccountClassId" value="CURRENT_ASSET" />
				<parameter param-name="creditGlAccountClassId" value="REVENUE" />
				<parameter param-name="acctgTransTypeId" value="SALES" />
			</link>
		</menu-item>
		<menu-item name="CreatePaymentAcctgTrans">
			<link target="CreateAcctgTransAndEntries" text="${uiLabelMap.AccountingCreatePaymentAcctgTrans}"
				style="buttontext">
				<parameter param-name="organizationPartyId" />
				<parameter param-name="debitGlAccountClassId" value="CASH_EQUIVALENT" />
				<parameter param-name="creditGlAccountClassId" value="CURRENT_LIABILITY" />
				<parameter param-name="acctgTransTypeId" value="PAYMENT_ACCTG_TRANS" />
			</link>
		</menu-item>
		<menu-item name="PartyGlUnpostedAcctgTrans">
			<link text="${uiLabelMap.PageTitleUnpostedTransactions}" style="buttontext"
				target="ListUnpostedAcctgTrans">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="PartyGlTrianBalance">
			<link target="TrialBalance" text="${uiLabelMap.AccountingTrialBalance}"
				style="buttontext">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="PartyIncomeStatement">
			<link target="IncomeStatement" text="${uiLabelMap.AccountingIncomeStatement}"
				style="buttontext">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="PartyBalanceSheet">
			<link target="BalanceSheet" text="${uiLabelMap.AccountingBalanceSheet}"
				style="buttontext">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
	</menu>
	<menu name="EditGlAcctgTransSubTabBar" menu-container-style="button-bar button-style-2"
		default-selected-style="selected">
		<!-- <menu-item name="DuplicateAccountingTransaction"> <link text="${uiLabelMap.AccountingDuplicateAccountingTransaction}" 
			style="buttontext" target="copyAcctgTransAndEntries"> <parameter param-name="revert" 
			value="N"/> <parameter param-name="fromAcctgTransId" from-field="acctgTransId"/> 
			<parameter param-name="organizationPartyId"/> </link> </menu-item> -->
		<!-- <menu-item name="RevertAccountingTransaction">
			<link text="${uiLabelMap.AccountingRevertAccountingTransaction}"
				style="buttontext" target="copyAcctgTransAndEntries">
				<parameter param-name="revert" value="Y" />
				<parameter param-name="fromAcctgTransId" from-field="acctgTransId" />
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item> -->
		<menu-item name="acctgTransDetailReportPdf">
			<condition>
				<not>
					<if-empty field="acctgTransId" />
				</not>
				
			</condition>
			<link text="${uiLabelMap.CommonPdf}" style="buttontext"	target="acctgTransDetailReportPdf.pdf">
				<parameter param-name="acctgTransId" />
			</link>
		</menu-item>
		<menu-item name="CompleteAcctgTransFields">
			<condition>
				<if-compare field="acctgTrans.isPosted" operator="equals"
					value="N" />
			</condition>
			<link text="${uiLabelMap.AccountingCompleteAcctgTransFields}"
				style="buttontext" target="completeAcctgTransEntries">
				<parameter param-name="acctgTransId" />
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="VerifyTransaction">
			<condition>
				<if-compare field="acctgTrans.isPosted" operator="equals"
					value="N" />
			</condition>
			<link text="${uiLabelMap.AccountingVerifyTransaction}" style="buttontext"
				target="postAcctgTrans">
				<parameter param-name="acctgTransId" />
				<parameter param-name="organizationPartyId" />
				<parameter param-name="verifyOnly" value="Y" />
			</link>
		</menu-item>
		<menu-item name="PostTransaction">
			<condition>
				<if-compare field="acctgTrans.isPosted" operator="equals"
					value="N" />
			</condition>
			<link text="${uiLabelMap.AccountingPostTransaction}" style="buttontext"
				target="postAcctgTrans">
				<parameter param-name="acctgTransId" />
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
	</menu>
	<menu name="PartyTopTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		selected-menuitem-context-field-name="tabButtonItemTop"
		default-menu-item-name="PartyAccountsSummary">
		<menu-item name="Admin" title="${uiLabelMap.AccountingSetup}">
			<condition>
				<if-service-permission service-name="acctgPrefPermissionCheck"
					main-action="VIEW" />
			</condition>
			<link target="AdminMain">
				<parameter param-name="organizationPartyId" from-field="organizationPartyId" />
			</link>
		</menu-item>
		<!--<menu-item name="PartyAccounts" title="${uiLabelMap.AccountingAccounting}"> 
			<condition> <if-service-permission service-name="basicGeneralLedgerPermissionCheck" 
			main-action="VIEW" /> </condition> <link target="PartyAccountsSummary"> <parameter 
			param-name="organizationPartyId" from-field="organizationPartyId" /> </link> 
			</menu-item> -->
	</menu>
	<menu name="OrganizationAccountingGlReconciliationTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		default-menu-item-name="AccountReconciliation">
		<menu-item name="AccountReconciliation" title="${uiLabelMap.AccountingAcctRecon}">
			<link target="findGlAccountReconciliation">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="AccountReconciliations" title="${uiLabelMap.AccountingAcctRecons}">
			<link target="findGlAccountReconciliations">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
	</menu>
	<menu name="OrganizationAccountingTransactionTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		default-menu-item-name="FindAcctgTrans">
		<menu-item name="FindAcctgTrans" title="${uiLabelMap.AccountingAcctgTrans}">
			<link target="FindAcctgTrans">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="FindAcctgTransEntries" title="${uiLabelMap.AccountingAcctgTransEntries}">
			<link target="FindAcctgTransEntries">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
	</menu>
	<menu name="OrganizationAccountingTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		default-menu-item-name="PartyAccountsSummary">
		<menu-item name="PartyAccountsSummary" title="${uiLabelMap.AcctgPartyGlJournalSummary}">
			<link target="PartyAccountsSummary">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="AccountReconciliation" title="${uiLabelMap.AccountingAcctRecon}">
			<link target="findGlAccountReconciliation">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="AccountReconciliations" title="${uiLabelMap.AccountingAcctRecons}">
			<link target="findGlAccountReconciliations">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="FindAcctgTrans" title="${uiLabelMap.AccountingAcctgTrans}">
			<link target="FindAcctgTrans">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="FindAcctgTransEntries" title="${uiLabelMap.AccountingAcctgTransEntries}">
			<link target="FindAcctgTransEntries">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="OrganizationAccountingReports" title="${uiLabelMap.AccountingReports}">
			<link target="TrialBalance">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="ChecksTabButton" title="${uiLabelMap.AccountingChecks}">
			<link target="listChecksToPrint">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
	</menu>
	<menu name="OrganizationAccountingReportsTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		selected-menuitem-context-field-name="tabButtonItem2"
		default-menu-item-name="TrialBalance">		
		<menu-item name="TrialBalance" title="${uiLabelMap.AccountingTrialBalance}">
			<link target="TrialBalance">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="TrialBalanceDrillDown" title="${uiLabelMap.AccountingTrialBalanceDrillDown}">
			<condition>
				<if-has-permission permission="ACCTG_ADDNL"  action="_VIEW"/>
			</condition>
			<link target="TrialBalanceDrillDown">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>		
		<menu-item name="TransactionTotals" title="${uiLabelMap.AccountingTransactionTotals}">
			<condition>
				<if-has-permission permission="ACCTG_ADDNL"  action="_VIEW"/>
			</condition>
			<link target="TransactionTotals">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="SubLedgers" title="Sub Ledgers">
			<condition>
				<if-has-permission permission="ACCTG_ADDNL"  action="_VIEW"/>
			</condition>
			<link target="SubLedgers">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="IncomeStatement" title="${uiLabelMap.AccountingIncomeStatement}">
		   <condition>
			  <if-has-permission permission="ACCOUNTINGR"  action="_BLS_VIEW"/>				
			</condition>
			<link target="IncomeStatement">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="CashFlowStatement" title="${uiLabelMap.AccountingCashFlowStatement}">
		    <condition>
		    <and>
		    <if-has-permission permission="ACCOUNTINGR"  action="_BLS_VIEW"/>
		    <if-has-permission permission="ACCTG_ADDNL"  action="_VIEW"/>
		    </and>
			</condition>
			<link target="CashFlowStatement">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<!-- <menu-item name="BalanceSheet" title="${uiLabelMap.AccountingBalanceSheet}">
		     <condition>
			  <if-has-permission permission="ACCOUNTINGR"  action="_BLS_VIEW"/>				
			</condition>
			<link target="BalanceSheet">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item> -->
	  <menu-item name="BalanceSheetForIndian" title="Indian Format Balance Sheet">
	       <condition>
	       <and>
	       <if-has-permission permission="ACCTG_ADDNL"  action="_VIEW"/>
		   <if-has-permission permission="ACCOUNTINGR"  action="_BLS_VIEW"/>
	       </and>
		   </condition>
			<link target="BalanceSheetForIndian">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="ComparativeIncomeStatement"
			title="${uiLabelMap.AccountingComparativeIncomeStatement}">
			 <condition>
			 <and>
			  <if-has-permission permission="ACCOUNTINGR"  action="_BLS_VIEW"/>	
			  <if-has-permission permission="ACCTG_ADDNL"  action="_VIEW"/>
			 </and>
			</condition>
			<link target="ComparativeIncomeStatement">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="ComparativeCashFlowStatement"
			title="${uiLabelMap.AccountingComparativeCashFlowStatement}">
			<condition>
			<and>
			  <if-has-permission permission="ACCOUNTINGR"  action="_BLS_VIEW"/>	
			  <if-has-permission permission="ACCTG_ADDNL"  action="_VIEW"/>	
			</and>
			</condition>
			<link target="ComparativeCashFlowStatement">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="ComparativeBalanceSheet"
			title="${uiLabelMap.AccountingComparativeBalanceSheet}">
			<condition>
			<and>
				<if-has-permission permission="ACCOUNTINGR"  action="_BLS_VIEW"/>	
			  <if-has-permission permission="ACCTG_ADDNL"  action="_VIEW"/>	
			</and>
			</condition>
			<link target="ComparativeBalanceSheet">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="GlAccountTrialBalance"
			title="${uiLabelMap.AccountingGlAccountTrialBalance}">
			 <condition>
			 <and>
			  <if-has-permission permission="ACCOUNTINGR"  action="_BLS_VIEW"/>	
			  <if-has-permission permission="ACCTG_ADDNL"  action="_VIEW"/>	
			 </and>
			</condition>
			<link target="GlAccountTrialBalance">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<!-- <menu-item name="InventoryValuation" title="${uiLabelMap.AccountingInventoryValuation}"> 
			<link target="InventoryValuation"> <parameter param-name="organizationPartyId"/> 
			</link> </menu-item> -->
		<menu-item name="GlAccountBalanceByCostCenter" title="${uiLabelMap.FormFieldTitle_costCenters}">
		     <condition>
		     <and>
		      <if-has-permission permission="ACCOUNTINGR"  action="_BLS_VIEW"/>	
			  <if-has-permission permission="ACCTG_ADDNL"  action="_VIEW"/>	
		     </and>
			</condition>
			<link target="GlAccountBalanceByCostCenter">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="AgingAnalysis" title="${uiLabelMap.AccountingAgingAnalysis}">
			<condition>
			<and>
			  <if-has-permission permission="ACCOUNTING"  action="_ADMIN"/>	
			  <if-has-permission permission="ACCTG_ADDNL"  action="_VIEW"/>	
			</and>
			</condition>		    
			<link target="AgingAnalysis">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<!-- <menu-item name="FinancialAccountingTrans" title="Financial Account Trans">
			<link target="FinancialAccountingTrans">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>	 -->	
	</menu>
	<menu name="PartyAdminTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		default-menu-item-name="PartyAcctgPreference">
		<menu-item name="PartyAcctgPreference" title="${uiLabelMap.AccountingPreference}">
			<link target="PartyAcctgPreference">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="ListGlAccountOrganization" title="${uiLabelMap.AccountingChartOfAcctsMenu}">
			<link target="ListGlAccountOrganization">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="SetupGlJournals" title="${uiLabelMap.AccountingGlJournals}">
			<link target="SetupGlJournals">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="GlAccountAssignment" title="${uiLabelMap.AccountingGlAccountDefault}">
			<link target="GlAccountAssignment">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="TimePeriods" title="${uiLabelMap.AccountingTimePeriod}">
			<link target="TimePeriods">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
	</menu>
	<menu name="PartyAdminAssignTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		selected-menuitem-context-field-name="tabButtonItem2"
		default-menu-item-name="GlAccountSalInvoice">
		<menu-item name="GlAccountTypeDefaults"
			title="${uiLabelMap.AccountingGlAccountTypeDefaults}">
			<link target="GlAccountTypeDefaults">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<!--<menu-item name="ProductGlAccounts" title="${uiLabelMap.AccountingProductGlAccount}"> 
			<link target="editProductGlAccounts"> <parameter param-name="organizationPartyId"/> 
			</link> </menu-item> <menu-item name="ProductCategoryGlAccounts" title="${uiLabelMap.AccountingProductCategoryGlAccount}"> 
			<link target="editProductCategoryGlAccounts"> <parameter param-name="organizationPartyId"/> 
			</link> </menu-item> -->
		<menu-item name="FinAccountTypeGlAccounts"
			title="${uiLabelMap.AccountingFinAccountTypeGlAccount}">
			<link target="editFinAccountTypeGlAccounts">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="GlAccountSalInvoice" title="${uiLabelMap.AccountingInvoiceSales}">
			<link target="GlAccountSalInvoice">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="GlAccountPurInvoice" title="${uiLabelMap.AccountingInvoicePurchase}">
			<link target="GlAccountPurInvoice">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="GlAccountTypePaymentType"
			title="${uiLabelMap.AccountingPaymentType}/${uiLabelMap.FormFieldTitle_glAccountTypeId}">
			<link target="GlAccountTypePaymentType">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="GlAccountNrPaymentMethod"
			title="${uiLabelMap.AccountingPaymentMethodId}/${uiLabelMap.AccountingGlAccountId}">
			<link target="GlAccountNrPaymentMethod">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<!--<menu-item name="VarianceReasonGlAccounts" title="${uiLabelMap.AccountingVarianceReasonGlAccounts}"> 
			<link target="editVarianceReasonGlAccounts"> <parameter param-name="organizationPartyId"/> 
			</link> </menu-item> -->
		<!--<menu-item name="CreditCardTypeGlAccount"
			title="${uiLabelMap.AccountingCreditCardTypeGlAccount}">
			<link target="editCreditCardTypeGlAccounts">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>-->
		<menu-item name="TaxAuthorityGlAccounts"
			title="${uiLabelMap.AccountingTaxAuthorityGlAccounts}">
			<link target="editOrganizationTaxAuthorityGlAccount">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="PartyGlAccounts" title="${uiLabelMap.AccountingPartyGlAccounts}">
			<link target="editPartyGlAccounts">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="FixedAssetTypeGlAccounts" title="${uiLabelMap.AccountingFixedAssetTypeGlAccounts}"> 
			<link target="FixedAssetTypeGlAccounts"> <parameter param-name="organizationPartyId"/> 
			</link> </menu-item>
	</menu>
	<menu name="PartyAccountingChecksTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		selected-menuitem-context-field-name="tabButtonItem2"
		default-menu-item-name="GlAccountSalInvoice">
		<menu-item name="PrintChecksTabButton" title="${uiLabelMap.AccountingPrintChecks}">
			<link target="listChecksToPrint">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="SendChecksTabButton" title="${uiLabelMap.AccountingSendChecks}">
			<link target="listChecksToSend">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
	</menu>

	<menu name="GlobalGLSettingMenus" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		default-menu-item-name="chartofaccounts">
		<menu-item name="Chartofaccounts" title="${uiLabelMap.AccountingChartOfAcctsMenu}">
			<link target="FindGlobalGlAccount" />
		</menu-item>
		<menu-item name="EditCustomTimePeriod"
			title="${uiLabelMap.AccountingEditCustomTimePeriods}">
			<link target="EditCustomTimePeriod" />
		</menu-item>
		<!--<menu-item name="Costs" title="${uiLabelMap.ManufacturingCostCalcs}"> 
			<link target="EditCostCalcs"/> </menu-item> -->
		<menu-item name="PaymentMethodTypes" title="${uiLabelMap.CommonPaymentMethodType}">
			<link target="editPaymentMethodType" />
		</menu-item>
		<menu-item name="ViewRateAmounts" title="${uiLabelMap.AccountingRates}">
			<link target="viewRateAmounts" />
		</menu-item>
		<!--<menu-item name="InvoiceItemTypes" title="${uiLabelMap.AccountingInvoiceItemType}"> 
			<link target="editInvoiceItemType"/> </menu-item> <menu-item name="ViewFXConversions" 
			title="${uiLabelMap.AccountingFX}"> <condition> <if-service-permission service-name="acctgFxPermissionCheck" 
			main-action="UPDATE"/> </condition> <link target="viewFXConversions"> <parameter 
			param-name="organizationPartyId"/> </link> </menu-item> <menu-item name="FindGlAccountCategory" 
			title="${uiLabelMap.FormFieldTitle_glAccountCategory}"> <link target="FindGlAccountCategory"/> 
			</menu-item> <menu-item name="CostCenters" title="${uiLabelMap.FormFieldTitle_costCenters}"> 
			<link target="CostCenters"/> </menu-item> -->
	</menu>

	<menu name="AgreementTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml">
		<menu-item name="AgreementMain" title="${uiLabelMap.AccountingAgreement}">
			<link target="EditAgreement">
				<parameter param-name="agreementId" from-field="agreement.agreementId" />
			</link>
		</menu-item>
		<menu-item name="AgreementTerms" title="${uiLabelMap.AccountingAgreementTerms}">
			<link target="EditAgreementTerms">
				<parameter param-name="agreementId" from-field="agreement.agreementId" />
			</link>
		</menu-item>
		<menu-item name="AgreementItems" title="${uiLabelMap.AccountingAgreementItems}">
			<link target="ListAgreementItems">
				<parameter param-name="agreementId" from-field="agreement.agreementId" />
			</link>
		</menu-item>
		<menu-item name="AgreementWorkEffortApplics"
			title="${uiLabelMap.AccountingAgreementWorkEffortApplics}">
			<link target="EditAgreementWorkEffortApplics">
				<parameter param-name="agreementId" from-field="agreement.agreementId" />
			</link>
		</menu-item>
		<menu-item name="AgreementRoles" title="${uiLabelMap.AccountingAgreementRoles}">
			<link target="EditAgreementRoles">
				<parameter param-name="agreementId" from-field="agreement.agreementId" />
			</link>
		</menu-item>
	</menu>

	<menu name="AgreementItemTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		selected-menuitem-context-field-name="buttonBarItem">
		<menu-item name="EditAgreementItem" title="${uiLabelMap.AccountingAgreementItem}">
			<link target="EditAgreementItem">
				<parameter param-name="agreementId" from-field="agreementItem.agreementId" />
				<parameter param-name="agreementItemSeqId" from-field="agreementItem.agreementItemSeqId" />
			</link>
		</menu-item>
		<menu-item name="ListAgreementPromoAppls"
			title="${uiLabelMap.AccountingAgreementPromoAppls}">
			<link target="ListAgreementPromoAppls">
				<parameter param-name="agreementId" from-field="agreementItem.agreementId" />
				<parameter param-name="agreementItemSeqId" from-field="agreementItem.agreementItemSeqId" />
			</link>
		</menu-item>
		<menu-item name="ListAgreementItemTerms" title="${uiLabelMap.AccountingAgreementItemTerms}">
			<link target="ListAgreementItemTerms">
				<parameter param-name="agreementId" from-field="agreementItem.agreementId" />
				<parameter param-name="agreementItemSeqId" from-field="agreementItem.agreementItemSeqId" />
			</link>
		</menu-item>

		<menu-item name="ListAgreementItemSupplierProducts" title="${uiLabelMap.ProductProducts}">
			<condition>
				<if-compare field="agreement.agreementTypeId" operator="equals"
					value="PURCHASE_AGREEMENT" />
			</condition>
			<link target="ListAgreementItemSupplierProducts">
				<parameter param-name="agreementId" from-field="agreementItem.agreementId" />
				<parameter param-name="agreementItemSeqId" from-field="agreementItem.agreementItemSeqId" />
			</link>
		</menu-item>

		<menu-item name="ListAgreementItemProducts" title="${uiLabelMap.ProductProducts}">
			<condition>
				<if-compare field="agreement.agreementTypeId" operator="not-equals"
					value="PURCHASE_AGREEMENT" />
			</condition>
			<link target="ListAgreementItemProducts">
				<parameter param-name="agreementId" from-field="agreementItem.agreementId" />
				<parameter param-name="agreementItemSeqId" from-field="agreementItem.agreementItemSeqId" />
			</link>
		</menu-item>

		<menu-item name="ListAgreementItemParties" title="${uiLabelMap.Party}">
			<link target="ListAgreementItemParties">
				<parameter param-name="agreementId" from-field="agreementItem.agreementId" />
				<parameter param-name="agreementItemSeqId" from-field="agreementItem.agreementItemSeqId" />
			</link>
		</menu-item>
		<menu-item name="ListAgreementGeographicalApplic" title="${uiLabelMap.CommonGeo}">
			<link target="ListAgreementGeographicalApplic">
				<parameter param-name="agreementId" from-field="agreementItem.agreementId" />
				<parameter param-name="agreementItemSeqId" from-field="agreementItem.agreementItemSeqId" />
			</link>
		</menu-item>
	</menu>

	<menu name="BillingAccountTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml">
		<menu-item name="FindBillingAccount" title="${uiLabelMap.CommonFind}">
			<link target="FindBillingAccount" />
		</menu-item>
		<menu-item name="EditBillingAccount" title="${uiLabelMap.AccountingAccount}">
			<link target="EditBillingAccount">
				<parameter param-name="billingAccountId" from-field="billingAccount.billingAccountId" />
			</link>
		</menu-item>
		<menu-item name="EditBillingAccountRoles" title="${uiLabelMap.PartyRoles}">
			<link target="EditBillingAccountRoles">
				<parameter param-name="billingAccountId" from-field="billingAccount.billingAccountId" />
			</link>
		</menu-item>
		<menu-item name="EditBillingAccountTerms" title="${uiLabelMap.PartyTerms}">
			<link target="EditBillingAccountTerms">
				<parameter param-name="billingAccountId" from-field="billingAccount.billingAccountId" />
			</link>
		</menu-item>
		<menu-item name="BillingAccountInvoices" title="${uiLabelMap.AccountingInvoices}">
			<link target="BillingAccountInvoices">
				<parameter param-name="billingAccountId" from-field="billingAccount.billingAccountId" />
			</link>
		</menu-item>
		<menu-item name="BillingAccountPayments" title="${uiLabelMap.CommonPayments}">
			<link target="BillingAccountPayments">
				<parameter param-name="billingAccountId" from-field="billingAccount.billingAccountId" />
			</link>
		</menu-item>
		<menu-item name="BillingAccountOrders" title="${uiLabelMap.AccountingOrders}">
			<link target="BillingAccountOrders">
				<parameter param-name="billingAccountId" from-field="billingAccount.billingAccountId" />
			</link>
		</menu-item>
	</menu>

	<menu name="GlAccountTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml">
		<menu-item name="FindGlobalGlAccount" title="${uiLabelMap.AcctgChartOfAcctsTabMenu}">
			<link target="FindGlobalGlAccount" />
		</menu-item>
		<menu-item name="GlAccountNavigate" title="${uiLabelMap.AcctgNavigateAccts}">
			<link target="GlAccountNavigate" />
		</menu-item>
		<menu-item name="AssignGlAccount" title="${uiLabelMap.AcctgAssignGlAccount}">
			<link target="AssignGlAccount" />
		</menu-item>
	</menu>

	<menu name="GlSettingTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		selected-menuitem-context-field-name="tabButtonItem2">
		<menu-item name="GlAccountNavigate" title="${uiLabelMap.AcctgNavigateAccts}">
			<link target="GlAccountNavigate">
				<parameter param-name="trail" value="null" />
			</link>
		</menu-item>
		<menu-item name="AssignGlAccount" title="${uiLabelMap.AcctgAssignGlAccount}">
			<condition>
			<if-has-permission permission="ACCOUNTING"  action="_GLACCOUNT_EDIT"/>				
			</condition>
			<link target="AssignGlAccount" />
		</menu-item>
	</menu>

	<menu name="TransactionsTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml">
		<menu-item name="authorizetransactiontab" title="${uiLabelMap.AccountingAuthorize}">
			<link target="AuthorizeTransaction" />
		</menu-item>
		<menu-item name="capturetransactiontab" title="${uiLabelMap.AccountingCapture}">
			<link target="CaptureTransaction" />
		</menu-item>
		<!--<menu-item name="gatewayresponsestab" title="${uiLabelMap.AccountingGatewayResponses}"> 
			<link target="FindGatewayResponses"/> </menu-item> -->
		<menu-item name="manualtransactiontab" title="${uiLabelMap.AccountingManualTransaction}">
			<link target="ManualTransaction" />
		</menu-item>
	</menu>

	<!--<menu name="PaymentGatewayConfigTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml"> 
		<menu-item name="paymentGatewayConfigTab" title="${uiLabelMap.AccountingPaymentGatewayConfig}"> 
		<link target="FindPaymentGatewayConfig"/> </menu-item> <menu-item name="paymentGatewayConfigTypesTab" 
		title="${uiLabelMap.AccountingPaymentGatewayConfigTypes}"> <link target="FindPaymentGatewayConfigTypes"/> 
		</menu-item> </menu> -->
	<!--<menu name="GlAccountCategoryTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml" 
		selected-menuitem-context-field-name="tabButtonItem2"> <menu-item name="EditGlAccountCategory" 
		title="${uiLabelMap.FormFieldTitle_glAccountCategory}"> <link target="EditGlAccountCategory"> 
		<parameter param-name="glAccountCategoryId"/> <parameter param-name="glAccountCategoryTypeId"/> 
		</link> </menu-item> <menu-item name="EditGlAccountCategoryMember" title="${uiLabelMap.FormFieldTitle_glAccountCategoryMember}"> 
		<link target="EditGlAccountCategoryMember"> <parameter param-name="glAccountCategoryId"/> 
		</link> </menu-item> </menu> -->
	<menu name="FinAccountTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		default-menu-item-name="EditFinAccount">
		<menu-item name="FindFinAccount" title="${uiLabelMap.PageTitleFindFinAccount}">
			<link target="FindFinAccount" />
		</menu-item>
		<menu-item name="EditFinAccount" title="${uiLabelMap.AccountingFinAccount}">
			<link target="EditFinAccount">
				<parameter param-name="finAccountId" />
			</link>
		</menu-item>
		<menu-item name="EditFinAccountRoles" title="${uiLabelMap.PartyRoles}">
			<link target="EditFinAccountRoles">
				<parameter param-name="finAccountId" />
			</link>
		</menu-item>
		<menu-item name="FinAccountTrans"
			title="${uiLabelMap.AccountingFinAccountTransations}">
			<link target="FindFinAccountTrans">
				<parameter param-name="finAccountId" />
			</link>
		</menu-item>
		<menu-item name="EditFinAccountAuths" title="${uiLabelMap.AccountingFinAccountAuth}">
			<condition>
				<if-compare field="finAccount.finAccountTypeId" operator="not-equals"
					value="BANK_ACCOUNT" />
			</condition>
			<link target="EditFinAccountAuths">
				<parameter param-name="finAccountId" />
			</link>
		</menu-item>
		<menu-item name="depositWithdraw" title="${uiLabelMap.AccountingDepositWithdraw}">
			<link target="FindPaymentsForDepositOrWithdraw">
				<parameter param-name="finAccountId" />
				<parameter param-name="organizationPartyId" from-field="finAccount.ownerPartyId" />
			</link>
		</menu-item>
		<!-- <menu-item name="findDepositSlips" title="${uiLabelMap.AccountingDepositSlips}">
			<link target="FindDepositSlips">
				<parameter param-name="finAccountId" />
				<parameter param-name="organizationPartyId" from-field="finAccount.ownerPartyId" />
			</link>
		</menu-item> -->
		<menu-item name="FindFinAccountReconciliations" title="${uiLabelMap.AccountingReconciliation}">
			<link target="FindFinAccountReconciliations">
				<parameter param-name="finAccountId" />
			</link>
		</menu-item>
	</menu>
	<menu name="FinAccountSubTabBar" menu-container-style="button-bar button-style-2"
		extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml">
		<menu-item name="createNew"
			title="${uiLabelMap.CommonCreateNew} ${uiLabelMap.AccountingFinAccount}">
			<condition>
			<if-has-permission permission="ACCOUNTING"  action="_FINACCOUNT_EDIT"/>				
			</condition>
			<link target="EditFinAccount" />
		</menu-item>
		<menu-item name="advancedFinAccountSearch" title="${uiLabelMap.CommonAdvancedSearch}">
			<condition>
				<if-compare field="displayAdvancedSearch" operator="not-equals"
					value="true" />
			</condition>
			<link target="FindFinAccount">
				<parameter param-name="displayAdvancedSearch" value="true" />
			</link>
		</menu-item>
		<menu-item name="quickFinAccountSearch" title="${uiLabelMap.AccountingQuickSearch}">
			<condition>
				<if-compare field="displayAdvancedSearch" operator="equals"
					value="true" />
			</condition>
			<link target="FindFinAccount" />
		</menu-item>
	</menu>
	<menu name="DepositFinAccountSubTabBar" menu-container-style="button-bar button-style-2"
		extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml">
		<menu-item name="createNew"
			title="${uiLabelMap.CommonCreateNew} ${uiLabelMap.AccountingFinAccount}">
			<condition>
			<if-has-permission permission="ACCOUNTING"  action="_FINACCOUNT_EDIT"/>				
			</condition>
			<link target="DepositEditFinAccount" />
		</menu-item>
		<!-- <menu-item name="advancedFinAccountSearch" title="${uiLabelMap.CommonAdvancedSearch}">
			<condition>
				<if-compare field="displayAdvancedSearch" operator="not-equals"
					value="true" />
			</condition>
			<link target="FindFinAccount">
				<parameter param-name="displayAdvancedSearch" value="true" />
			</link>
		</menu-item>
		<menu-item name="quickFinAccountSearch" title="${uiLabelMap.AccountingQuickSearch}">
			<condition>
				<if-compare field="displayAdvancedSearch" operator="equals"
					value="true" />
			</condition>
			<link target="FindFinAccount" />
		</menu-item> -->
	</menu>
	<menu name="FinAccountMainTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml">
		<menu-item name="finAccountMain" title="${uiLabelMap.CommonMain}">
			<link target="FinAccountMain" />
		</menu-item>
		<menu-item name="FindFinAccount" title="${uiLabelMap.PageTitleFindFinAccount}">
			<link target="FindFinAccount" />
		</menu-item>
	</menu>
	<menu name="FinAccountReconciliationsTabBar" menu-container-style="button-bar button-style-2">
		<menu-item name="Find"
			title="${uiLabelMap.AccountingFindFinAccountReconciliations}">
			<condition>
				<and>
					<not>
						<if-empty field="finAccountId" />
					</not>
					<not>
						<if-empty field="glReconciliationId" />
					</not>
					<if-compare field="tabButtonItem2" operator="not-equals"
						value="Find" />
				</and>
			</condition>
			<link target="FindFinAccountReconciliations">
				<parameter param-name="finAccountId" />
			</link>
		</menu-item>
		<menu-item name="NewFinAccountReconciliations"
			title="${uiLabelMap.AccountingCreateNewFinAccountReconciliations}">
			<condition>				
				<and>
				<if-has-permission permission="ACCOUNTING"  action="_FINACCOUNTREC_EDIT"/>			
					<and>
						<if-compare field="finAccount.statusId" operator="not-equals"
							value="FNACT_MANFROZEN" />
						<if-compare field="finAccount.statusId" operator="not-equals"
							value="FNACT_CANCELLED" />
					</and>
					<or>
						<not>
							<if-empty field="glReconciliationId" />
						</not>
						<if-compare field="tabButtonItem2" operator="equals"
							value="Find" />
					</or>
				</and>
			</condition>
			<link target="EditFinAccountReconciliations">
				<parameter param-name="finAccountId" />
			</link>
		</menu-item>
	</menu>
	<menu name="BudgetTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml">
		<menu-item name="find" title="${uiLabelMap.CommonFind}">
			<link target="findBudgets" />
		</menu-item>
		<menu-item name="overView" title="${uiLabelMap.BudgetOverView}">
			<condition>
				<not>
					<if-empty field="parameters.budgetId"/>
				</not>
			</condition>
			<link target="editBudget">
				<parameter param-name="budgetId" from-field="parameters.budgetId"/>
			</link>
		</menu-item>
		<menu-item name="revisions" title="${uiLabelMap.BudgetRevision}">
			<condition>
				<not>
					<if-empty field="parameters.budgetId"/>
				</not>
			</condition>
			<link target="listBudgetRevisions">
				<parameter param-name="budgetId" from-field="parameters.budgetId"/>
			</link>
		</menu-item>
	</menu>
	<menu name="BudgetSubTabBar" menu-container-style="button-bar button-style-2"
		default-selected-style="selected">
		<menu-item name="createNewBudget" title="${uiLabelMap.CreateNewBudget}"
			widget-style="buttontext create">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"  action="_BUDGET_EDIT"/>			
				
				</and>
			</condition>			
			<link target="newBudget" />
		</menu-item>
		<menu-item name="createNewRevision" title="${uiLabelMap.CreateNewBudgetRevision}"
			widget-style="buttontext create">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"  action="_BUDGETREVISION_CREATE"/>			
				<not>
					<if-empty field="parameters.budgetId"/>
				</not>
				</and>
			</condition>			
			<link target="createBudgetRevision">
				<parameter param-name="budgetId" from-field="parameters.budgetId"/>
			</link>
		</menu-item>
	</menu>	
	<menu name="BudgetRevisionTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml" selected-menuitem-context-field-name="tabButtonItem2">	
		<menu-item name="revisionDetails" title="${uiLabelMap.BudgetRevisionDetailTab}">
			<condition>
				<if-compare operator="equals" value="display" field="parameters.revisionDetailMenu"/>				
			</condition>
			<link target="viewBudgetRevisionDetails">
				<parameter param-name="budgetId" from-field="parameters.budgetId"/>
				<parameter param-name="revisionSeqId" from-field="parameters.revisionSeqId" />
				<parameter param-name="revisionDetailMenu" value="display"/>
			</link>
		</menu-item>		
	</menu>
	<menu name="IncomeStatementSubTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml" selected-menuitem-context-field-name="tabButtonItem3">
		<menu-item name="IncomeStatement" title="${uiLabelMap.AccountingIncomeStatement}">
			<link target="IncomeStatement">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="IncomeStatementDrillDown" title="${uiLabelMap.AccountingIncomeStatementDrillDown}">
			<link target="IncomeStatementDrillDown">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
	</menu>
	<menu name="BalanceSheetSubTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml" selected-menuitem-context-field-name="tabButtonItem3">
		<menu-item name="BalanceSheet" title="${uiLabelMap.AccountingBalanceSheet}">
			<link target="BalanceSheet">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
		<menu-item name="BalanceSheetDrillDown" title="${uiLabelMap.AccountingBalanceSheetDrillDown}">
			<link target="BalanceSheetDrillDown">
				<parameter param-name="organizationPartyId" />
			</link>
		</menu-item>
	</menu>		
	<!-- <menu name="CashierPaymentTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml"
          default-menu-item-name="Payments" selected-menuitem-context-field-name="subTabButtonItem">
           <menu-item name="FindReceivableVouchers" title="List Recipts Vouchers">
            <condition>
				<or>
            		<if-has-permission permission="MYPORTAL"  action="_CASHIER"/>
            	</or>            
            </condition>
            <link target="FindReceivableInvoices" >
            	<parameter param-name="subTabItem" value="FindReceiptInvoices"/>
            	<parameter param-name="paymentMethodTypeId" value="CHALLAN_PAYIN"/>
            </link>            
          </menu-item>
          <menu-item name="FindPayableInvoices" title="List Payable Vouchers">
            <condition>
				<or>
            		<if-has-permission permission="MYPORTAL"  action="_CASHIER"/>
            	</or>            
            </condition>
            <link target="FindPayableInvoices" >
            	<parameter param-name="subTabItem" value="newReceipts"/>
            	<parameter param-name="paymentMethodTypeId" value="CHALLAN_PAYIN"/>
            </link>            
          </menu-item>
          
          <menu-item name="CashPayment" title="Cash">
          	<condition>
				<or>
            		<if-has-permission permission="BYPRODUCTS"  action="_CASH"/>
            	</or>            
            </condition>
            <link target="FindPaymentByMethod">
            	<parameter param-name="subTabItem" value="CashPayment"/>
            	<parameter param-name="paymentMethodTypeId" value="CASH_PAYIN"/>
            </link>
          </menu-item>
          
    </menu> --> 
    <menu name="CashierPaymentTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml"
          default-menu-item-name="Payments" selected-menuitem-context-field-name="tabButtonItem">
           
         <!--  <menu-item name="findRouteCashPayment" title="Route Marketing">
          	<condition>
				<or>
				  <if-has-permission permission="ACCOUNTING"  action="_CASHIER"/>
            		<if-has-permission permission="BYPRODUCTS"  action="_CASH"/>
            	</or>            
            </condition>
            <link target="findRouteCashPayment">
            	<parameter param-name="subTabItem" value="CashPayment"/>
            	<parameter param-name="paymentMethodTypeId" value="CASH_PAYIN"/>
            </link>
          </menu-item> -->
          <menu-item name="APCashPaymentOther" title="AP Payments">
            <condition>
				<or>
            		<if-has-permission permission="ACCOUNTING"  action="_CASHIER"/>
            	</or>            
            </condition>
             <link target="findCashPayblePayment">
            </link>
          </menu-item>
          <menu-item name="CashPaymentOther" title="AR Payments">
            <condition>
				<or>
            		<if-has-permission permission="ACCOUNTING"  action="_CASHIER"/>
            	</or>            
            </condition>
             <link target="findCashReceipts">
            </link>
          </menu-item>
        <!--   <menu-item name="FindFinAccountAlt" title="BankAccounts">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_CASHIER"/>
            		<if-has-permission permission="BYPRODUCTS"  action="_CASH"/>
            	</or>            
            </condition>
			<link target="FindFinAccountAlt">
			<parameter param-name="screenFlag" value="BANKACCOUNT"/>
			</link>
		 </menu-item> -->
		<!--  <menu-item name="FindNonBankAccount" title="Non BankAccounts">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_CASHIER"/>
            		<if-has-permission permission="BYPRODUCTS"  action="_CASH"/>
            	</or>            
            </condition>
			<link target="FindNonBankAccount">
			</link>
		 </menu-item> -->
		 
          
          
          <menu-item name="EditFinAccountTransAlt" title="Deposit into Bank">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_CASHIER"/>
            		<if-has-permission permission="BYPRODUCTS"  action="_CASH"/>
            	</or>            
            </condition>
			<link target="EditFinAccountTransAlt">
			</link>
		 </menu-item>
		 <!-- <menu-item name="FinAccountTrans"
			title="Find FinAccount Transations">
			<condition>
				    <if-has-permission permission="ACCOUNTING"  action="_CASHIER"/>
            </condition>
			<link target="FindFinAccountTransAltNew">
				<parameter param-name="finAccountId" value="FIN_ACCNT1" />
				<parameter param-name="subTabItem" value="FinAccountTrans" />
			</link>
		</menu-item> -->
		 <!--  <menu-item name="AdhocSalePayment" title="AdhocSale Payment">
          <condition>
				<or>
				 <if-has-permission permission="ACCOUNTING"  action="_CASHIER"/>
            	</or>            
            </condition>
			<link target="findAdhocSalePayment">
			</link>
		 </menu-item> -->
		  <menu-item name="FinAccntCashBook" title="Cash Book">
          <condition>
				<or>
				 <if-has-permission permission="ACCOUNTING"  action="_CASHIER"/>
            	</or>            
            </condition>
			<link target="FinancialAccountingTransCASH">
			<!-- <parameter param-name="organizationPartyId" value="Company"/> -->
			</link>
		 </menu-item>
		 <!--  <menu-item name="CashierReports" title="CashReports">
          <condition>
				<or>
				 <if-has-permission permission="ACCOUNTING"  action="_CASHIER"/>
            	</or>            
            </condition>
			<link target="showCashierReports">
			</link>
		 </menu-item> -->
    </menu> 
     <menu name="NonRoutePaymentTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml"
          default-menu-item-name="Payments" selected-menuitem-context-field-name="subTabButtonItem">
           <menu-item name="findCashReceipts" title="AR Payments">
            <condition>
				<or>
            		<if-has-permission permission="ACCOUNTING"  action="_CASHIER"/>
            	</or>            
            </condition>
            <link target="findCashReceipts">
            </link>
          </menu-item>
          <!-- <menu-item name="findCashPayblePayment" title="Payments">
          	<condition>
				<or>
            		<if-has-permission permission="ACCOUNTING"  action="_CASHIER"/>
            	</or>            
            </condition>
            <link target="findCashPayblePayment">
            </link>
          </menu-item> -->
          
    </menu>
    <menu name="CashPaymentTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml"
          default-menu-item-name="Payments" selected-menuitem-context-field-name="subTabButtonItem">
         <menu-item name="findCashPayblePayment" title="AP Payments">
          	<condition>
				<or>
            		<if-has-permission permission="ACCOUNTING"  action="_CASHIER"/>
            	</or>            
            </condition>
            <link target="findCashPayblePayment">
            </link>
          </menu-item> 
    </menu>
    <!--
         -->
         <menu name="TreasurerMainTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml"
          default-menu-item-name="FindFinAccountAlt" selected-menuitem-context-field-name="tabButtonItem">
        
          <menu-item name="FindFinAccountAlt" title="BankAccounts">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="FindFinAccountAlt">
			<parameter param-name="screenFlag" value="BANKACCOUNT"/>
			</link>
		 </menu-item>
		  <menu-item name="InterUnitFindFinAccountAlt" title="Inter RO Accounts">
          <condition>
				<or> 
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="InterUnitFindFinAccountAlt">
			<parameter param-name="screenFlag" value="INTERUNITBANKACCOUNT"/>
			</link>
		 </menu-item>
		 <menu-item name="Grants" title="Grants">
			<link target="FindGrantDevelopmentalBankAccountTab" >
			
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem" />
				<parameter param-name="finAccountTypeId" value="GRANTS" />
				<parameter param-name="subTabItem" value="Grants"/>
			</link>
		</menu-item>
		<!--  <menu-item name="FindNonBankAccount" title="Non BankAccounts">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="FindNonBankAccount">
			</link>
		 </menu-item> -->
		  <menu-item name="FindInterUnitBankAccount" title="Head Office Accounts">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="FindInterUnitBankAccount">
			</link>
		 </menu-item>
		  <!-- <menu-item name="FindEmpLoanFinAccount" title="Scheme Accounts">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="FindEmpLoanFinAccount">
			</link>
		 </menu-item> -->
		<!--  <menu-item name="FindDepositAccount" title="Deposit Accounts">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="FindDepositAccount">
			</link>
		 </menu-item> -->
		 		 <menu-item name="FindDepositReceivedAccount" title="Deposit Received">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="FindDepositReceivedAccount">
			</link>
		 </menu-item>
		 <menu-item name="FindDepositPaidAccount" title="Deposit Paid">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="FindDepositPaidAccount">
			</link>
		 </menu-item>
		 <menu-item name="FindEmployeeAdv" title="Employee Advance">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="FindEmployeeAdv">
			</link>
		 </menu-item>
		 
		 <!-- <menu-item name="EmployeeAdvance" title="Employee Advance">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="EmployeeAdvance">
			</link>
		 </menu-item> -->
		 
		   <!-- <menu-item name="DepositTransfer" title="Deposit Transfer">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="DepositTransfer">
			</link>
		 </menu-item>   -->
		 <menu-item name="IncomingAdvances" title="On Account Received">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="IncomingAdvancesReceived">
			</link>
		 </menu-item>
		 <menu-item name="OutgoingAdvances" title="On Account Paid">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="OutgoingAdvancesPaid">
			</link>
		 </menu-item>
		 <!-- <menu-item name="BankGuaranteeReceipt" title="Bank Guarantee">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="BankGuaranteeReceipt">
			</link>
		 </menu-item> -->
		 <!-- <menu-item name="IncomingDeposits" title="Deposits Received">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="IncomingDepositsReceived">
			</link>
		 </menu-item>
		 <menu-item name="OutgoingDeposits" title="Deposits Paid">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="OutgoingDepositsPaid">
			</link>
		 </menu-item> --> 
		  <menu-item name="PaymentOverview" title="Payment Overview">
          <condition>
				<and>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
				    <not><if-empty field="paymentId"/></not>
            	</and>            
            </condition>
			<link target="PortalPaymentOverview">
			</link>
		 </menu-item>
		 <menu-item name="ContraEntry" title="Contra">
		  <condition>
		   	<and>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</and> 
           </condition>
			<link target="BankContraEntry">
			</link>
		</menu-item>
		<!-- <menu-item name="InterUnitContraEntry" title="Inter Unit Contra">
		  <condition>
		   	<and>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</and> 
           </condition>
			<link target="InterUnitContraEntry">
			</link>
		</menu-item>   
		<menu-item name="BatchContraEntry" title="Batch Contra">
		  <condition>
		   	<and>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</and> 
           </condition>
			<link target="BatchBankContraEntry">
			</link>
		</menu-item> -->
		 <menu-item name="BankBook" title="Bank Book">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="FinancialAccountingTransBANK">
				<parameter param-name="organizationPartyId" value="Company"/>
			</link>
		 </menu-item>
		 <menu-item name="accountPayable" title="Account Payable">
		     <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			 <link target="ApInvoices">
             	<parameter param-name="invoiceTypeId" value="PURCHASE_INVOICE" />
             	<parameter param-name="subTabButtonValue" value="PurchaseInvoice" />
             	<parameter param-name="actionSubTabButtonValue" value="find" />
             </link>
		</menu-item>
		<menu-item name="accountReceivable" title="Account Receivable">
		     <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="ArInvoices">
				<parameter param-name="invoiceTypeId" value="MIS_INCOME_IN" />
             	<parameter param-name="subTabButtonValue" value="Miscellaneous" />
             	<parameter param-name="actionSubTabButtonValue" value="find" />
			</link>
		</menu-item>
		<menu-item name="accountReceivable" title="Account Receivable">
		     <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="ArInvoices">
				<parameter param-name="invoiceTypeId" value="MIS_INCOME_IN" />
             	<parameter param-name="subTabButtonValue" value="OpeningBalance" />
             	<parameter param-name="actionSubTabButtonValue" value="find" />
			</link>
		</menu-item>
		<menu-item name="apSingleGroupPayment" title="Single Payment">
			     <condition>
					<or>
					    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
	            	</or>            
	            </condition>
				<link target="apSingleGroupPayment"></link>
			</menu-item>
		<menu-item name="treasurerPayments" title="Search Payments">
		     <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="FindTreasurerPayments">
			</link>
		</menu-item>
		<menu-item name="GroupPaymentNew" title="Batch Payments">
        	<condition>
				<or>
            		<if-has-permission permission="BATCHPAY"  action="_CREATE"/>
            		<if-has-permission permission="BATCHPAY"  action="_CHECK"/>
            	</or>
            </condition>
            <link target="GroupPaymentNew">
            </link>
        </menu-item>
        <menu-item name="apGroupPayment" title="Group Payment">
		     <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="apGroupPayment"></link>
		</menu-item> 
		<!-- <menu-item name="cpfAccounts" title="CPF Accounts">
		     <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="cpfAccounts"></link>
		</menu-item>  -->
		<menu-item name="Reports" title="Reports">
		     <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="AccountReports">
			</link>
		</menu-item>
          
          <!-- <menu-item name="EditFinAccountTransAlt" title="${uiLabelMap.AccountingDepositWithdraw}">
          <condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_CASHIER"/>
            		<if-has-permission permission="BYPRODUCTS"  action="_CASH"/>
            	</or>            
            </condition>
			<link target="EditFinAccountTransAlt">
			</link>
		 </menu-item> -->
    </menu> 
    
    
    <menu name="NonBankAccountsSubTabBarNew" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml" 
			selected-menuitem-context-field-name="tabButtonItem2">
		<menu-item name="DevelopmentalGrant" title="Developmental Grant">
			<link target="FindGrantDevelopmentalBankAccountTab" >
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem2" />
			    <parameter param-name="finAccountTypeId" value="DEVEL_GRANTS" />
				<parameter param-name="subTabItem" value="DevelopmentalGrant"/>
			</link>
		</menu-item>
		<menu-item name="ImplementationGrants" title="Implementation Grants">
			<link target="FindGrantImplementationBankAccountTab" >
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem2" />
				<parameter param-name="finAccountTypeId" value="IMPL_GRANTS" />
				<parameter param-name="subTabItem" value="ImplementationGrants"/>
			</link>
		</menu-item>
	 </menu>
    
    
    <menu name="DepositAccountTabBar" extends="CommonTabBarMenu"	extends-resource="component://common/widget/CommonMenus.xml"
		default-menu-item-name="EditFinAccount" selected-menuitem-context-field-name="tabButtonItem2">

		<menu-item name="EditDepositFinAccount" title="Edit Account">
		 	<condition>
			     <and> 
					<not><if-empty field="ctxFinAccountId"/></not>
					<or><not><if-empty field="finAccountId"/></not></or>
           		 </and> 
           	</condition>
			<link target="EditDepositFinAccount">
				<parameter param-name="finAccountId" value="${ctxFinAccountId}" />
			</link>
		</menu-item>
		<menu-item name="WithdrawFromDepositAcct" title="Receive Deposit">
		  <condition>
		  	<and>
				<if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
				<not><if-empty field="ctxFinAccountId"/></not>
				<or><not><if-empty field="finAccountId"/></not></or>
            </and> 
           </condition>
			<link target="WithdrawFromDepositAcct">
				<parameter param-name="finAccountId" value="${ctxFinAccountId}" />
			</link>
		</menu-item>
		<menu-item name="DepositToDepositAcct" title="Refund Deposit">
		  <condition>
		  	<and>
				<if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
				<not><if-empty field="ctxFinAccountId"/></not>
				<or><not><if-empty field="finAccountId"/></not></or>
            </and> 
           </condition>
			<link target="DepositToDepositAcct">
				<parameter param-name="finAccountId" value="${ctxFinAccountId}" />
			</link>
		</menu-item> 
	</menu>
	
      <menu name="CompanyFinAccountTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml"
		default-menu-item-name="EditFinAccount" selected-menuitem-context-field-name="tabButtonItem2">
	 <!--   <actions> 
            <script location="component://accounting/webapp/accounting/WEB-INF/actions/EditFinaccount.groovy"/>
		</actions>	 -->
		<!-- <menu-item name="FindFinAccountAlt" title="Bank Accounts">
		  <condition>
			     <and> 
					<if-compare field="finAccount.finAccountTypeId" operator="equals" value="BANK_ACCOUNT" /> 
           		 </and> 
           	</condition>
			<link target="FindFinAccountAlt" />
		</menu-item> -->
		<menu-item name="EditFinAccountAlt" title="${uiLabelMap.AccountingFinAccount}">
		 	<condition>
			     <and> 
					<not><if-empty field="ctxFinAccountId"/></not>
					<or><not><if-empty field="finAccountId"/></not></or>
					<!-- <if-compare field="finAccount.finAccountTypeId" operator="equals" value="BANK_ACCOUNT" /> -->
           		 </and> 
           	</condition>
			<link target="EditFinAccountAlt">
				<parameter param-name="finAccountId" value="${ctxFinAccountId}" />
			</link>
		</menu-item> 
		<menu-item name="depositWithdraw" title="${uiLabelMap.AccountingDepositWithdraw}">
		    <condition>
				<and>
					<not><if-empty field="ctxFinAccountId"/></not>
					<or><not><if-empty field="finAccountId"/></not></or>
					<!-- <if-compare field="finAccount.finAccountTypeId" operator="equals" value="BANK_ACCOUNT" /> -->
					</and>
           	</condition>
			<link target="FindBankDepositOrWithdraw">
				<parameter param-name="finAccountId" value="${ctxFinAccountId}" />
				<parameter param-name="organizationPartyId" from-field="finAccount.ownerPartyId" />
			</link>
		</menu-item>
		<menu-item name="FinAccountTrans"
			title="Find Transations">
			<condition>
				<and>
					<not><if-empty field="ctxFinAccountId"/></not>
					<or><not><if-empty field="finAccountId"/></not></or>
					<!-- <if-compare field="finAccount.finAccountTypeId" operator="equals" value="BANK_ACCOUNT" /> -->
					</and>
           	</condition>
			<link target="FindFinAccountTransAlt">
				<parameter param-name="finAccountId" value="${ctxFinAccountId}" />
				<parameter param-name="subTabItem" value="FinAccountTrans" />
			</link>
		</menu-item>
		<menu-item name="FinAccountTransForReconsile"
			title="Reconciliation">
			<condition>
				<and>
					<not><if-empty field="ctxFinAccountId"/></not>
					<or><not><if-empty field="finAccountId"/></not></or>
					<!-- <if-compare field="finAccount.finAccountTypeId" operator="equals" value="BANK_ACCOUNT" /> -->
					</and>
           	</condition>
			<link target="FinAccountTransForReconsile">
				<parameter param-name="finAccountId" value="${ctxFinAccountId}" />
				<parameter param-name="glReconciliationId" value="_NA_" />
				<parameter param-name="subTabItem" value="FinAccountTransForReconsile" />
			</link>
		</menu-item>
		<menu-item name="FindFinAccountReconciliations" title="Reconciliation Batches">
		     <condition>
				<and>
					<not><if-empty field="ctxFinAccountId"/></not>
					<or><not><if-empty field="finAccountId"/></not></or>
					<!-- <if-compare field="finAccount.finAccountTypeId" operator="equals" value="BANK_ACCOUNT" /> -->
					</and>
           	</condition>
			<link target="FindFinAccountReconciliationsNew">
				<parameter param-name="finAccountId" />
			</link>
		</menu-item>
		<menu-item name="FindFinnwithdrawal" title="Find utilisation invoices">
			
			<condition>
				<and>
					<not><if-empty field="ctxFinAccountId"/></not>
					<or><not><if-empty field="finAccountId"/></not></or>
					<or>
						<if-compare field="finAccount.finAccountTypeId" operator="equals" value="DEVEL_GRANTS" />
						<if-compare field="finAccount.finAccountTypeId" operator="equals" value="IMPL_GRANTS" /> 
					</or>
					
					
					</and>
           	</condition>
			<link target="FindApGrantInvoices" >
				<parameter param-name="finAccountId" />
				
				<parameter param-name="invoiceTypeId" from-field="invoice.invoiceTypeId" />
			
			</link>
		</menu-item>
		
		
		
		<menu-item name="Finnwithdrawal" title="Utilisation Invoice">
			<condition>
				<and> 
					<not><if-empty field="ctxFinAccountId"/></not>
					<or><not><if-empty field="finAccountId"/></not></or>
					<or>
						<if-compare field="finAccount.finAccountTypeId" operator="equals" value="DEVEL_GRANTS" />
						<if-compare field="finAccount.finAccountTypeId" operator="equals" value="IMPL_GRANTS" /> 
					</or>
					</and>
           	</condition>
			<link target="CreateAPGrantInvoice">
		<parameter param-name="finAccountTypeId" />
		<parameter param-name="finAccountId" />
		<parameter param-name="tabButtonItem2" value="Finnwithdrawal" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="showCreateButton" value="Y" />
				<parameter param-name="invoiceTypeId" value="GRANT_OUT" />
				<parameter param-name="purposeTypeId" from-field="invoice.purposeTypeId" />
			
			</link>
		</menu-item>
	</menu>
	<menu name="BankGuaranteeTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml"
          default-menu-item-name="Payments" selected-menuitem-context-field-name="tabButtonItem4">
          <menu-item name="BankGuaranteeReceipt" title="Receipts">
             <link target="BankGuaranteeReceipt"></link>
          </menu-item>
          <menu-item name="BankGuaranteeRefund" title="Refunds">
             <link target="BankGuaranteeRefund"></link>
          </menu-item>
    </menu>
	<menu name="IncomingAdvancesTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml"
          default-menu-item-name="Payments" selected-menuitem-context-field-name="tabButtonItem4">
          <menu-item name="IncomingAdvancesReceived" title="Receipts">
             <link target="IncomingAdvancesReceived"></link>
          </menu-item>
          <menu-item name="IncomingAdvancesRefund" title="Refunds">
             <link target="IncomingAdvancesRefund"></link>
          </menu-item>
    </menu>
    <menu name="OutgoingAdvancesTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml"
          default-menu-item-name="Payments" selected-menuitem-context-field-name="tabButtonItem4">
          <menu-item name="OutgoingAdvancesPaid" title="Payments">
             <link target="OutgoingAdvancesPaid"></link>
          </menu-item>
          <menu-item name="OutgoingAdvancesRefund" title="Refunds">
             <link target="OutgoingAdvancesRefund"></link>
          </menu-item>
    </menu>
    <menu name="EmployeeAdvanceTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml"
          default-menu-item-name="Payments" selected-menuitem-context-field-name="tabButtonItem4">
          <menu-item name="EmployeeAdvance" title="Payments">
             <link target="EmployeeAdvance"></link>
          </menu-item>
          <menu-item name="EmployeeAdvanceRefund" title="Refunds">
             <link target="EmployeeAdvanceRefund"></link>
          </menu-item>
    </menu>
    <menu name="IncomingDepositsTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml"
          default-menu-item-name="Payments" selected-menuitem-context-field-name="tabButtonItem4">
          <menu-item name="IncomingDepositsReceived" title="Receipts">
             <link target="IncomingDepositsReceived"></link>
          </menu-item>
          <menu-item name="IncomingDepositsRefund" title="Refunds">
             <link target="IncomingDepositsRefund"></link>
          </menu-item>
    </menu>
    <menu name="OutgoingDepositsTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml"
          default-menu-item-name="Payments" selected-menuitem-context-field-name="tabButtonItem4">
          <menu-item name="OutgoingDepositsPaid" title="Payments">
             <link target="OutgoingDepositsPaid"></link>
          </menu-item>
          <menu-item name="OutgoingDepositsRefund" title="Refunds">
             <link target="OutgoingDepositsRefund"></link>
          </menu-item>
    </menu>
    <menu name="ContraEntryTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml"
          default-menu-item-name="Payments" selected-menuitem-context-field-name="tabButtonItem4">
          <menu-item name="BankContraEntry" title="Contra Transactions">
             <link target="BankContraEntry"></link>
          </menu-item>
    </menu>
     <menu name="InterUnitContraEntryTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml"
          default-menu-item-name="Payments" selected-menuitem-context-field-name="tabButtonItem4">
          <menu-item name="InterUnitContraEntryReceipts" title="Inter Unit Contra Receipts">
             <link target="InterUnitContraEntry"></link>
          </menu-item>
          <menu-item name="InterUnitContraPayments" title="Inter Unit Contra Payments">
             <link target="InterUnitContraPayments"></link>
          </menu-item>
    </menu>
    <menu name="BatchContraEntryTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml"
          default-menu-item-name="Payments" selected-menuitem-context-field-name="tabButtonItem4">
          <menu-item name="BatchBankContraEntry" title="Batch Contra Transactions">
             <link target="BatchBankContraEntry"></link>
          </menu-item>
    </menu>
    
    <!-- ======  Quick Create AR  Invoice Menus  ====== -->
    
    <menu name="QuickCreateInvoiceTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml">
		<actions>
				<script location="component://accounting/webapp/accounting/WEB-INF/actions/hideAcctgMenuItem.groovy"/>
		</actions>
		<menu-item name="find" title="${uiLabelMap.CommonFind}">
			<link target="findInvoices" />
		</menu-item>
		<menu-item name="invoiceOverview" title="${uiLabelMap.AccountingInvoiceOverview}">
			<condition>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
			</condition>
			<link target="QuickInvoiceOverview">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<menu-item name="editInvoice" title="Create/Update Invoice">
			<link target="newQuickCreateInvoice">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
	</menu>
    
    <menu name="QuickCreateInvoiceSubTabBar" menu-container-style="button-bar button-style-2"
		default-selected-style="selected">
		<!-- <menu-item name="createNew" title="${uiLabelMap.CommonCreateNew}"
			widget-style="buttontext create">
			<condition>
				<and>
					<not>
						<if-compare operator="equals" value="accounting"
							field="localDispatcherName" />
					</not>
					<or>
						<if-has-permission permission="ACCOUNTING"
							action="_ARINVOICE_EDIT" />
						<if-has-permission permission="ACCOUNTING"
							action="_APINVOICE_EDIT" />
					</or>
				</and>
			</condition>
			<link target="newInvoice" />
		</menu-item> -->
		
		<menu-item name="pdf" title="${uiLabelMap.AccountingInvoicePDF}">
			<condition>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
			</condition>
			<link target="invoice.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<menu-item name="newCashPdf" title="Cash Voucher PDF">
			<condition>
			  <and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
				    <if-compare field="invoice.prefPaymentMethodTypeId" operator="equals" value="CASH" />
			  </and>
			</condition>
			<link target="invoiceNew.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<menu-item name="newBankPdf" title="Bank Voucher PDF">
			<condition>
			<and>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
				<if-compare field="invoice.prefPaymentMethodTypeId" operator="equals" value="BANK" />
			</and>
			</condition>
			<link target="invoiceNew.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<menu-item name="pdfDfltCur"
			title="${uiLabelMap.AccountingInvoicePDFDefaultCur}(${defaultOrganizationPartyCurrencyUomId})">
			<condition>
				<and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<if-compare-field field="invoice.currencyUomId"
						operator="not-equals" to-field="defaultOrganizationPartyCurrencyUomId" />
				</and>
			</condition>
			<link target="invoice.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="currency"
					from-field="defaultOrganizationPartyCurrencyUomId" />
			</link>
		</menu-item>
		<menu-item name="statusToApproved"
			title="${uiLabelMap.AccountingInvoiceStatusToApproved}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_IN_PROCESS" />
						<!-- <if-compare field="invoice.statusId" operator="equals" value="INVOICE_SENT"/> 
							<if-compare field="invoice.statusId" operator="equals" value="INVOICE_RECEIVED"/> -->
					</or>
				</and>
			</condition>
			<link target="QuickSetInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_APPROVED" />
			</link>
		</menu-item>		
		<menu-item name="statusToReceived"
			title="${uiLabelMap.AccountingInvoiceStatusToReceived}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<if-compare field="invoice.statusId" operator="equals"
						value="INVOICE_IN_PROCESS" />
					<or>
						<if-compare field="invoice.invoiceTypeId" operator="equals"
							value="PURCHASE_INVOICE" />
						<if-compare field="invoice.invoiceTypeId" operator="equals"
							value="CUST_RTN_INVOICE" />
					</or>
				</and>
			</condition>
			<link target="QuickSetInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_RECEIVED" />
			</link>
		</menu-item>
		<menu-item name="statusToSent"
			title="${uiLabelMap.AccountingInvoiceStatusToSent}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<or>
						<and>
							<not>
								<if-empty field="invoice.invoiceId" />
							</not>
							<if-compare field="invoice.statusId" operator="equals"
								value="INVOICE_IN_PROCESS" />
							<if-compare field="invoice.invoiceTypeId" operator="equals"
								value="SALES_INVOICE" />
						</and>
						<and>
							<not>
								<if-empty field="invoice.invoiceId" />
							</not>
							<if-compare field="invoice.statusId" operator="equals"
								value="INVOICE_APPROVED" />
							<if-compare field="invoice.invoiceTypeId" operator="equals"
								value="SALES_INVOICE" />
						</and>
					</or>
				</and>
			</condition>
			<link target="QuickSetInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_SENT" />
			</link>
		</menu-item>
		<menu-item name="statusToReady"
			title="${uiLabelMap.AccountingInvoiceStatusToReady}">
			<condition>
				<and>
					<or>
						<if-has-permission permission="ACCOUNTING"
							action="_ARINVOICE_EDIT" />
						<if-has-permission permission="ACCOUNTING"
							action="_APINVOICE_EDIT" />
					</or>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<!-- <if-compare field="invoice.statusId" operator="equals" value="INVOICE_IN_PROCESS"/> 
							<if-compare field="invoice.statusId" operator="equals" value="INVOICE_SENT"/> 
							<if-compare field="invoice.statusId" operator="equals" value="INVOICE_RECEIVED"/> -->
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_APPROVED" />
					</or>
				</and>
			</condition>
			<link target="QuickSetInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_READY" />
			</link>
		</menu-item>
		<menu-item name="statusToPaid"
			title="${uiLabelMap.AccountingInvoiceStatusToPaid}">
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="not-equals"	value="PETTYCASH_INVOICE" />
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_READY" />
					</or>
				</and>
			</condition>
			<link target="QuickSetInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_PAID" />
			</link>
		</menu-item>
		<!-- <menu-item name="statusToWriteoff"
			title="${uiLabelMap.AccountingInvoiceStatusToWriteoff}">
			<condition>
				<and>
				<if-compare field="invoice.invoiceTypeId" operator="not-equals"	value="PETTYCASH_INVOICE" />
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_READY" />
					</or>
				</and>
			</condition>
			<link target="QuickSetInvoiceStatus" request-confirmation="true"
				confirmation-message="You want to writeoff this invoice number ${invoice.invoiceId}?">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_WRITEOFF" />
			</link>
		</menu-item> -->
		<menu-item name="statusToInProcess"
			title="${uiLabelMap.AccountingInvoiceStatusToInProcess}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_SENT" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_RECEIVED" />
					</or>
				</and>
			</condition>
			<link target="QuickSetInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_IN_PROCESS" />
			</link>
		</menu-item>
		<menu-item name="statusToCancelled"
			title="${uiLabelMap.AccountingInvoiceStatusToCancelled}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_IN_PROCESS" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_SENT" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_RECEIVED" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_READY" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_APPROVED" />
					</or>
				</and>
			</condition>
			<link target="QuickSetInvoiceStatus" request-confirmation="true"
				confirmation-message="You want to cancel this invoice number ${invoice.invoiceId}?">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_CANCELLED" />
			</link>
		</menu-item>
		<menu-item name="makeApayment" title="${uiLabelMap.MakePayment}">			
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="equals"	value="PETTYCASH_INVOICE" />
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_READY" />
				</and>			
			</condition>
			<link target="createPettyCashPayment">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="amount" value="${bsh:return(org.ofbiz.accounting.invoice.InvoiceWorker.getInvoiceTotal(invoice));}" />
				<parameter param-name="statusId" value="PMNT_NOT_PAID" />
				<parameter param-name="partyIdTo" value="${invoice.partyIdFrom}"  />
				<parameter param-name="partyIdFrom" value="${invoice.partyId}" />
				<parameter param-name="currencyUomId" value="${invoice.currencyUomId}" />							
			</link>
		</menu-item>
		<menu-item name="statusToConfirmed"
			title="${uiLabelMap.AccountingPaymentTabStatusToConfirmedPayment}">
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="equals"	value="PETTYCASH_INVOICE" />
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_PAID" />
					<if-has-permission permission="ACCOUNTING" action="_PAYMENTSTATUS_CONFIRMED" />
					<if-compare field="payment[0].statusId" operator="equals" value="PMNT_SENT" />
													
				</and>
			</condition>
			<link target="setPaymentStatusPettyCash">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="paymentId" value="${payment[0].paymentId}" />
				<parameter param-name="statusId" value="PMNT_CONFIRMED" />
			</link>
		</menu-item>
		<menu-item name="statusToVoidPayment"
			title="${uiLabelMap.AccountingPaymentTabStatusToVoidPayment}">
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="equals"	value="PETTYCASH_INVOICE" />
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_PAID" />
					<if-has-permission permission="ACCOUNTING" action="_PAYMENTSTATUS_CANCEL" />
					<if-compare field="payment[0].statusId" operator="equals" value="PMNT_SENT" />
				</and>
			</condition>
			<link target="voidPaymentPettyCash">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="paymentId" value="${payment[0].paymentId}" />
			</link>
		</menu-item>
		
	</menu>
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	<!-- ======  Quick Create AP Invoice Menus  ====== -->
	
	<menu name="QuickCreateAPInvoiceTabBar" extends="CommonTabBarMenu"
		extends-resource="component://common/widget/CommonMenus.xml">
		<actions>
				<script location="component://accounting/webapp/accounting/WEB-INF/actions/hideAcctgMenuItem.groovy"/>
		</actions>
		<menu-item name="find" title="${uiLabelMap.CommonFind}">
			<link target="findInvoices" />
		</menu-item>
		<menu-item name="invoiceOverview" title="${uiLabelMap.AccountingInvoiceOverview}">
			<condition>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
			</condition>
			<link target="QuickInvoiceOverview">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<menu-item name="editInvoice" title="Create/Update Invoice">
			<link target="newQuickCreateAPInvoice">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
	</menu>
    
    <menu name="QuickCreateAPInvoiceSubTabBar" menu-container-style="button-bar button-style-2"
		default-selected-style="selected">
		<!-- <menu-item name="createNew" title="${uiLabelMap.CommonCreateNew}"
			widget-style="buttontext create">
			<condition>
				<and>
					<not>
						<if-compare operator="equals" value="accounting"
							field="localDispatcherName" />
					</not>
					<or>
						<if-has-permission permission="ACCOUNTING"
							action="_ARINVOICE_EDIT" />
						<if-has-permission permission="ACCOUNTING"
							action="_APINVOICE_EDIT" />
					</or>
				</and>
			</condition>
			<link target="newInvoice" />
		</menu-item> -->
		
		<menu-item name="pdf" title="${uiLabelMap.AccountingInvoicePDF}">
			<condition>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
			</condition>
			<link target="invoice.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<menu-item name="newCashPdf" title="Cash Voucher PDF">
			<condition>
			  <and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
				    <if-compare field="invoice.prefPaymentMethodTypeId" operator="equals" value="CASH" />
			  </and>
			</condition>
			<link target="invoiceNew.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<menu-item name="newBankPdf" title="Bank Voucher PDF">
			<condition>
			<and>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
				<if-compare field="invoice.prefPaymentMethodTypeId" operator="equals" value="BANK" />
			</and>
			</condition>
			<link target="invoiceNew.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<menu-item name="pdfDfltCur"
			title="${uiLabelMap.AccountingInvoicePDFDefaultCur}(${defaultOrganizationPartyCurrencyUomId})">
			<condition>
				<and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<if-compare-field field="invoice.currencyUomId"
						operator="not-equals" to-field="defaultOrganizationPartyCurrencyUomId" />
				</and>
			</condition>
			<link target="invoice.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="currency"
					from-field="defaultOrganizationPartyCurrencyUomId" />
			</link>
		</menu-item>
		<menu-item name="statusToApproved"
			title="${uiLabelMap.AccountingInvoiceStatusToApproved}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_IN_PROCESS" />
						<!-- <if-compare field="invoice.statusId" operator="equals" value="INVOICE_SENT"/> 
							<if-compare field="invoice.statusId" operator="equals" value="INVOICE_RECEIVED"/> -->
					</or>
				</and>
			</condition>
			<link target="QuickSetAPInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_APPROVED" />
			</link>
		</menu-item>		
		<menu-item name="statusToReceived"
			title="${uiLabelMap.AccountingInvoiceStatusToReceived}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<if-compare field="invoice.statusId" operator="equals"
						value="INVOICE_IN_PROCESS" />
					<or>
						<if-compare field="invoice.invoiceTypeId" operator="equals"
							value="PURCHASE_INVOICE" />
						<if-compare field="invoice.invoiceTypeId" operator="equals"
							value="CUST_RTN_INVOICE" />
					</or>
				</and>
			</condition>
			<link target="QuickSetAPInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_RECEIVED" />
			</link>
		</menu-item>
		<menu-item name="statusToSent"
			title="${uiLabelMap.AccountingInvoiceStatusToSent}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<or>
						<and>
							<not>
								<if-empty field="invoice.invoiceId" />
							</not>
							<if-compare field="invoice.statusId" operator="equals"
								value="INVOICE_IN_PROCESS" />
							<if-compare field="invoice.invoiceTypeId" operator="equals"
								value="SALES_INVOICE" />
						</and>
						<and>
							<not>
								<if-empty field="invoice.invoiceId" />
							</not>
							<if-compare field="invoice.statusId" operator="equals"
								value="INVOICE_APPROVED" />
							<if-compare field="invoice.invoiceTypeId" operator="equals"
								value="SALES_INVOICE" />
						</and>
					</or>
				</and>
			</condition>
			<link target="QuickSetAPInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_SENT" />
			</link>
		</menu-item>
		<menu-item name="statusToReady"
			title="${uiLabelMap.AccountingInvoiceStatusToReady}">
			<condition>
				<and>
					<or>
						<if-has-permission permission="ACCOUNTING"
							action="_ARINVOICE_EDIT" />
						<if-has-permission permission="ACCOUNTING"
							action="_APINVOICE_EDIT" />
					</or>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<!-- <if-compare field="invoice.statusId" operator="equals" value="INVOICE_IN_PROCESS"/> 
							<if-compare field="invoice.statusId" operator="equals" value="INVOICE_SENT"/> 
							<if-compare field="invoice.statusId" operator="equals" value="INVOICE_RECEIVED"/> -->
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_APPROVED" />
					</or>
				</and>
			</condition>
			<link target="QuickSetAPInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_READY" />
			</link>
		</menu-item>
		<menu-item name="statusToPaid"
			title="${uiLabelMap.AccountingInvoiceStatusToPaid}">
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="not-equals"	value="PETTYCASH_INVOICE" />
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_READY" />
					</or>
				</and>
			</condition>
			<link target="QuickSetAPInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_PAID" />
			</link>
		</menu-item>
		<!-- <menu-item name="statusToWriteoff"
			title="${uiLabelMap.AccountingInvoiceStatusToWriteoff}">
			<condition>
				<and>
				<if-compare field="invoice.invoiceTypeId" operator="not-equals"	value="PETTYCASH_INVOICE" />
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_READY" />
					</or>
				</and>
			</condition>
			<link target="QuickSetAPInvoiceStatus" request-confirmation="true"
				confirmation-message="You want to writeoff this invoice number ${invoice.invoiceId}?">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_WRITEOFF" />
			</link>
		</menu-item> -->
		<menu-item name="statusToInProcess"
			title="${uiLabelMap.AccountingInvoiceStatusToInProcess}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_SENT" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_RECEIVED" />
					</or>
				</and>
			</condition>
			<link target="QuickSetAPInvoiceStatus">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_IN_PROCESS" />
			</link>
		</menu-item>
		<menu-item name="statusToCancelled"
			title="${uiLabelMap.AccountingInvoiceStatusToCancelled}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_IN_PROCESS" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_SENT" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_RECEIVED" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_READY" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_APPROVED" />
					</or>
				</and>
			</condition>
			<link target="QuickSetAPInvoiceStatus" request-confirmation="true"
				confirmation-message="You want to cancel this invoice number ${invoice.invoiceId}?">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_CANCELLED" />
			</link>
		</menu-item>
		<menu-item name="makeApayment" title="${uiLabelMap.MakePayment}">			
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="equals"	value="PETTYCASH_INVOICE" />
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_READY" />
				</and>			
			</condition>
			<link target="createPettyCashPayment">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="amount" value="${bsh:return(org.ofbiz.accounting.invoice.InvoiceWorker.getInvoiceTotal(invoice));}" />
				<parameter param-name="statusId" value="PMNT_NOT_PAID" />
				<parameter param-name="partyIdTo" value="${invoice.partyIdFrom}"  />
				<parameter param-name="partyIdFrom" value="${invoice.partyId}" />
				<parameter param-name="currencyUomId" value="${invoice.currencyUomId}" />							
			</link>
		</menu-item>
		<menu-item name="statusToConfirmed"
			title="${uiLabelMap.AccountingPaymentTabStatusToConfirmedPayment}">
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="equals"	value="PETTYCASH_INVOICE" />
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_PAID" />
					<if-has-permission permission="ACCOUNTING" action="_PAYMENTSTATUS_CONFIRMED" />
					<if-compare field="payment[0].statusId" operator="equals" value="PMNT_SENT" />
													
				</and>
			</condition>
			<link target="setPaymentStatusPettyCash">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="paymentId" value="${payment[0].paymentId}" />
				<parameter param-name="statusId" value="PMNT_CONFIRMED" />
			</link>
		</menu-item>
		<menu-item name="statusToVoidPayment"
			title="${uiLabelMap.AccountingPaymentTabStatusToVoidPayment}">
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="equals"	value="PETTYCASH_INVOICE" />
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_PAID" />
					<if-has-permission permission="ACCOUNTING" action="_PAYMENTSTATUS_CANCEL" />
					<if-compare field="payment[0].statusId" operator="equals" value="PMNT_SENT" />
				</and>
			</condition>
			<link target="voidPaymentPettyCash">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="paymentId" value="${payment[0].paymentId}" />
			</link>
		</menu-item>
		
	</menu>
	
	  <!-- ============== Treasurer Portal Invoices ============= -->
	 
	  
	<menu name="InvoiceTypesTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml" selected-menuitem-context-field-name="tabButtonItem5">
          <!-- <menu-item name="Manufacturing" title="Manufacturing">
             <link target="ApInvoices">
             	<parameter param-name="invoiceTypeId" value="COGS_OUT" />
             	<parameter param-name="subTabButtonValue" value="Manufacturing" />
             	<parameter param-name="actionSubTabButtonValue" value="find" />
             </link>
          </menu-item> --> 
           <menu-item name="PurchaseInvoice" title="Miller Invoice">
             <link target="ApInvoices">
             	<parameter param-name="invoiceTypeId" value="PURCHASE_INVOICE" />
             	<parameter param-name="subTabButtonValue" value="PurchaseInvoice" />
             	<parameter param-name="actionSubTabButtonValue" value="find" />
             </link>
          </menu-item>          
          <menu-item name="Admin" title="Admin">
             <link target="ApInvoices">
             	<parameter param-name="invoiceTypeId" value="ADMIN_OUT" />
             	<parameter param-name="subTabButtonValue" value="Admin" />
             	<parameter param-name="actionSubTabButtonValue" value="find" />
             </link>
          </menu-item>
         
          <!-- <menu-item name="SalesAndDistribution" title="Sales And Distribution">
             <link target="ApInvoices">
             	<parameter param-name="invoiceTypeId" value="SALES_DIS_OUT" />
             	<parameter param-name="subTabButtonValue" value="SalesAndDistribution" />
             	<parameter param-name="actionSubTabButtonValue" value="find" />
             </link>
          </menu-item>
          <menu-item name="Statutory" title="Statutory">
             <link target="ApInvoices">
             	<parameter param-name="invoiceTypeId" value="STATUTORY_OUT" />
             	<parameter param-name="subTabButtonValue" value="Statutory" />
             	<parameter param-name="actionSubTabButtonValue" value="find" />
             </link>
          </menu-item>
          <menu-item name="Finance" title="Finance">
             <link target="ApInvoices">
             	<parameter param-name="invoiceTypeId" value="FINANCE_OUT" />
             	<parameter param-name="subTabButtonValue" value="Finance" />
             	<parameter param-name="actionSubTabButtonValue" value="find" />
             </link>
          </menu-item> -->
          <!-- <menu-item name="Hyderabad" title="Hyderabad Expenses">
             <link target="ApInvoices">
             	<parameter param-name="invoiceTypeId" value="HYD_OUT" />
             	<parameter param-name="subTabButtonValue" value="Hyderabad" />
             	<parameter param-name="actionSubTabButtonValue" value="find" />
             </link>
          </menu-item>
          <menu-item name="MilkPurchasesYelahanka" title="Milk Purchases Yelahanka">
             <link target="ApInvoices">
             	<parameter param-name="invoiceTypeId" value="MILK_OUT" />
             	<parameter param-name="subTabButtonValue" value="MilkPurchasesYelahanka" />
             	<parameter param-name="actionSubTabButtonValue" value="find" />
             </link>
          </menu-item>
          <menu-item name="MilkPurchasesHyd" title="Milk Purchases Hyderabad">
             <link target="ApInvoices">
             	<parameter param-name="invoiceTypeId" value="MILK_OUT_HYD" />
             	<parameter param-name="subTabButtonValue" value="MilkPurchasesHyd" />
             	<parameter param-name="actionSubTabButtonValue" value="find" />
             </link>
          </menu-item> -->
    </menu>
    
    <menu name="APInvoiceTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml" selected-menuitem-context-field-name="tabButtonItem2">
		<actions>
				<script location="component://accounting/webapp/accounting/WEB-INF/actions/hideAcctgMenuItem.groovy"/>
		</actions>
		<menu-item name="find" title="${uiLabelMap.CommonFind}">
			<link target="ApInvoices" >
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceTypeId" from-field="invoice.invoiceTypeId" />
				<parameter param-name="actionSubTabButtonValue" value="find" />
			</link>
		</menu-item>
		<menu-item name="invoiceOverview" title="${uiLabelMap.AccountingInvoiceOverview}">
			<condition>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
			</condition>
			<link target="APInvoiceOverview">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceTypeId" from-field="invoiceTypeId" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="actionSubTabButtonValue" value="invoiceOverview" />
			</link>
		</menu-item>
		<menu-item name="createInvoice" title="Create Invoice">
			<condition>
				<and>
					<if-empty field="invoice.invoiceId"/>
					<if-compare operator="equals" value="Y" field="showCreateButton" />
				</and>
			</condition>
			<link target="CreateAPInvoice">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="showCreateButton" value="Y" />
				<parameter param-name="invoiceTypeId" from-field="invoice.invoiceTypeId" />
				<parameter param-name="actionSubTabButtonValue" value="createInvoice" />
			</link>
		</menu-item>
		<menu-item name="updateInvoice" title="Update Invoice">
			<condition>
				<and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_IN_PROCESS" />
				</and>
			</condition>
			<link target="CreateAPInvoice">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="invoiceTypeId" from-field="invoice.invoiceTypeId" />
				<parameter param-name="actionSubTabButtonValue" value="updateInvoice" />
			</link>
		</menu-item>
	</menu> 
	
	<menu name="CreateAPInvoiceSubTabBar" menu-container-style="button-bar button-style-2"
		default-selected-style="selected">
		<!-- <menu-item name="createNew" title="${uiLabelMap.CommonCreateNew}"
			widget-style="buttontext create">
			<condition>
				<and>
					<not>
						<if-compare operator="equals" value="accounting"
							field="localDispatcherName" />
					</not>
					<or>
						<if-has-permission permission="ACCOUNTING"
							action="_ARINVOICE_EDIT" />
						<if-has-permission permission="ACCOUNTING"
							action="_APINVOICE_EDIT" />
					</or>
				</and>
			</condition>
			<link target="newInvoice" />
		</menu-item> -->
		
		<menu-item name="pdf" title="Accounting Report">
			<condition>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
			</condition>
			<link target="acctgTransDetailReportPdf.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<menu-item name="newCashPdf" title="Cash Voucher PDF">
			<condition>
			  <and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
				    <if-compare field="invoice.prefPaymentMethodTypeId" operator="equals" value="CASH" />
			  </and>
			</condition>
			<link target="invoiceNew.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<!-- <menu-item name="newBankPdf" title="Bank Voucher PDF">
			<condition>
			<and>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
				<if-compare field="invoice.prefPaymentMethodTypeId" operator="equals" value="BANK" />
			</and>
			</condition>
			<link target="invoiceNew.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item> -->
		<menu-item name="pdfDfltCur"
			title="${uiLabelMap.AccountingInvoicePDFDefaultCur}(${defaultOrganizationPartyCurrencyUomId})">
			<condition>
				<and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<if-compare-field field="invoice.currencyUomId"
						operator="not-equals" to-field="defaultOrganizationPartyCurrencyUomId" />
				</and>
			</condition>
			<link target="invoice.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="currency"
					from-field="defaultOrganizationPartyCurrencyUomId" />
			</link>
		</menu-item>
		<menu-item name="statusToApproved"
			title="${uiLabelMap.AccountingInvoiceStatusToApproved}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_IN_PROCESS" />
						<!-- <if-compare field="invoice.statusId" operator="equals" value="INVOICE_SENT"/> 
							<if-compare field="invoice.statusId" operator="equals" value="INVOICE_RECEIVED"/> -->
					</or>
				</and>
			</condition>
			<link target="SetAPInvoiceStatus">
			<parameter param-name="purposeTypeId" value="GRANT_CHANNEL" />
			    <parameter param-name="finAccountTransTypeId" value="GRANT_DISB" />
			    <parameter param-name="finAccountId" from-field="parameters.finAccountId" />
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_APPROVED" />
			</link>
		</menu-item>		
		<menu-item name="statusToReceived"
			title="${uiLabelMap.AccountingInvoiceStatusToReceived}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<if-compare field="invoice.statusId" operator="equals"
						value="INVOICE_IN_PROCESS" />
					<or>
						<if-compare field="invoice.invoiceTypeId" operator="equals"
							value="PURCHASE_INVOICE" />
						<if-compare field="invoice.invoiceTypeId" operator="equals"
							value="CUST_RTN_INVOICE" />
					</or>
				</and>
			</condition>
			<link target="SetAPInvoiceStatus">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_RECEIVED" />
			</link>
		</menu-item>
		<menu-item name="statusToSent"
			title="${uiLabelMap.AccountingInvoiceStatusToSent}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<or>
						<and>
							<not>
								<if-empty field="invoice.invoiceId" />
							</not>
							<if-compare field="invoice.statusId" operator="equals"
								value="INVOICE_IN_PROCESS" />
							<if-compare field="invoice.invoiceTypeId" operator="equals"
								value="SALES_INVOICE" />
						</and>
						<and>
							<not>
								<if-empty field="invoice.invoiceId" />
							</not>
							<if-compare field="invoice.statusId" operator="equals"
								value="INVOICE_APPROVED" />
							<if-compare field="invoice.invoiceTypeId" operator="equals"
								value="SALES_INVOICE" />
						</and>
					</or>
				</and>
			</condition>
			<link target="SetAPInvoiceStatus">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_SENT" />
			</link>
		</menu-item>
		<menu-item name="statusToReady"
			title="${uiLabelMap.AccountingInvoiceStatusToReady}">
			<condition>
				<and>
					<or>
						<if-has-permission permission="ACCOUNTING"
							action="_ARINVOICE_EDIT" />
						<if-has-permission permission="ACCOUNTING"
							action="_APINVOICE_EDIT" />
					</or>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<!-- <if-compare field="invoice.statusId" operator="equals" value="INVOICE_IN_PROCESS"/> 
							<if-compare field="invoice.statusId" operator="equals" value="INVOICE_SENT"/> 
							<if-compare field="invoice.statusId" operator="equals" value="INVOICE_RECEIVED"/> -->
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_APPROVED" />
					</or>
				</and>
			</condition>
			<link target="SetAPInvoiceStatus">
				<parameter param-name="purposeTypeId" value="GRANT_CHANNEL" />
			    <parameter param-name="finAccountTransTypeId" value="GRANT_DISB" />
			    <parameter param-name="finAccountId" from-field="parameters.finAccountId" />
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_READY" />
			</link>
		</menu-item>
		<!-- <menu-item name="statusToPaid"
			title="${uiLabelMap.AccountingInvoiceStatusToPaid}">
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="not-equals"	value="PETTYCASH_INVOICE" />
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_READY" />
					</or>
				</and>
			</condition>
			<link target="SetAPInvoiceStatus">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_PAID" />
			</link>
		</menu-item> -->
		<!-- <menu-item name="statusToWriteoff"
			title="${uiLabelMap.AccountingInvoiceStatusToWriteoff}">
			<condition>
				<and>
				<if-compare field="invoice.invoiceTypeId" operator="not-equals"	value="PETTYCASH_INVOICE" />
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_READY" />
					</or>
				</and>
			</condition>
			<link target="SetAPInvoiceStatus" request-confirmation="true"
				confirmation-message="You want to writeoff this invoice number ${invoice.invoiceId}?">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_WRITEOFF" />
			</link>
		</menu-item> -->
		<menu-item name="statusToInProcess"
			title="${uiLabelMap.AccountingInvoiceStatusToInProcess}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_SENT" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_RECEIVED" />
					</or>
				</and>
			</condition>
			<link target="SetAPInvoiceStatus">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_IN_PROCESS" />
			</link>
		</menu-item>
		<menu-item name="statusToCancelled"
			title="${uiLabelMap.AccountingInvoiceStatusToCancelled}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_IN_PROCESS" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_SENT" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_RECEIVED" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_READY" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_APPROVED" />
					</or>
				</and>
			</condition>
			<link target="SetAPInvoiceStatus">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_CANCELLED" />
			</link>
		</menu-item>
		<!-- <menu-item name="apAccountignTrans" title="Accounting Transaction PDF">
		<condition>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
			</condition>
			<link target="account.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item> -->
		<menu-item name="makeApayment" title="${uiLabelMap.MakePayment}">			
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="equals"	value="PETTYCASH_INVOICE" />
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_READY" />
				</and>			
			</condition>
			<link target="createPettyCashPayment">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="amount" value="${bsh:return(org.ofbiz.accounting.invoice.InvoiceWorker.getInvoiceTotal(invoice));}" />
				<parameter param-name="statusId" value="PMNT_NOT_PAID" />
				<parameter param-name="partyIdTo" value="${invoice.partyIdFrom}"  />
				<parameter param-name="partyIdFrom" value="${invoice.partyId}" />
				<parameter param-name="currencyUomId" value="${invoice.currencyUomId}" />							
			</link>
		</menu-item>
		<menu-item name="statusToConfirmed"
			title="${uiLabelMap.AccountingPaymentTabStatusToConfirmedPayment}">
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="equals"	value="PETTYCASH_INVOICE" />
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_PAID" />
					<if-has-permission permission="ACCOUNTING" action="_PAYMENTSTATUS_CONFIRMED" />
					<if-compare field="payment[0].statusId" operator="equals" value="PMNT_SENT" />
													
				</and>
			</condition>
			<link target="setPaymentStatusPettyCash">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="paymentId" value="${payment[0].paymentId}" />
				<parameter param-name="statusId" value="PMNT_CONFIRMED" />
			</link>
		</menu-item>
		<menu-item name="statusToVoidPayment"
			title="${uiLabelMap.AccountingPaymentTabStatusToVoidPayment}">
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="equals"	value="PETTYCASH_INVOICE" />
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_PAID" />
					<if-has-permission permission="ACCOUNTING" action="_PAYMENTSTATUS_CANCEL" />
					<if-compare field="payment[0].statusId" operator="equals" value="PMNT_SENT" />
				</and>
			</condition>
			<link target="voidPaymentPettyCash">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="paymentId" value="${payment[0].paymentId}" />
			</link>
		</menu-item>
		<!-- <menu-item name="DebitNote"
			title="Debit/Credit Note">
			<link target="DebitNote" target-window="_BLANK">
				<parameter param-name="paymentId" from-field="payment.paymentId"/>
				<parameter param-name="invoiceflag" value="Y"/>
				<parameter param-name="reportTypeFlag" value="debitNote"/>
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item> -->
		<menu-item name="payment" title="Make Payment">
			<condition>
				<or>
					<if-compare field="invoice.statusId" operator="equals" value="INVOICE_READY" />
					<if-compare field="invoice.statusId" operator="equals" value="INVOICE_APPROVED" />
				</or>
			</condition>
			<link url-mode="plain"  target="javascript:showPaymentEntryQTip('${invoice.partyId}','${invoice.partyIdFrom}','${invoice.invoiceId}','${invoice.prefPaymentMethodTypeId?if_exists}','${notAppliedAmount}','${partyName}','${invoice.purposeTypeId}');" link-type="anchor"/>
		</menu-item>
	</menu>  
	
	<menu name="ARInvoiceTypesTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml" selected-menuitem-context-field-name="tabButtonItem5">
          <menu-item name="Miscellaneous" title="Miscellaneous Income">
             <link target="ArInvoices">
             	<parameter param-name="invoiceTypeId" value="MIS_INCOME_IN" />
             	<parameter param-name="subTabButtonValue" value="Miscellaneous" />
             	<parameter param-name="actionSubTabButtonValue" value="find" />
             </link>
          </menu-item>
          <menu-item name="salesInvoice" title="Weavers Invoice">
            <link target="ArInvoices">
             	<parameter param-name="invoiceTypeId" value="SALES_INVOICE" />
             	<parameter param-name="subTabButtonValue" value="salesInvoice" />
             	<parameter param-name="actionSubTabButtonValue" value="find" /> 
             </link> 
          </menu-item>
          <!-- <menu-item name="Finance" title="Finance Income">
             <link target="ArInvoices">
             	<parameter param-name="invoiceTypeId" value="FINANCE_IN" />
             	<parameter param-name="subTabButtonValue" value="Finance" />
             	<parameter param-name="actionSubTabButtonValue" value="find" />
             </link>
          </menu-item>
          <menu-item name="OpeningBalance" title="Create Opening Balance">
             <link target="ArInvoices">
             	<parameter param-name="invoiceTypeId" value="OBINVOICE_IN" />
             	<parameter param-name="subTabButtonValue" value="OpeningBalance" />
             	<parameter param-name="actionSubTabButtonValue" value="find" />
             </link>
          </menu-item> -->
    </menu>
	<menu name="ARInvoiceTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml" selected-menuitem-context-field-name="tabButtonItem2">
		<actions>
				<script location="component://accounting/webapp/accounting/WEB-INF/actions/hideAcctgMenuItem.groovy"/>
		</actions>
		<menu-item name="find" title="${uiLabelMap.CommonFind}">
			<link target="ArInvoices" >
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceTypeId" from-field="invoice.invoiceTypeId" />
				<parameter param-name="actionSubTabButtonValue" value="find" />
			</link>
		</menu-item>
		<menu-item name="invoiceOverview" title="${uiLabelMap.AccountingInvoiceOverview}">
			<condition>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
			</condition>
			<link target="ARInvoiceOverview">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceTypeId" from-field="invoiceTypeId" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="actionSubTabButtonValue" value="invoiceOverview" />
			</link>
		</menu-item>
		<menu-item name="createInvoice" title="Create Invoice">
			<condition>
				<and>
					<if-empty field="invoice.invoiceId"/>
					<if-compare operator="equals" value="Y" field="showCreateButton" />
				</and>
			</condition>
			<link target="CreateARInvoice">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="showCreateButton" value="Y" />
				<parameter param-name="invoiceTypeId" from-field="invoice.invoiceTypeId" />
				<parameter param-name="actionSubTabButtonValue" value="createInvoice" />
			</link>
		</menu-item>
		<menu-item name="updateInvoice" title="Update Invoice">
			<condition>
				<and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_IN_PROCESS" />
				</and>
			</condition>
			<link target="CreateARInvoice">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="invoiceTypeId" from-field="invoice.invoiceTypeId" />
				<parameter param-name="actionSubTabButtonValue" value="updateInvoice" />
			</link>
		</menu-item>
	</menu> 
	
	<menu name="CreateArInvoiceSubTabBar" menu-container-style="button-bar button-style-2"
		default-selected-style="selected">
		<!-- <menu-item name="createNew" title="${uiLabelMap.CommonCreateNew}"
			widget-style="buttontext create">
			<condition>
				<and>
					<not>
						<if-compare operator="equals" value="accounting"
							field="localDispatcherName" />
					</not>
					<or>
						<if-has-permission permission="ACCOUNTING"
							action="_ARINVOICE_EDIT" />
						<if-has-permission permission="ACCOUNTING"
							action="_APINVOICE_EDIT" />
					</or>
				</and>
			</condition>
			<link target="newInvoice" />
		</menu-item> -->
		
		<menu-item name="pdf" title="Accounting Report">
			<condition>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
			</condition>
			<link target="acctgTransDetailReportPdf.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<menu-item name="newCashPdf" title="Cash Voucher PDF">
			<condition>
			  <and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
				    <if-compare field="invoice.prefPaymentMethodTypeId" operator="equals" value="CASH" />
			  </and>
			</condition>
			<link target="invoiceNew.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item>
		<!-- <menu-item name="newBankPdf" title="Bank Voucher PDF">
			<condition>
			<and>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
				<if-compare field="invoice.prefPaymentMethodTypeId" operator="equals" value="BANK" />
			</and>
			</condition>
			<link target="invoiceNew.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item> -->
		<menu-item name="pdfDfltCur"
			title="${uiLabelMap.AccountingInvoicePDFDefaultCur}(${defaultOrganizationPartyCurrencyUomId})">
			<condition>
				<and>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<if-compare-field field="invoice.currencyUomId"
						operator="not-equals" to-field="defaultOrganizationPartyCurrencyUomId" />
				</and>
			</condition>
			<link target="invoice.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="currency"
					from-field="defaultOrganizationPartyCurrencyUomId" />
			</link>
		</menu-item>
		<menu-item name="statusToApproved"
			title="${uiLabelMap.AccountingInvoiceStatusToApproved}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_IN_PROCESS" />
						<!-- <if-compare field="invoice.statusId" operator="equals" value="INVOICE_SENT"/> 
							<if-compare field="invoice.statusId" operator="equals" value="INVOICE_RECEIVED"/> -->
					</or>
				</and>
			</condition>
			<link target="SetARInvoiceStatus">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_APPROVED" />
			</link>
		</menu-item>		
		<menu-item name="statusToReceived"
			title="${uiLabelMap.AccountingInvoiceStatusToReceived}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<if-compare field="invoice.statusId" operator="equals"
						value="INVOICE_IN_PROCESS" />
					<or>
						<if-compare field="invoice.invoiceTypeId" operator="equals"
							value="PURCHASE_INVOICE" />
						<if-compare field="invoice.invoiceTypeId" operator="equals"
							value="CUST_RTN_INVOICE" />
					</or>
				</and>
			</condition>
			<link target="SetARInvoiceStatus">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_RECEIVED" />
			</link>
		</menu-item>
		<menu-item name="statusToSent"
			title="${uiLabelMap.AccountingInvoiceStatusToSent}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<or>
						<and>
							<not>
								<if-empty field="invoice.invoiceId" />
							</not>
							<if-compare field="invoice.statusId" operator="equals"
								value="INVOICE_IN_PROCESS" />
							<if-compare field="invoice.invoiceTypeId" operator="equals"
								value="SALES_INVOICE" />
						</and>
						<and>
							<not>
								<if-empty field="invoice.invoiceId" />
							</not>
							<if-compare field="invoice.statusId" operator="equals"
								value="INVOICE_APPROVED" />
							<if-compare field="invoice.invoiceTypeId" operator="equals"
								value="SALES_INVOICE" />
						</and>
					</or>
				</and>
			</condition>
			<link target="SetARInvoiceStatus">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_SENT" />
			</link>
		</menu-item>
		<menu-item name="statusToReady"
			title="${uiLabelMap.AccountingInvoiceStatusToReady}">
			<condition>
				<and>
					<or>
						<if-has-permission permission="ACCOUNTING"
							action="_ARINVOICE_EDIT" />
						<if-has-permission permission="ACCOUNTING"
							action="_APINVOICE_EDIT" />
					</or>
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<!-- <if-compare field="invoice.statusId" operator="equals" value="INVOICE_IN_PROCESS"/> 
							<if-compare field="invoice.statusId" operator="equals" value="INVOICE_SENT"/> 
							<if-compare field="invoice.statusId" operator="equals" value="INVOICE_RECEIVED"/> -->
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_APPROVED" />
					</or>
				</and>
			</condition>
			<link target="SetARInvoiceStatus">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_READY" />
			</link>
		</menu-item>
		<menu-item name="statusToPaid"
			title="${uiLabelMap.AccountingInvoiceStatusToPaid}">
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="not-equals"	value="PETTYCASH_INVOICE" />
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_READY" />
					</or>
				</and>
			</condition>
			<link target="SetARInvoiceStatus">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_PAID" />
			</link>
		</menu-item>
		<!-- <menu-item name="statusToWriteoff"
			title="${uiLabelMap.AccountingInvoiceStatusToWriteoff}">
			<condition>
				<and>
				<if-compare field="invoice.invoiceTypeId" operator="not-equals"	value="PETTYCASH_INVOICE" />
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_READY" />
					</or>
				</and>
			</condition>
			<link target="SetARInvoiceStatus" request-confirmation="true"
				confirmation-message="You want to writeoff this invoice number ${invoice.invoiceId}?">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_WRITEOFF" />
			</link>
		</menu-item> -->
		<menu-item name="statusToInProcess"
			title="${uiLabelMap.AccountingInvoiceStatusToInProcess}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_SENT" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_RECEIVED" />
					</or>
				</and>
			</condition>
			<link target="SetARInvoiceStatus">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_IN_PROCESS" />
			</link>
		</menu-item>
		<menu-item name="statusToCancelled"
			title="${uiLabelMap.AccountingInvoiceStatusToCancelled}">
			<condition>
				<and>
					<if-has-permission permission="ACCOUNTING"
						action="_INVOICE_APPROVE" />
					<not>
						<if-empty field="invoice.invoiceId" />
					</not>
					<or>
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_IN_PROCESS" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_SENT" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_RECEIVED" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_READY" />
						<if-compare field="invoice.statusId" operator="equals"
							value="INVOICE_APPROVED" />
					</or>
				</and>
			</condition>
			<link target="SetARInvoiceStatus">
				<parameter param-name="subTabButtonValue" from-field="tabButtonItem5" />
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="statusId" value="INVOICE_CANCELLED" />
			</link>
		</menu-item>
		<!-- <menu-item name="arAccountignTrans" title="Accounting Transaction PDF">
		<condition>
				<not>
					<if-empty field="invoice.invoiceId" />
				</not>
			</condition>
			<link target="account.pdf" target-window="_BLANK">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item> -->
		<menu-item name="makeApayment" title="${uiLabelMap.MakePayment}">			
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="equals"	value="PETTYCASH_INVOICE" />
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_READY" />
				</and>			
			</condition>
			<link target="createPettyCashPayment">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="amount" value="${bsh:return(org.ofbiz.accounting.invoice.InvoiceWorker.getInvoiceTotal(invoice));}" />
				<parameter param-name="statusId" value="PMNT_NOT_PAID" />
				<parameter param-name="partyIdTo" value="${invoice.partyIdFrom}"  />
				<parameter param-name="partyIdFrom" value="${invoice.partyId}" />
				<parameter param-name="currencyUomId" value="${invoice.currencyUomId}" />							
			</link>
		</menu-item>
		<menu-item name="statusToConfirmed"
			title="${uiLabelMap.AccountingPaymentTabStatusToConfirmedPayment}">
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="equals"	value="PETTYCASH_INVOICE" />
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_PAID" />
					<if-has-permission permission="ACCOUNTING" action="_PAYMENTSTATUS_CONFIRMED" />
					<if-compare field="payment[0].statusId" operator="equals" value="PMNT_SENT" />
													
				</and>
			</condition>
			<link target="setPaymentStatusPettyCash">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="paymentId" value="${payment[0].paymentId}" />
				<parameter param-name="statusId" value="PMNT_CONFIRMED" />
			</link>
		</menu-item>
		<menu-item name="statusToVoidPayment"
			title="${uiLabelMap.AccountingPaymentTabStatusToVoidPayment}">
			<condition>
				<and>
					<if-compare field="invoice.invoiceTypeId" operator="equals"	value="PETTYCASH_INVOICE" />
					<if-compare field="invoice.statusId" operator="equals"	value="INVOICE_PAID" />
					<if-has-permission permission="ACCOUNTING" action="_PAYMENTSTATUS_CANCEL" />
					<if-compare field="payment[0].statusId" operator="equals" value="PMNT_SENT" />
				</and>
			</condition>
			<link target="voidPaymentPettyCash">
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
				<parameter param-name="paymentId" value="${payment[0].paymentId}" />
			</link>
		</menu-item>
		<!-- <menu-item name="DebitNote"
			title="Debit/Credit Note">
			<link target="DebitNote" target-window="_BLANK">
				<parameter param-name="paymentId" from-field="payment.paymentId"/>
				<parameter param-name="invoiceflag" value="Y"/>
				<parameter param-name="reportTypeFlag" value="debitNote"/>
				<parameter param-name="invoiceId" from-field="invoice.invoiceId" />
			</link>
		</menu-item> -->
		<menu-item name="Receipt" title="Take Receipt">
			<condition>
				<or>
					<if-compare field="invoice.statusId" operator="equals" value="INVOICE_READY" />
					<if-compare field="invoice.statusId" operator="equals" value="INVOICE_APPROVED" />
				</or>
			</condition>
			<link url-mode="plain"  target="javascript:showPaymentEntryQTip('${invoice.partyId}','${invoice.partyIdFrom}','${invoice.invoiceId}','${invoice.prefPaymentMethodTypeId?if_exists}','${notAppliedAmount}','${partyName}','${invoice.purposeTypeId}');" link-type="anchor"/>
		</menu-item>
	</menu>  
	 <menu name="cpfAccuntsSubTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml" selected-menuitem-context-field-name="tabButtonItem2">
        <menu-item name="cpfAccounts" title="CPF Accounts">
            <link target="cpfAccounts"/>
        </menu-item>
     </menu>
     
     <menu name="BankAccountSubTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml" selected-menuitem-context-field-name="tabButtonItem2">
		<menu-item name="FindFinAccountAlt" title="BankAccounts">
			<condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="FindFinAccountAlt">
			<parameter param-name="screenFlag" value="BANKACCOUNT"/>
			</link>
		</menu-item>
		<menu-item name="BankAccountDetail" title="${uiLabelMap.BankAccountDetail}">
			<link target="BankAccountDetail"/>
		</menu-item>
	</menu>
	 <menu name="InterUnitBankAccountSubTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml" selected-menuitem-context-field-name="tabButtonItem2">
		<menu-item name="InterUnitFindFinAccountAlt" title="Inter RO Accounts">
			<condition>
				<or>
				    <if-has-permission permission="ACCOUNTING"  action="_TREASURER"/>
            	</or>            
            </condition>
			<link target="InterUnitFindFinAccountAlt">
			<parameter param-name="screenFlag" value="BANKACCOUNT"/>
			</link>
		</menu-item>
	</menu>
	<menu name="searchPaymentsSubTabBar" extends="CommonTabBarMenu" extends-resource="component://common/widget/CommonMenus.xml" selected-menuitem-context-field-name="tabButtonItem2">
		<menu-item name="FindPayments" title="Find Payments">
			<link target="FindTreasurerPayments"></link>
		</menu-item>
		<menu-item name="FindReceipts" title="Find Receipts">
			<link target="FindTreasurerReceipts"></link>
		</menu-item>
	</menu>
	
</menus>
