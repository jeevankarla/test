<?xml version="1.0" encoding="UTF-8"?>
<!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->
<forms xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-form.xsd">
   <form name="ListFinAccountsAlt" type="list" separate-columns="true" default-entity-name="FinAccount" list-name="listIt" paginate-target="FindFinAccount" paginate="true"
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
        <actions>
             <service service-name="performFind" result-map="result" result-map-list="listIt">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="FinAccount"/>
                <field-map field-name="orderBy" value="finAccountId"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
        </actions>
        <auto-fields-entity entity-name="FinAccount" default-field-type="display"/>
       <!--  <field name="finAccountId">
            <hyperlink  description="${finAccountId}" target="EditFinAccountAlt">
                <parameter param-name="finAccountId"/>
            </hyperlink>
        </field> -->
        <field name="finAccountId"><hidden></hidden></field>
         <field name="gbCode"><ignored></ignored></field>
          <field name="bCode"><ignored></ignored></field>
           <field name="bPlace"><ignored></ignored></field>
            <field name="categoryTypeEnum"><ignored></ignored></field>
             <field name="organizationPartyId"><ignored></ignored></field>
              <field name="ownerPartyId"><ignored></ignored></field>
               <field name="isRefundable"><ignored></ignored></field>
                <field name="finAccountId"><ignored></ignored></field>
                 <field name="replenishPaymentId"><ignored></ignored></field>
                  <field name="replenishLevel"><ignored></ignored></field>
                   <field name="finAccountTypeId"><ignored></ignored></field>
                   <field name="statusId"><ignored></ignored></field> 
                     <field name="finAccountPin"><ignored></ignored></field>
                        <field name="micrNumber"><ignored></ignored></field>
                           <field name="fromDate"><ignored></ignored></field>
                            <field name="thruDate"><ignored></ignored></field>
      
       <!--  <field name="finAccountTypeId" title="${uiLabelMap.FormFieldTitle_finAccountType}"><display-entity entity-name="FinAccountType"/></field> -->
        <field name="finAccountName">
            <hyperlink description="${finAccountName}" target="EditFinAccountAlt">
                <parameter param-name="finAccountId"/>
            </hyperlink>
        </field>
      <!--   <field name="statusId"  title="${uiLabelMap.CommonStatus}"><display-entity entity-name="StatusItem"/></field> -->
       <!--  <field name="organizationPartyId">
            <hyperlink target="/partymgr/control/viewprofile" description="${organizationPartyId}" target-type="inter-app">
                <parameter param-name="partyId" from-field="organizationPartyId"/>
            </hyperlink>
        </field>
        <field name="ownerPartyId">
            <hyperlink target="/partymgr/control/viewprofile" description="${ownerPartyId}" target-type="inter-app">
                <parameter param-name="partyId" from-field="ownerPartyId"/>
            </hyperlink>
        </field> -->
       <!--  <field name="deleteLink" title="${uiLabelMap.CommonEmptyHeader}" widget-style="buttontext" use-when="hasFinEditPermission">
            <hyperlink target="deleteFinAccount" description="${uiLabelMap.CommonDelete}" also-hidden="false">
                <parameter param-name="finAccountId"/>
            </hyperlink>
        </field> -->
		<field name="statement" title="Reconciliation Statement" widget-style="buttontext">
            <hyperlink target="recStatemetn.pdf" description="Statement" target-window="_BLANK"  also-hidden="false">
                <parameter param-name="finAccountId"/>
                <parameter param-name="glReconciliationId" value="_NA_" />
				<parameter param-name="subTabItem" value="FinAccountTransForReconsile" />
            </hyperlink>
        </field> 
    </form>
    
    <form name="ListNonBankAccounts" type="list" separate-columns="true" default-entity-name="FinAccount"   list-name="nonBankAccountsList" paginate-target="${targetRequest}" paginate="true"
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
     
        <auto-fields-entity entity-name="FinAccount" default-field-type="display"/>
         <field name="finAccountId"><hidden></hidden></field>
         <field name="gbCode"><ignored></ignored></field>
          <field name="bCode"><ignored></ignored></field>
           <field name="bPlace"><ignored></ignored></field>
            <field name="categoryTypeEnum"><ignored></ignored></field>
             <field name="organizationPartyId"><ignored></ignored></field>
              <field name="ownerPartyId"><ignored></ignored></field>
               <field name="isRefundable"><ignored></ignored></field>
                <field name="finAccountId"><ignored></ignored></field>
                 <field name="replenishPaymentId"><ignored></ignored></field>
                  <field name="replenishLevel"><ignored></ignored></field>
                   <field name="finAccountTypeId"><ignored></ignored></field>
                   <field name="statusId"><ignored></ignored></field> 
                     <field name="finAccountPin"><ignored></ignored></field>
                        <field name="micrNumber"><ignored></ignored></field>
                           <field name="fromDate"><ignored></ignored></field>
                            <field name="thruDate"><ignored></ignored></field>
                            <field name="finAccountBranch"><ignored></ignored></field>
                            <field name="ifscCode"><ignored></ignored></field>
      <!--  <field name="finAccountTypeId" title="${uiLabelMap.FormFieldTitle_finAccountType}"><display-entity entity-name="FinAccountType"/></field> -->
        <field name="finAccountName" title ="Head Office Name">
            <hyperlink description="${finAccountName}" target="EditFinAccountAlt">
                <parameter param-name="finAccountId"/>
            </hyperlink>
        </field>
        <field name="finAccountCode" title ="Head Office Code"><display/></field>
        <field name="finAccPrefix" title ="Head Office Prefix"><display/></field>
      <!--   <field name="statusId"  title="${uiLabelMap.CommonStatus}"><display-entity entity-name="StatusItem"/></field> -->
       <!--  <field name="organizationPartyId">
            <hyperlink target="/partymgr/control/viewprofile" description="${organizationPartyId}" target-type="inter-app">
                <parameter param-name="partyId" from-field="organizationPartyId"/>
            </hyperlink>
        </field>
        <field name="ownerPartyId">
            <hyperlink target="/partymgr/control/viewprofile" description="${ownerPartyId}" target-type="inter-app">
                <parameter param-name="partyId" from-field="ownerPartyId"/>
            </hyperlink>
        </field> -->
       <!--  <field name="deleteLink" title="${uiLabelMap.CommonEmptyHeader}" widget-style="buttontext" use-when="hasFinEditPermission">
            <hyperlink target="deleteFinAccount" description="${uiLabelMap.CommonDelete}" also-hidden="false">
                <parameter param-name="finAccountId"/>
            </hyperlink>
        </field> -->
    </form> 
    <form name="ListSchemeAccounts" type="list" separate-columns="true" default-entity-name="FinAccount"   list-name="nonBankAccountsList" paginate-target="${targetRequest}" paginate="true"
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
     
        <auto-fields-entity entity-name="FinAccount" default-field-type="display"/>
         <field name="finAccountId"><hidden></hidden></field>
         <field name="gbCode"><ignored></ignored></field>
          <field name="bCode"><ignored></ignored></field>
           <field name="bPlace"><ignored></ignored></field>
            <field name="categoryTypeEnum"><ignored></ignored></field>
             <field name="organizationPartyId"><ignored></ignored></field>
              <field name="ownerPartyId"><ignored></ignored></field>
               <field name="isRefundable"><ignored></ignored></field>
                <field name="finAccountId"><ignored></ignored></field>
                 <field name="replenishPaymentId"><ignored></ignored></field>
                  <field name="replenishLevel"><ignored></ignored></field>
                   <field name="finAccountTypeId"><ignored></ignored></field>
                   <field name="statusId"><ignored></ignored></field> 
                     <field name="finAccountPin"><ignored></ignored></field>
                        <field name="micrNumber"><ignored></ignored></field>
                           <field name="fromDate"><ignored></ignored></field>
                            <field name="thruDate"><ignored></ignored></field>
                            <field name="finAccountBranch"><ignored></ignored></field>
                            <field name="ifscCode"><ignored></ignored></field>
      <!--  <field name="finAccountTypeId" title="${uiLabelMap.FormFieldTitle_finAccountType}"><display-entity entity-name="FinAccountType"/></field> -->
        <field name="finAccountName" title ="Scheme Name">
            <hyperlink description="${finAccountName}" target="EditFinAccountAlt">
                <parameter param-name="finAccountId"/>
            </hyperlink>
        </field>
        <field name="finAccountCode" title ="Scheme Code"><display/></field>
        <field name="finAccPrefix" title ="Scheme Acct Prefix"><display/></field>
    </form>    
    <form name="FindDepositAccount" type="single" target="FindDepositAccount" header-row-style="header-row" default-table-style="basic-table">        
        <field name="hideSearch"><hidden value="Y" /></field>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="finAccountId" position="1"><text-find/></field>
          <field name="AccDate" position="2"><date-time type="date"/></field>
        <field name="finAccountName" position="1"><text-find/></field>
        <field name="amount" position="2"><text/></field>
        <field name="finAccountTypeId" position="1">
        	<drop-down allow-empty="true">
        		<list-options key-name="finAccountTypeId" list-name="finAccountTypes" description="${description}"/>
        	</drop-down>
        </field>
        <field name="ownerPartyId" position="2"><lookup target-form-name="LookupPartyName"/></field>        
        <field name="searchButton" widget-style="smallSubmit"><submit/></field>
    </form>
        <form name="FindDepositReceivedAccount" type="single" target="FindDepositReceivedAccount" header-row-style="header-row" default-table-style="basic-table">        
        <field name="hideSearch"><hidden value="Y" /></field>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="finAccountId" position="1"><text-find/></field>
          <field name="AccDate" position="2"><date-time type="date"/></field>
        <field name="finAccountName" position="1"><text-find/></field>
        <field name="amount" position="2"><text/></field>
        <field name="finAccountTypeId" position="1">
        	<drop-down allow-empty="true">
        		<list-options key-name="finAccountTypeId" list-name="finAccountTypes" description="${description}"/>
        	</drop-down>
        </field>
        <field name="ownerPartyId" position="2"><lookup target-form-name="LookupPartyName"/></field>        
        <field name="searchButton" widget-style="smallSubmit"><submit/></field>
    </form>
        <form name="FindDepositPaidAccount" type="single" target="FindDepositPaidAccount" header-row-style="header-row" default-table-style="basic-table">        
        <field name="hideSearch"><hidden value="Y" /></field>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="finAccountId" position="1"><text-find/></field>
          <field name="AccDate" position="2"><date-time type="date"/></field>
        <field name="finAccountName" position="1"><text-find/></field>
        <field name="amount" position="2"><text/></field>
        <field name="finAccountTypeId" position="1">
        	<drop-down allow-empty="true">
        		<list-options key-name="finAccountTypeId" list-name="finAccountTypes" description="${description}"/>
        	</drop-down>
        </field>
        <field name="ownerPartyId" position="2"><lookup target-form-name="LookupPartyName"/></field>        
        <field name="searchButton" widget-style="smallSubmit"><submit/></field>
    </form>
     <form name="FindEmployeeAdvance" type="single" target="FindEmployeeAdv" header-row-style="header-row" default-table-style="basic-table">        
        <field name="hideSearch"><hidden value="Y" /></field>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="finAccountId" position="1"><text-find/></field>
          <field name="AccDate" position="2"><date-time type="date"/></field>
        <field name="finAccountName" position="1"><text-find/></field>
        <field name="amount" position="2"><text/></field>
        <field name="finAccountTypeId" position="1">
        	<drop-down allow-empty="true">
        		<list-options key-name="finAccountTypeId" list-name="finAccountTypes" description="${description}"/>
        	</drop-down>
        </field>
        <field name="ownerPartyId" position="2"><lookup target-form-name="LookupPartyName"/></field>        
        <field name="searchButton" widget-style="smallSubmit"><submit/></field>
    </form>
    <form name="ListDepositAccounts" type="list" separate-columns="true" default-entity-name="FinAccountAndRole" list-name="depositAccounts" paginate-target="FindDepositAccount" paginate="true"
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
        <field name="finAccountId" title="AccountId"><display/></field>
        <field name="finAccountTypeId" title="Deposit Acc Type"><display-entity entity-name="FinAccountType" key-field-name="finAccountTypeId" description="${description}"/></field>
        <field name="finAccountName" title="Acc Name"><display/></field>
        <field name="ownerPartyId" title="Owner Party"><display description="${groovy:org.ofbiz.party.party.PartyHelper.getPartyName(delegator, ownerPartyId, false);}[${ownerPartyId}]"/></field>
        <field name="fromDate" title="Acc Date"><display/></field>
<!--         <field name="finAccountType"><display></display></field> -->
        <field name="actualBalance" title="Acc Balance"><display/></field>
        <field name="refund" widget-style="buttontext" event="onclick" action="" >
            <hyperlink target-type="plain" target="javascript:showDepositRefundEntry('${finAccountId}');" description="Refund">
            </hyperlink>
        </field>
        <field name="printReceipt" widget-style="buttontext">
            <hyperlink target="printDepositReport.pdf" description="Print Receipt" target-window="_blank">
                <parameter param-name="finAccountId"/>
                <parameter param-name="reportTypeFlag" value="depositCheque"/>
            </hyperlink>
        </field>
        <field name="transactionView" widget-style="buttontext" >
            <hyperlink target="viewDepositTransactions" description="View Transactions" target-window="_blank">
             	<parameter param-name="finAccountId"/>
             	<parameter param-name="reportTypeFlag" value="depositCheque"/>
            </hyperlink>
        </field>
    </form>
     <form name="ListDepositReceivedAccounts" type="list" separate-columns="true" default-entity-name="FinAccountAndRole" list-name="depositAccounts" paginate-target="FindDepositReceivedAccount" paginate="true"
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
        <field name="finAccountId" title="AccountId"><display/></field>
        <field name="finAccountTypeId" title="Deposit Acc Type"><display-entity entity-name="FinAccountType" key-field-name="finAccountTypeId" description="${description}"/></field>
        <field name="finAccountName" title="Acc Name"><display/></field>
        <field name="ownerPartyId" title="Owner Party"><display description="${groovy:org.ofbiz.party.party.PartyHelper.getPartyName(delegator, ownerPartyId, false);}[${ownerPartyId}]"/></field>
        <field name="fromDate" title="Acc Date"><display/></field>
<!--         <field name="finAccountType"><display></display></field> -->
        <field name="actualBalance" title="Acc Balance"><display/></field>
        <field name="refund" widget-style="buttontext" event="onclick" action="" >
            <hyperlink target-type="plain" target="javascript:showDepositRefundEntry('${finAccountId}','ReceivedAccount');" description="Refund">
            </hyperlink>
        </field>
        <field name="printReceipt" widget-style="buttontext">
            <hyperlink target="printDepositReport.pdf" description="Print Receipt" target-window="_blank">
                <parameter param-name="finAccountId"/>
                <parameter param-name="reportTypeFlag" value="depositCheque"/>
            </hyperlink>
        </field>
        <field name="transactionView" widget-style="buttontext" >
            <hyperlink target="viewDepositTransactions" description="View Transactions" target-window="_blank">
             	<parameter param-name="finAccountId"/>
             	<parameter param-name="reportTypeFlag" value="depositCheque"/>
            </hyperlink>
        </field>
    </form>
     <form name="ListDepositPaidAccounts" type="list" separate-columns="true" default-entity-name="FinAccountAndRole" list-name="depositAccounts" paginate-target="FindDepositPaidAccount" paginate="true"
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
        <field name="finAccountId" title="AccountId"><display/></field>
        <field name="finAccountTypeId" title="Deposit Acc Type"><display-entity entity-name="FinAccountType" key-field-name="finAccountTypeId" description="${description}"/></field>
        <field name="finAccountName" title="Acc Name"><display/></field>
        <field name="ownerPartyId" title="Owner Party"><display description="${groovy:org.ofbiz.party.party.PartyHelper.getPartyName(delegator, ownerPartyId, false);}[${ownerPartyId}]"/></field>
        <field name="fromDate" title="Acc Date"><display/></field>
<!--         <field name="finAccountType"><display></display></field> -->
        <field name="actualBalance" title="Acc Balance"><display/></field>
        <field name="refund" widget-style="buttontext" event="onclick" action="" >
            <hyperlink target-type="plain" target="javascript:showDepositRefundEntry('${finAccountId}','PaidAccount');" description="Refund">
            </hyperlink>
        </field>
        <field name="printReceipt" widget-style="buttontext">
            <hyperlink target="printDepositReport.pdf" description="Print Receipt" target-window="_blank">
                <parameter param-name="finAccountId"/>
                <parameter param-name="reportTypeFlag" value="depositCheque"/>
            </hyperlink>
        </field>
        <field name="transactionView" widget-style="buttontext" >
            <hyperlink target="viewDepositTransactions" description="View Transactions" target-window="_blank">
             	<parameter param-name="finAccountId"/>
             	<parameter param-name="reportTypeFlag" value="depositCheque"/>
            </hyperlink>
        </field>
    </form>
     <form name="ListAdvDepositPaidAccounts" type="list" separate-columns="true" default-entity-name="FinAccountAndRole" list-name="depositAccounts" paginate-target="FindDepositPaidAccount" paginate="true"
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
        <field name="finAccountId" title="AccountId"><display/></field>
        <field name="finAccountTypeId" title="Deposit Acc Type"><display-entity entity-name="FinAccountType" key-field-name="finAccountTypeId" description="${description}"/></field>
        <field name="finAccountName" title="Acc Name"><display/></field>
        <field name="ownerPartyId" title="Owner Party"><display description="${groovy:org.ofbiz.party.party.PartyHelper.getPartyName(delegator, ownerPartyId, false);}[${ownerPartyId}]"/></field>
        <field name="fromDate" title="Acc Date"><display/></field>
<!--         <field name="finAccountType"><display></display></field> -->
        <field name="actualBalance" title="Acc Balance"><display/></field>
        <field name="refund" widget-style="buttontext" event="onclick" action="" >
            <hyperlink target-type="plain" target="javascript:showDepositRefundEntry('${finAccountId}','EmpAdv');" description="Refund">
            </hyperlink>
        </field>
        <field name="printReceipt" widget-style="buttontext">
            <hyperlink target="printDepositReport.pdf" description="Print Receipt" target-window="_blank">
                <parameter param-name="finAccountId"/>
                <parameter param-name="reportTypeFlag" value="depositCheque"/>
            </hyperlink>
        </field>
        <field name="transactionView" widget-style="buttontext" >
            <hyperlink target="viewDepositTransactions" description="View Transactions" target-window="_blank">
             	<parameter param-name="finAccountId"/>
             	<parameter param-name="reportTypeFlag" value="depositCheque"/>
            </hyperlink>
        </field>
    </form>
    <form name="ListDepositTransactions" type="list" separate-columns="true"  list-name="finAccountTransList" paginate-target="FindDepositAccount" paginate="true"
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
        <actions>
			<script location="component://accounting/webapp/accounting/WEB-INF/actions/payment/ListContraEntries.groovy"/>
        </actions>
        <field name="finAccountId" title = "Financial Account">
          	<display-entity entity-name="FinAccount" key-field-name="finAccountId" description="${finAccountId}(${finAccountName})"/>
        </field>
        <field name="contraRefNum" title="Instrument Number"><display></display></field>
        <field name="transactionDate" title="Transaction Date"><display></display></field>
        <field name="amount" title="Amount"><display></display></field>
        <field use-when="&quot;${finAccountTransTypeId}&quot;==&quot;DEPOSIT&quot;" name="Print Cheque" widget-style="buttontext" >
            <hyperlink target="printChecks.pdf" description="Print Cheque" target-window="_blank">
             <parameter param-name="finAccountTransId"/>
             <parameter param-name="reportTypeFlag" value="depositCheque"/>
            </hyperlink>
        </field> 
    </form>
    
    <!-- <form name="ListDepositAccounts" type="list" separate-columns="true" default-entity-name="FinAccount"   list-name="nonBankAccountsList" paginate-target="FindDepositAccount" paginate="true"
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
     
        <field name="finAccountId"><hidden></hidden></field>
        <field name="finAccountName">
            <hyperlink description="${finAccountName}" target="EditDepositFinAccount">
                <parameter param-name="finAccountId"/>
            </hyperlink>
        </field>
		<field name="postToGlAccountId" title="GL AccountId"><display/></field>
		<field name="actualBalance" title="Balance Amount"><display/></field>  
		      
   </form> -->
    
    
   <form name="FindFinAccountTransactionsAlt" type="single" target="FindFinAccountTransAlt">
        <actions>
            <entity-and entity-name="GlReconciliation" list="glReconciliations">
                <field-map field-name="glAccountId" from-field="finAccount.postToGlAccountId"/>
                <order-by field-name="reconciledDate DESC"/>
            </entity-and>
        </actions>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="finAccountId"><hidden value="${finAccountId}"/></field>
        <field name="finAccountTransId" title="Finaccount Trans Id"><text ></text></field>
        <field name="finAccountTransTypeId">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="FinAccountTransType">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}" position="2">
            <drop-down allow-empty="true">
                <entity-options entity-name="StatusItem" description="${description}">
                    <entity-constraint name="statusTypeId" value="FINACT_TRNS_STATUS"/>
                </entity-options>
            </drop-down>
        </field>
        <!-- <field name="glReconciliationId" title="${uiLabelMap.FinAccountReconciliationId}" position="2">
            <drop-down allow-empty="true">
                <option key="_NA_" description="${uiLabelMap.CommonNotAssigned}"/>
                <list-options list-name="glReconciliations" key-name="glReconciliationId" 
                    description="${glReconciliationName}[[${glReconciliationId}] [${reconciledDate}] [${reconciledBalance}]]"/>
            </drop-down>
        </field> -->
        <field name="fromTransactionDate" position="1"><date-time/></field>
        <field name="thruTransactionDate" position="2"><date-time/></field>
        <field name="fromEntryDate" position="1"><date-time/></field>
        <field name="thruEntryDate" position="2"><date-time/></field>
        <field name="searchButton" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    
     <form name="FinAccountTransForReconsile" type="single" target="FinAccountTransForReconsile">
        <actions>
            <entity-and entity-name="GlReconciliation" list="glReconciliations">
                <field-map field-name="glAccountId" from-field="finAccount.postToGlAccountId"/>
                <order-by field-name="reconciledDate DESC"/>
            </entity-and>
        </actions>
        
        <field name="glReconciliationId"><hidden value="${glReconciliationId}"></hidden></field>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        
        <field name="finAccountId"><hidden value="${finAccountId}"/></field>
        <field name="statusId"><hidden value="FINACT_TRNS_CREATED"/></field>
        <field name="finAccountTransTypeId">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="FinAccountTransType">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        
       <!--  <field name="statusId" title="${uiLabelMap.CommonStatus}">
            <drop-down allow-empty="true">
                <entity-options entity-name="StatusItem" description="${description}">
                    <entity-constraint name="statusTypeId" value="FINACT_TRNS_STATUS"/>
                </entity-options>
            </drop-down>
        </field> -->
        <!-- <field name="glReconciliationId" title="${uiLabelMap.FinAccountReconciliationId}" position="2">
            <drop-down allow-empty="true">
                <option key="_NA_" description="${uiLabelMap.CommonNotAssigned}"/>
                <list-options list-name="glReconciliations" key-name="glReconciliationId" 
                    description="${glReconciliationName}[[${glReconciliationId}] [${reconciledDate}] [${reconciledBalance}]]"/>
            </drop-down>
        </field> -->
        <field name="fromTransDate"  position="1"><date-time  type="timestamp" /></field>
        <field name="thruTransDate" position="2"><date-time type="timestamp" /></field>
       <!--  <field name="fromEntryDate" position="1"><date-time/></field>
        <field name="thruEntryDate" position="2"><date-time/></field> -->
        <field name="searchButton" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    
     <!-- create NewTreasurer Simple Deposit for Contra -->
     
     
     <form name="FindContraEntries" type="single"  header-row-style="header-row" default-table-style="basic-table" >
    	<field name="hideSearch"><hidden value="Y" /></field>
		<field name="noConditionFind"><hidden value="N"/><!-- if this isn't there then with all fields empty no query will be done --></field>
    	<field name="finAccountId" title="From Financial Account" >
            <drop-down allow-empty="true">
                <entity-options entity-name="FinAccount" description="${finAccountName}" key-field-name="finAccountId">
                   <entity-constraint name="organizationPartyId" value="Company"/> 
                    <entity-constraint name="ownerPartyId" value="Company"/>
                     <entity-constraint name="finAccountTypeId" value="BANK_ACCOUNT"/>
                    <entity-order-by field-name="finAccountName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="transactionDate"><date-time type="timestamp"/></field>
        <field name="amount" ><text ></text></field>
        <field name="contraRefNum" title="Instrument Number"><text></text></field>
        <field name="finAccountTransTypeId">
        	<drop-down no-current-selected-key="ALL">
        		<option key="ALL" description="ALL"/>
        		<option key="WITHDRAWAL" description="WITHDRAWAL"/>
        		<option key="DEPOSIT" description="DEPOSIT"/>
        	</drop-down>
        </field>
       	<field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit/></field>       
    </form>
    <form name="FindInterUnitContraEntries" type="single"  header-row-style="header-row" default-table-style="basic-table" >
    	<field name="hideSearch"><hidden value="Y" /></field>
		<field name="noConditionFind"><hidden value="N"/><!-- if this isn't there then with all fields empty no query will be done --></field>
    	<field name="finAccountId" title="From Financial Account" >
            <drop-down allow-empty="true">
                <entity-options entity-name="FinAccount" description="${finAccountName}" key-field-name="finAccountId">
                   <entity-constraint name="organizationPartyId" value="Company"/> 
                   <entity-constraint name="finAccountTypeId" value="INTERUNIT_ACCOUNT"/>
                   <entity-order-by field-name="finAccountName"/>
                </entity-options>
                <entity-options entity-name="FinAccount" description="${finAccountId} - ${finAccountName}" key-field-name="finAccountId">
                   <entity-constraint name="organizationPartyId" value="Company"/> 
                    <entity-constraint name="ownerPartyId" value="Company"/>
                   <entity-constraint name="finAccountTypeId" operator="in" value="BANK_ACCOUNT,CASH"/>
                   <entity-order-by field-name="finAccountName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="transactionDate"><date-time type="timestamp"/></field>
        <field name="amount" ><text ></text></field>
        <field name="contraRefNum" title="Instrument Number"><text></text></field>
        <!--<field name="finAccountTransTypeId" ><hidden  value="DEPOSIT"/></field>-->
        <field name="finAccountTransTypeId">
        	<drop-down allow-empty="false">
        		 <!--<option key="WITHDRAWAL" description="WITHDRAWAL"/> -->
        		<option key="DEPOSIT" description="DEPOSIT"/>
        	</drop-down>
        </field>
        <field name="interUnitFlag"><hidden value="interUnit"/></field>
       	<field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit/></field>       
    </form>
     <form name="FindInterUnitPaymentContraEntries" type="single"  header-row-style="header-row" default-table-style="basic-table" >
    	<field name="hideSearch"><hidden value="Y" /></field>
		<field name="noConditionFind"><hidden value="N"/><!-- if this isn't there then with all fields empty no query will be done --></field>
    	<field name="finAccountId" title="From Financial Account" >
            <drop-down allow-empty="true">
                <entity-options entity-name="FinAccount" description="${finAccountName}" key-field-name="finAccountId">
                   <entity-constraint name="organizationPartyId" value="Company"/> 
                   <entity-constraint name="finAccountTypeId" value="INTERUNIT_ACCOUNT"/>
                   <entity-order-by field-name="finAccountName"/>
                </entity-options>
                <entity-options entity-name="FinAccount" description="${finAccountId} - ${finAccountName}" key-field-name="finAccountId">
                   <entity-constraint name="organizationPartyId" value="Company"/> 
                    <entity-constraint name="ownerPartyId" value="Company"/>
                   <entity-constraint name="finAccountTypeId" operator="in" value="BANK_ACCOUNT,CASH"/>
                   <entity-order-by field-name="finAccountName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="transactionDate"><date-time type="timestamp"/></field>
        <field name="amount" ><text ></text></field>
        <field name="contraRefNum" title="Instrument Number"><text></text></field>
         <!--<field name="finAccountTransTypeId" ><hidden  value="WITHDRAWAL"/></field>-->

        <field name="finAccountTransTypeId">
        	<drop-down allow-empty="false">
        		<option key="WITHDRAWAL" description="WITHDRAWAL"/>
        	</drop-down>
        </field> 
        <field name="interUnitFlag"><hidden value="interUnit"/></field>
       	<field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit/></field>       
    </form>
    <form name="FindBatchContraEntries" type="single"  header-row-style="header-row" default-table-style="basic-table" >
    	<field name="hideSearch"><hidden value="Y" /></field>
		<field name="noConditionFind"><hidden value="N"/><!-- if this isn't there then with all fields empty no query will be done --></field>
    	<field name="finAccountId" title="From Financial Account" >
            <drop-down allow-empty="true">
                <entity-options entity-name="FinAccount" description="${finAccountName}" key-field-name="finAccountId">
                   <entity-constraint name="organizationPartyId" value="Company"/> 
                    <entity-constraint name="ownerPartyId" value="Company"/>
                     <entity-constraint name="finAccountTypeId" value="BANK_ACCOUNT"/>
                    <entity-order-by field-name="finAccountName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="transactionDate"><date-time type="timestamp"/></field>
        <field name="finAccountTransGroupId" title="Finaccount Trans Group Id"><text ></text></field>
        <field name="amount" ><text ></text></field>
        <field name="contraRefNum" title="Instrument Number"><text></text></field>
        <field name="finAccountTransTypeId">
        	<drop-down allow-empty="false">
        		<option key="WITHDRAWAL" description="WITHDRAWAL"/>
        		<option key="DEPOSIT" description="DEPOSIT"/>
        	</drop-down>
        </field>
       	<field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit/></field>       
    </form>
    <form name="ListContraEntries" type="list" list-name="finAccountTransList" odd-row-style="alternate-row" 
      default-entity-name="FinAccountTrans" default-table-style="basic-table hover-bar" >
    	 <actions>
			<script location="component://accounting/webapp/accounting/WEB-INF/actions/payment/ListContraEntries.groovy"/>	
        </actions>
    	<field name="finAccountId" title = "Fin Account">
          <display-entity entity-name="FinAccount" key-field-name="finAccountId" description="${finAccountName}"/>
        </field>
        <field name="contraRefNum" title="Instrument Number"><display></display></field>
        <field name="transactionDate"><display></display></field>
    	<field name="amount" title="Amount(Rs)"><display/></field>
    	<field name="createTransactionDetailReportPDF" title="Accounting Trans PDF" use-when="${isPosted=='Y'}" widget-style="buttontext">
            <hyperlink target="acctgTransDetailReportPdf.pdf" description="${uiLabelMap.AccountingInvoicePDF}" target-window="_blank">
                <parameter param-name="finAccountTransId" from-field="finAccountTransId"/>
                <parameter param-name="reportTypeFlag" value="contraCheque"/>
            </hyperlink>
        </field>
        <field name="printVoucher" widget-style="buttontext">
            <hyperlink target="printContraReport.pdf" description="Print Voucher" target-window="_blank">
                <parameter param-name="finAccountTransId"/>
                <parameter param-name="finAccountId"/>
                <parameter param-name="reportTypeFlag" value="contraCheque"/>
            </hyperlink>
        </field>
    	<field use-when="&quot;${finAccountTransTypeId}&quot;==&quot;WITHDRAWAL&quot;" name="Print Cheque" widget-style="buttontext" >
            <hyperlink target="printContraChecks.pdf" description="Print Cheque" target-window="_blank">
             <parameter param-name="finAccountId"/>
             <parameter param-name="finAccountTransId"/>
             <parameter param-name="amount"/>
             <parameter param-name="comments"/>
             <parameter param-name="transactionDate"/>
             <parameter param-name="reportTypeFlag" value="contraCheque"/>
            </hyperlink>
        </field> 
    </form>
    <form name="ListInterUnitContraEntries" type="list" list-name="finAccountTransList" odd-row-style="alternate-row" 
      default-entity-name="FinAccountTrans" default-table-style="basic-table hover-bar" >
    	 <actions>
			<script location="component://accounting/webapp/accounting/WEB-INF/actions/payment/ListContraEntries.groovy"/>	
        </actions>
    	<field name="finAccountId" title = "Fin Account">
          <display-entity entity-name="FinAccount" key-field-name="finAccountId" description="${finAccountName}"/>
        </field>
        <field name="contraRefNum" title="Instrument Number"><display></display></field>
        <field name="transactionDate"><display></display></field>
    	<field name="amount" title="Amount(Rs)"><display/></field>
    	<field name="createTransactionDetailReportPDF" title="Accounting Trans PDF" use-when="${isPosted=='Y'}" widget-style="buttontext">
            <hyperlink target="acctgTransDetailReportPdf.pdf" description="${uiLabelMap.AccountingInvoicePDF}" target-window="_blank">
                <parameter param-name="finAccountTransId" from-field="finAccountTransId"/>
                <parameter param-name="reportTypeFlag" value="contraCheque"/>
            </hyperlink>
        </field>
         <field name="printVoucher" widget-style="buttontext">
            <hyperlink target="printContraReport.pdf" description="Print Voucher" target-window="_blank">
                <parameter param-name="finAccountTransId"/>
                <parameter param-name="finAccountId"/>
                <parameter param-name="reportTypeFlag" value="contraCheque"/>
            </hyperlink>
        </field>
    	 <field use-when="&quot;${finAccountTransTypeId}&quot;==&quot;WITHDRAWAL&quot;" name="Print Cheque" widget-style="buttontext" >
            <hyperlink target="printContraChecks.pdf" description="Print Cheque" target-window="_blank">
             <parameter param-name="finAccountId"/>
             <parameter param-name="finAccountTransId"/>
             <parameter param-name="amount"/>
             <parameter param-name="comments"/>
             <parameter param-name="transactionDate"/>
             <parameter param-name="reportTypeFlag" value="contraCheque"/>
            </hyperlink>
        </field>  
    </form>
    <form name="ListBatchContraEntries" type="list" list-name="finAccountTransList" odd-row-style="alternate-row" 
      default-entity-name="FinAccountTrans" default-table-style="basic-table hover-bar" >
    	 <actions>
			<script location="component://accounting/webapp/accounting/WEB-INF/actions/payment/ListBatchContraEntries.groovy"/>	
        </actions>
        <field name="finAccntTransGroupId" title="Finaccount Trans Group Id"><display></display></field>
    	<field name="finAccountId" title = "Fin Account">
          <display-entity entity-name="FinAccount" key-field-name="finAccountId" description="${finAccountName}"/>
        </field>
        <field name="contraRefNum" title="Instrument Number"><display></display></field>
        <field name="finAccntTransDate"><display></display></field>
    	<field name="amount" title="Amount(Rs)"><display/></field>
    	 <field name="Print Voucher" widget-style="buttontext" >
            <hyperlink target="printContraGroupVoucher.pdf" description="Voucher" target-window="_blank">
               	  <parameter param-name="finAccntTransGroupId" />
            </hyperlink>
        </field>
        <field name="AbstractVoucher" widget-style="buttontext" >
            <hyperlink target="printContraGroupVoucherAbstract.pdf" description="Abstract Voucher" target-window="_blank">
               	  <parameter param-name="finAccntTransGroupId" />
            </hyperlink>
        </field> 
    	<!-- <field name="createTransactionDetailReportPDF" title="Accounting Trans PDF" use-when="${isPosted=='Y'}" widget-style="buttontext">
            <hyperlink target="acctgTransDetailReportPdf.pdf" description="${uiLabelMap.AccountingInvoicePDF}" target-window="_blank">
                <parameter param-name="finAccountTransId" from-field="finAccountTransId"/>
                <parameter param-name="reportTypeFlag" value="contraCheque"/>
            </hyperlink>
        </field> -->
    	<field  name="Print Cheque" widget-style="buttontext" >
            <hyperlink target="printContraGroupCheque.pdf" description="Print Cheque" target-window="_blank">
             <parameter param-name="finAccountId"/>
             <parameter param-name="finAccntTransGroupId"/>
             <parameter param-name="amount"/>
             <parameter param-name="comments"/>
             <parameter param-name="finAccntTransDate"/>
             <parameter param-name="reportTypeFlag" value="contraCheque"/>
            </hyperlink>
        </field> 
    </form>
     <form name="BankContraEntry" type="single" target="preCreateBankContraEntry"
        header-row-style="header-row" default-table-style="basic-table">
        <actions>
            <set field="statusId" value="FINACT_TRNS_CREATED"/>
        </actions>
        <!-- <auto-fields-service service-name="createFinAccountTrans"/> -->
       <!--  <field name="finAccountId"><hidden/></field>     -->
        <field name="finAccountId" title="From Financial Account" >
            <drop-down>
                <entity-options entity-name="FinAccount" description="${finAccountName}" key-field-name="finAccountId">
<!--                     <entity-constraint name="organizationPartyId" value="Company"/>  -->
<!--                     <entity-constraint name="ownerPartyId" value="Company"/> -->
                      <entity-constraint name="finAccountTypeId" value="BANK_ACCOUNT"/>
                  <!--    <entity-constraint name="finAccountTypeId" value="CASH"/> -->
                    <entity-order-by field-name="finAccountName"/>
                </entity-options>
            </drop-down>
        </field>        
        <field name="finAccountTransId"><hidden/></field>
        <field name="entryType"   ><hidden value="Contra"/></field>       
        <field name="finAccountTransTypeId" action="javascript:setPaymentType();" event="onChange"> 
            <drop-down>
            	<option key="All" description="All">ALL</option>
               
            </drop-down>
        </field>
       <!--  <field name="partyId"><lookup target-form-name="LookupPartyName"/></field> -->
        <field name="transactionDate"> <date-time/> </field>
        <field name="entryDate"><date-time/></field>
        <field name="parentPaymentTypeId" parameter-name="parentTypeId"><hidden value="RECEIPT"/></field>
        <field name="paymentId" use-when="&quot;${entryType}&quot;==&quot;Payment&quot;" required-field="true"><lookup target-form-name="LookupPayment" target-parameter="parentTypeId"/></field> 
        <field name="amount" required-field="true" use-when="&quot;${entryType}&quot;!=&quot;Payment&quot;"><text/></field>
        <field name="amount" use-when="&quot;${entryType}&quot;==&quot;Payment&quot;"><text/></field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}">
            <drop-down>
                <entity-options entity-name="StatusItem" description="${description}">
                    <entity-constraint name="statusTypeId" value="FINACT_TRNS_STATUS"/>
                </entity-options>
            </drop-down>
        </field>
         <field name="contraFinAccountId"  title="To Financial Account"  >
            <drop-down>
                <entity-options entity-name="FinAccount" description="${finAccountId} - ${finAccountName}" key-field-name="finAccountId">
                      <entity-constraint name="finAccountTypeId" value="BANK_ACCOUNT"/>
                    <entity-order-by field-name="finAccountName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="contraRefNum" title="Instrument Number"><text></text></field>         
        <field name="inFavourOf" title="Cheque in favour"><text/></field>
        <field name="comments" title="Comments"><text/></field>
        <field name="submitButton" title="${uiLabelMap.Create}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="InterUnitContraEntry" type="single" target="preCreateInterUnitContraEntry"
        header-row-style="header-row" default-table-style="basic-table">
        <actions>
            <set field="statusId" value="FINACT_TRNS_CREATED"/>
        </actions>
        <!-- <auto-fields-service service-name="createFinAccountTrans"/> -->
       <!--  <field name="finAccountId"><hidden/></field>     -->
        <field name="finAccountId" title="From Financial Account" >
            <drop-down>
                <entity-options entity-name="FinAccount" description="${finAccountName}" key-field-name="finAccountId">
                   <entity-constraint name="organizationPartyId" value="Company"/> 
                     <entity-constraint name="finAccountTypeId" value="INTERUNIT_ACCOUNT"/>
                    <entity-order-by field-name="finAccountName"/>
                </entity-options>
                 <entity-options entity-name="FinAccount" description="${finAccountId} - ${finAccountName}" key-field-name="finAccountId">
                   <entity-constraint name="organizationPartyId" value="Company"/> 
                    <entity-constraint name="ownerPartyId" value="Company"/>
                   <entity-constraint name="finAccountTypeId" operator="in" value="BANK_ACCOUNT,CASH"/>
                   <entity-order-by field-name="finAccountName"/>
                </entity-options> 
            </drop-down>
        </field>        
        <field name="finAccountTransId"><hidden/></field>
        <field name="entryType"   ><hidden value="Contra"/></field>       
        <field name="finAccountTransTypeId" use-when="finAccountTransTypeId==null" action="javascript:setPaymentType();" event="onChange"> 
            <drop-down no-current-selected-key="WITHDRAWAL">
               <entity-options description="${description}" entity-name="FinAccountTransType">  
                	<entity-constraint name="finAccountTransTypeId" operator="equals" value="WITHDRAWAL"/>              	
                    <entity-order-by field-name="-description"/>
                </entity-options>
            </drop-down>
            
        </field>
        <field name="transactionDate"> <date-time/> </field>
        <field name="entryDate"><date-time/></field>
        <field name="parentPaymentTypeId" parameter-name="parentTypeId"><hidden value="RECEIPT"/></field>
        <field name="paymentId" use-when="&quot;${entryType}&quot;==&quot;Payment&quot;" required-field="true"><lookup target-form-name="LookupPayment" target-parameter="parentTypeId"/></field> 
        <field name="amount" required-field="true" use-when="&quot;${entryType}&quot;!=&quot;Payment&quot;"><text/></field>
        <field name="amount" use-when="&quot;${entryType}&quot;==&quot;Payment&quot;"><text/></field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}">
            <drop-down>
                <entity-options entity-name="StatusItem" description="${description}">
                    <entity-constraint name="statusTypeId" value="FINACT_TRNS_STATUS"/>
                </entity-options>
            </drop-down>
        </field>
         <field name="contraFinAccountId"  title="To Financial Account"  >
            <drop-down>
                <entity-options entity-name="FinAccount" description="${finAccountId} - ${finAccountName}" key-field-name="finAccountId">
                   <entity-constraint name="organizationPartyId" value="Company"/> 
                   <entity-constraint name="finAccountTypeId" value="INTERUNIT_ACCOUNT"/>
                   <entity-order-by field-name="finAccountName"/>
                </entity-options>
                 <entity-options entity-name="FinAccount" description="${finAccountId} - ${finAccountName}" key-field-name="finAccountId">
                   <entity-constraint name="organizationPartyId" value="Company"/> 
                    <entity-constraint name="ownerPartyId" value="Company"/>
                   <entity-constraint name="finAccountTypeId" operator="in" value="BANK_ACCOUNT,CASH"/>
                   <entity-order-by field-name="finAccountName"/>
                </entity-options> 
            </drop-down>
        </field>
        <field name="contraRefNum" title="Instrument Number"><text></text></field>         
        <field name="inFavourOf" title="Cheque in favour"><text/></field>
        <field name="comments" title="Comments"><text/></field>
        <field name="submitButton" title="${uiLabelMap.Create}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
     <form name="InterUnitContraEntryPayments" type="single" target="preCreateInterUnitContraEntryPayments"
        header-row-style="header-row" default-table-style="basic-table">
        <actions>
            <set field="statusId" value="FINACT_TRNS_CREATED"/>
        </actions>
        <!-- <auto-fields-service service-name="createFinAccountTrans"/> -->
       <!--  <field name="finAccountId"><hidden/></field>     -->
        <field name="finAccountId" title="From Financial Account" >
            <drop-down>
                <entity-options entity-name="FinAccount" description="${finAccountName}" key-field-name="finAccountId">
                   <entity-constraint name="organizationPartyId" value="Company"/> 
                     <entity-constraint name="finAccountTypeId" value="INTERUNIT_ACCOUNT"/>
                    <entity-order-by field-name="finAccountName"/>
                </entity-options>
                 <entity-options entity-name="FinAccount" description="${finAccountId} - ${finAccountName}" key-field-name="finAccountId">
                   <entity-constraint name="organizationPartyId" value="Company"/> 
                    <entity-constraint name="ownerPartyId" value="Company"/>
                   <entity-constraint name="finAccountTypeId" operator="in" value="BANK_ACCOUNT,CASH"/>
                   <entity-order-by field-name="finAccountName"/>
                </entity-options> 
            </drop-down>
        </field>   
        <field name="finAccountTransId"><hidden/></field>
        <field name="entryType"   ><hidden value="Contra"/></field>       
        <field name="finAccountTransTypeId" use-when="finAccountTransTypeId==null" action="javascript:setPaymentType();" event="onChange"> 
           <drop-down no-current-selected-key="DEPOSIT">
              <entity-options description="${description}" entity-name="FinAccountTransType">  
                	<entity-constraint name="finAccountTransTypeId" operator="equals" value="DEPOSIT"/>              	
                    <entity-order-by field-name="-description"/>
                </entity-options> 
            </drop-down>
        </field>
        <!-- <field name="ownerPartyId" title="Owner Party">
		<display-entity entity-name="FinAccount" key-field-name="finAccountId" description="${ownerPartyId}"></display-entity></field> -->
         <field name="transactionDate"> <date-time/> </field>
        <field name="entryDate"><date-time/></field>
        <field name="parentPaymentTypeId" parameter-name="parentTypeId"><hidden value="RECEIPT"/></field>
        <field name="paymentId" use-when="&quot;${entryType}&quot;==&quot;Payment&quot;" required-field="true"><lookup target-form-name="LookupPayment" target-parameter="parentTypeId"/></field> 
        <field name="amount" required-field="true" use-when="&quot;${entryType}&quot;!=&quot;Payment&quot;"><text/></field>
        <field name="amount" use-when="&quot;${entryType}&quot;==&quot;Payment&quot;"><text/></field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}">
            <drop-down>
                <entity-options entity-name="StatusItem" description="${description}">
                    <entity-constraint name="statusTypeId" value="FINACT_TRNS_STATUS"/>
                </entity-options>
            </drop-down>
        </field>
         <field name="contraFinAccountId"  title="To Financial Account"  >
            <drop-down>
                <entity-options entity-name="FinAccount" description="${finAccountId} - ${finAccountName}" key-field-name="finAccountId">
                   <entity-constraint name="organizationPartyId" value="Company"/> 
                   <entity-constraint name="finAccountTypeId" value="INTERUNIT_ACCOUNT"/>
                   <entity-order-by field-name="finAccountName"/>
                </entity-options>
                 <entity-options entity-name="FinAccount" description="${finAccountId} - ${finAccountName}" key-field-name="finAccountId">
                   <entity-constraint name="organizationPartyId" value="Company"/> 
                    <entity-constraint name="ownerPartyId" value="Company"/>
                   <entity-constraint name="finAccountTypeId" operator="in" value="BANK_ACCOUNT,CASH"/>
                   <entity-order-by field-name="finAccountName"/>
                </entity-options> 
            </drop-down>
        </field>
        <field name="contraRefNum" title="Instrument Number"><text></text></field>         
        <field name="inFavourOf" title="Cheque in favour"><text/></field>
        <field name="comments" title="Comments"><text/></field>
        <field name="submitButton" title="${uiLabelMap.Create}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="WithdrawAcctFinTransEntry" type="single" target="preCreateDepositAcctContraEntry"
        header-row-style="header-row" default-table-style="basic-table">
        <actions>
            <set field="statusId" value="FINACT_TRNS_CREATED"/>
        </actions>
        <!-- <auto-fields-service service-name="createFinAccountTrans"/> -->
       <!--  <field name="finAccountId"><hidden/></field>     -->
        <field name="finAccountTransId"><hidden/></field>
        <field name="finAccountTransTypeId"><hidden value="${parameters.finAccountTransTypeId}"/></field>
        <field name="entryType"><hidden value="Contra"/></field>
        <field name="transactionDate" title="Receipt Date"> <date-time/> </field>
        <field name="entryDate"><date-time/></field>
        <field name="parentPaymentTypeId" parameter-name="parentTypeId"><hidden value="${parameters.parentPaymentTypeId}"/></field>
        <field name="contraFinAccountId"  title="From Account">
            <drop-down>
            	<list-options key-name="finAccountId" list-name="companyAccountsList" description="${finAccountName}"/>
            </drop-down>
        </field>
        <field name="finAccountIdTo" parameter-name="finAccountId" title="To Account" >
            <drop-down allow-empty="false">
            	<list-options key-name="finAccountId" list-name="partyAccountsList" description="${finAccountName}"/>
            </drop-down>
        </field>
        <field name="paymentId" use-when="&quot;${entryType}&quot;==&quot;Payment&quot;" required-field="true"><lookup target-form-name="LookupPayment" target-parameter="parentTypeId"/></field> 
        <field name="amount" required-field="true" use-when="&quot;${entryType}&quot;!=&quot;Payment&quot;"><text/></field>
        <field name="amount" use-when="&quot;${entryType}&quot;==&quot;Payment&quot;"><text/></field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}">
            <drop-down>
                <entity-options entity-name="StatusItem" description="${description}">
                    <entity-constraint name="statusTypeId" value="FINACT_TRNS_STATUS"/>
                </entity-options>
            </drop-down>
        </field>
         
        <field name="contraRefNum" title="Reference Num"><text></text></field>         
        <field name="comments"><text/></field>
        <field name="submitButton" title="${uiLabelMap.Create}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="DepositAcctFinTransEntry" type="single" target="preCreateDepositAcctContraEntry"
        header-row-style="header-row" default-table-style="basic-table">
        <actions>
            <set field="statusId" value="FINACT_TRNS_CREATED"/>
        </actions>
        <!-- <auto-fields-service service-name="createFinAccountTrans"/> -->
       <!--  <field name="finAccountId"><hidden/></field>     -->
        <field name="finAccountTransId"><hidden/></field>
        <field name="finAccountTransTypeId"><hidden value="${parameters.finAccountTransTypeId}"/></field>
        <field name="entryType"><hidden value="Contra"/></field>
        <field name="transactionDate" title="Deposit Refund Date"> <date-time/> </field>
        <field name="entryDate"><date-time/></field>
        <field name="parentPaymentTypeId" parameter-name="parentTypeId"><hidden value="${parameters.parentPaymentTypeId}"/></field>
        <field name="paymentId" use-when="&quot;${entryType}&quot;==&quot;Payment&quot;" required-field="true"><lookup target-form-name="LookupPayment" target-parameter="parentTypeId"/></field> 
        <field name="finAccountIdTo" parameter-name="finAccountId" title="From Account"  >
            <drop-down>
            	<list-options key-name="finAccountId" list-name="companyAccountsList" description="${finAccountName}"/>
            </drop-down>
        </field>
        <field name="contraFinAccountId"  title="To Account" >
            <drop-down allow-empty="false">
            	<list-options key-name="finAccountId" list-name="partyAccountsList" description="${finAccountName}"/>
            </drop-down>
        </field>        
        
        <field name="amount" required-field="true" use-when="&quot;${entryType}&quot;!=&quot;Payment&quot;"><text/></field>
        <field name="amount" use-when="&quot;${entryType}&quot;==&quot;Payment&quot;"><text/></field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}">
            <drop-down>
                <entity-options entity-name="StatusItem" description="${description}">
                    <entity-constraint name="statusTypeId" value="FINACT_TRNS_STATUS"/>
                </entity-options>
            </drop-down>
        </field>
         <field name="contraRefNum" title="Reference Num"><text></text></field>         
        <field name="comments"><text/></field>
        <field name="submitButton" title="${uiLabelMap.Create}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="PaymentsDepositWithdraw" type="single" target="FindBankDepositOrWithdraw" >
         <actions>
            <set field="organizationPartyId" from-field="organizationPartyId" default-value="${defaultOrganizationPartyId}"/>
            <set field="noConditionFind" value="Y"/>
        </actions>
        <field name="finAccountId"><hidden/></field>
        <field name="organizationPartyId"><hidden/></field>
        <field name="noConditionFind"><hidden/></field>
        <field name="paymentMethodTypeId" title="${uiLabelMap.FormFieldTitle_paymentMethodTypeId}">
            <drop-down allow-empty="true">
             <!--    <entity-options entity-name="PaymentMethodType" description="${description}">
                    <entity-order-by field-name="description"/>
                    
                </entity-options> -->
                 <list-options list-name="paymentMethodTypeList" key-name="paymentMethodTypeId" description="${description}"/>
            </drop-down>
        </field>
        <field name="partyIdFrom" title="${uiLabelMap.AccountingPartyIdFrom}">
            <lookup target-form-name="LookupPartyName"/>
        </field> 
        <field name="issuingAuthority"><text/></field>
        <field name="fromDate"><date-time/></field>
        <field name="thruDate"><date-time/></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    
    <form name="EditDepositAccount" type="single" target="createDepositFinAccountAndDeposit" default-map-name="finAccount"
        header-row-style="header-row" default-table-style="basic-table">
        <actions>
            <entity-condition entity-name="FinAccountType" list="depositAccountTypes">
            	<condition-list combine="or">
            		<condition-expr field-name="finAccountTypeId" operator="equals" value="DEPOSIT_RECEIPT"/>
            		<condition-expr field-name="finAccountTypeId" operator="equals" value="DEPOSIT_PAID"/>
            	</condition-list>
            </entity-condition>
        </actions>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done after creating the Deposit Account --></field>
        
		<field name="acctParentTypeId" id-name="parentTypeId" use-when="finAccount==null&amp;&amp;finAccountId==null" title="Account Type" event="onchange" action="javascript:parentTypeOnchange();">
        	<drop-down>
        		<list-options key-name="finAccountTypeId" list-name="depositAccountTypes" description="${description}"/>
        	</drop-down>
        </field>
        <field name="finAccountId" use-when="finAccount==null&amp;&amp;finAccountId==null"><ignored/></field>
      	<field name="finAccountTypeId" id-name="finTypeId" use-when="finAccountId ==null" title="Deposit Account Type" >
            <drop-down no-current-selected-key="DEPOSIT_ACCOUNT">
                <entity-options description="${description}" entity-name="FinAccountType">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="finAccountName" title="Account Name"><text size="20"/></field>
        <!-- <field name="postToGlAccountId" required-field="true"><lookup target-form-name="LookupGlAccount"/></field> -->
        <field name="ownerPartyId" title="From/To PartyId" required-field="true"><lookup target-form-name="LookupPartyName"/></field>
        <field name="entryType"><hidden value="Contra"/></field>
        <field name="transactionDate" title="Receipt Date"> <date-time/> </field>
        <!-- <field name="contraFinAccountId"  title="From Account">
            <drop-down>
            	<list-options key-name="finAccountId" list-name="companyAccountsList" description="${finAccountName}"/>
            </drop-down>
        </field> -->
        <field name="finAccountIdTo" title="From/To Account" >
            <drop-down allow-empty="false">
            	<list-options key-name="finAccountId" list-name="companyBanksList" description="${finAccountName}"/>
            </drop-down>
        </field>
        <field name="amount" required-field="true"><text/></field>
        <field name="contraRefNum" title="Instrument No"><text/></field>
        <field name="inFavor" title="Cheque Infavor of"><text/></field>         
        <field name="comments"><text/></field>
        <field name="finAccountTransTypeId"><hidden value="WITHDRAWAL"/></field>
        <field name="currencyUomId"><hidden value="INR"/></field>
        <field name="statusId" use-when="finAccount==null" title="${uiLabelMap.CommonStatus}"><hidden value="FNACT_ACTIVE"/></field>
        <field name="isRefundable"><hidden value="Y"/></field>
        <!-- <field name="ownerPartyId"><hidden value="Company"/></field> -->
        <field name="organizationPartyId"><hidden value="Company"/></field>
        <field name="submitButton" use-when="finAccountId==null &amp;&amp; hasFinEditPermission" title="${uiLabelMap.CommonCreate}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
      <form name="EditDepositReceivedAccount" type="single" target="createDepositReceivedFinAccountAndDeposit" default-map-name="finAccount"
        header-row-style="header-row" default-table-style="basic-table">
        <actions>
            <entity-condition entity-name="FinAccountType" list="depositAccountTypes">
            	<condition-list combine="or">
            		<condition-expr field-name="finAccountTypeId" operator="equals" value="DEPOSIT_RECEIPT"/>
<!--             		<condition-expr field-name="finAccountTypeId" operator="equals" value="DEPOSIT_PAID"/> -->
            	</condition-list>
            </entity-condition>
        </actions>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done after creating the Deposit Account --></field>
        
		<field name="acctParentTypeId" id-name="parentTypeId" use-when="finAccount==null&amp;&amp;finAccountId==null" title="Account Type" event="onchange" action="javascript:parentTypeOnchange();">
        	<drop-down>
        		<list-options key-name="finAccountTypeId" list-name="depositAccountTypes" description="${description}"/>
        	</drop-down>
        </field>
        <field name="finAccountId" use-when="finAccount==null&amp;&amp;finAccountId==null"><ignored/></field>
      	<field name="finAccountTypeId" id-name="finTypeId" use-when="finAccountId ==null" title="Deposit Account Type" >
            <drop-down no-current-selected-key="DEPOSIT_ACCOUNT">
                <entity-options description="${description}" entity-name="FinAccountType">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="finAccountName" title="Account Name"><text size="20"/></field>
        <!-- <field name="postToGlAccountId" required-field="true"><lookup target-form-name="LookupGlAccount"/></field> -->
        <field name="ownerPartyId" title="From/To PartyId" required-field="true"><lookup target-form-name="LookupPartyName"/></field>
        <field name="entryType"><hidden value="Contra"/></field>
        <field name="transactionDate" title="Receipt Date"> <date-time/> </field>
        <!-- <field name="contraFinAccountId"  title="From Account">
            <drop-down>
            	<list-options key-name="finAccountId" list-name="companyAccountsList" description="${finAccountName}"/>
            </drop-down>
        </field> -->
        <field name="finAccountIdTo" title="From/To Account" >
            <drop-down allow-empty="false">
            	<list-options key-name="finAccountId" list-name="companyBanksList" description="${finAccountName}"/>
            </drop-down>
        </field>
        <field name="amount" required-field="true"><text/></field>
        <field name="contraRefNum" title="Instrument No"><text/></field>
        <field name="inFavor" title="Cheque Infavor of"><text/></field>         
        <field name="comments"><text/></field>
        <field name="finAccountTransTypeId"><hidden value="WITHDRAWAL"/></field>
        <field name="currencyUomId"><hidden value="INR"/></field>
        <field name="statusId" use-when="finAccount==null" title="${uiLabelMap.CommonStatus}"><hidden value="FNACT_ACTIVE"/></field>
        <field name="isRefundable"><hidden value="Y"/></field>
        <!-- <field name="ownerPartyId"><hidden value="Company"/></field> -->
        <field name="organizationPartyId"><hidden value="Company"/></field>
        <field name="submitButton" use-when="finAccountId==null &amp;&amp; hasFinEditPermission" title="${uiLabelMap.CommonCreate}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
      <form name="EditDepositPaidAccount" type="single" target="createDepositPaidFinAccountAndDeposit" default-map-name="finAccount"
        header-row-style="header-row" default-table-style="basic-table">
        <actions>
            <entity-condition entity-name="FinAccountType" list="depositAccountTypes">
            	<condition-list combine="or">
<!--             		<condition-expr field-name="finAccountTypeId" operator="equals" value="DEPOSIT_RECEIPT"/> -->
            		<condition-expr field-name="finAccountTypeId" operator="equals" value="DEPOSIT_PAID"/>
            	</condition-list>
            </entity-condition>
        </actions>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done after creating the Deposit Account --></field>
        
		<field name="acctParentTypeId" id-name="parentTypeId" use-when="finAccount==null&amp;&amp;finAccountId==null" title="Account Type" event="onchange" action="javascript:parentTypeOnchange();">
        	<drop-down>
        		<list-options key-name="finAccountTypeId" list-name="depositAccountTypes" description="${description}"/>
        	</drop-down>
        </field>
        <field name="finAccountId" use-when="finAccount==null&amp;&amp;finAccountId==null"><ignored/></field>
      	<field name="finAccountTypeId" id-name="finTypeId" use-when="finAccountId ==null" title="Deposit Account Type" >
            <drop-down no-current-selected-key="DEPOSIT_ACCOUNT">
                <entity-options description="${description}" entity-name="FinAccountType">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="finAccountName" title="Account Name"><text size="20"/></field>
        <!-- <field name="postToGlAccountId" required-field="true"><lookup target-form-name="LookupGlAccount"/></field> -->
        <field name="ownerPartyId" title="From/To PartyId" required-field="true"><lookup target-form-name="LookupPartyName"/></field>
        <field name="entryType"><hidden value="Contra"/></field>
        <field name="transactionDate" title="Receipt Date"> <date-time/> </field>
        <!-- <field name="contraFinAccountId"  title="From Account">
            <drop-down>
            	<list-options key-name="finAccountId" list-name="companyAccountsList" description="${finAccountName}"/>
            </drop-down>
        </field> -->
        <field name="finAccountIdTo" title="From/To Account" >
            <drop-down allow-empty="false">
            	<list-options key-name="finAccountId" list-name="companyBanksList" description="${finAccountName}"/>
            </drop-down>
        </field>
        <field name="amount" required-field="true"><text/></field>
        <field name="contraRefNum" title="Instrument No"><text/></field>
        <field name="inFavor" title="Cheque Infavor of"><text/></field>         
        <field name="comments"><text/></field>
        <field name="finAccountTransTypeId"><hidden value="WITHDRAWAL"/></field>
        <field name="currencyUomId"><hidden value="INR"/></field>
        <field name="statusId" use-when="finAccount==null" title="${uiLabelMap.CommonStatus}"><hidden value="FNACT_ACTIVE"/></field>
        <field name="isRefundable"><hidden value="Y"/></field>
        <!-- <field name="ownerPartyId"><hidden value="Company"/></field> -->
        <field name="organizationPartyId"><hidden value="Company"/></field>
        <field name="submitButton" use-when="finAccountId==null &amp;&amp; hasFinEditPermission" title="${uiLabelMap.CommonCreate}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
     <form name="EditAdvanceDeposit" type="single" target="createAdvanceDepositPaidFinAccountAndDeposit" default-map-name="finAccount"
        header-row-style="header-row" default-table-style="basic-table">
        <actions>
            <entity-condition entity-name="FinAccountType" list="depositAccountTypes">
            	<condition-list combine="or">
<!--             		<condition-expr field-name="finAccountTypeId" operator="equals" value="DEPOSIT_RECEIPT"/> -->
            		<condition-expr field-name="finAccountTypeId" operator="equals" value="DEPOSIT_PAID"/>
            	</condition-list>
            </entity-condition>
        </actions>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done after creating the Deposit Account --></field>
        
		<field name="acctParentTypeId" id-name="parentTypeId" use-when="finAccount==null&amp;&amp;finAccountId==null" title="Account Type" event="onchange" action="javascript:parentTypeOnchange();">
        	<!--<drop-down>
        		<list-options key-name="finAccountTypeId" list-name="depositAccountTypes" description="${description}"/>
        	</drop-down> -->
        	<hidden value="DEPOSIT_PAID"/>
        </field>
        <field name="finAccountId" use-when="finAccount==null&amp;&amp;finAccountId==null"><ignored/></field>
      	<field name="finAccountTypeId" id-name="finTypeId" use-when="finAccountId ==null" title="Deposit Account Type" >
            <drop-down no-current-selected-key="DEPOSIT_ACCOUNT">
                <entity-options description="${description}" entity-name="FinAccountType">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="finAccountName" title="Account Name"><text size="20"/></field>
        <field name="roleTypeId"><hidden value="BRANCH_EMPLOYEE"/></field>
        <!-- <field name="postToGlAccountId" required-field="true"><lookup target-form-name="LookupGlAccount"/></field> -->
        <field name="ownerPartyId" title="From/To PartyId" required-field="true"><lookup target-form-name="LookupPartyName" target-parameter="roleTypeId"/></field>
        <field name="entryType"><hidden value="Contra"/></field>
        <field name="transactionDate" title="Receipt Date"> <date-time/> </field>
        <!-- <field name="contraFinAccountId"  title="From Account">
            <drop-down>
            	<list-options key-name="finAccountId" list-name="companyAccountsList" description="${finAccountName}"/>
            </drop-down>
        </field> -->
        <field name="finAccountIdTo" title="From/To Account" >
            <drop-down allow-empty="false">
            	<list-options key-name="finAccountId" list-name="companyBanksList" description="${finAccountName}"/>
            </drop-down>
        </field>
        <field name="amount" required-field="true"><text/></field>
        <field name="contraRefNum" title="Instrument No"><text/></field>
        <field name="inFavor" title="Cheque Infavor of"><text/></field>         
        <field name="comments"><text/></field>
        <field name="finAccountTransTypeId"><hidden value="WITHDRAWAL"/></field>
        <field name="currencyUomId"><hidden value="INR"/></field>
        <field name="statusId" use-when="finAccount==null" title="${uiLabelMap.CommonStatus}"><hidden value="FNACT_ACTIVE"/></field>
        <field name="isRefundable"><hidden value="Y"/></field>
        <!-- <field name="ownerPartyId"><hidden value="Company"/></field> -->
        <field name="organizationPartyId"><hidden value="Company"/></field>
        <field name="submitButton" use-when="finAccountId==null &amp;&amp; hasFinEditPermission" title="${uiLabelMap.CommonCreate}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
     <form name="EditBankAccount" type="single" target="updateFinAccount" default-map-name="finAccount"
        header-row-style="header-row" default-table-style="basic-table">
        <actions>
            <entity-one entity-name="StatusItem" value-field="currentStatus" auto-field-map="false">
                <field-map field-name="statusId" from-field="finAccount.statusId"/>
            </entity-one>
        </actions>
        <alt-target use-when="finAccount==null" target="createFinAccount"/>
        <auto-fields-service service-name="updateBankAccount"/>

        <field name="finAccountId" use-when="finAccountId!=null" title="Bank Account Id"  tooltip="${uiLabelMap.CommonNotModifRecreat}"><display/></field>
        <field name="finAccountId" use-when="finAccount==null&amp;&amp;finAccountId==null"><ignored/></field>
        <field name="finAccountId" use-when="finAccount==null&amp;&amp;finAccountId!=null" tooltip="${uiLabelMap.CommonCannotBeFound}: [${finAccountId}]"><display also-hidden="false"/></field>
		<field name="finAccountBranch"><text size="20"/></field>

        <field name="finAccountCode"><text size="20"/></field>
        <field name="finAccountCode" use-when="!hasFinEditPermission"><display/></field>
       <!--  <field name="categoryTypeEnum">
			<drop-down>
                <entity-options description="${description}" entity-name="Enumeration" key-field-name="enumId">
                    <entity-constraint name="enumTypeId" operator="equals" value="FIN_ACCOUNT_CAT_ENUM"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
		</field>     -->  
        <field name="finAccountPin"><text size="10"/></field>
        <field name="finAccountPin" use-when="!hasFinEditPermission"><display/></field>
        <field name="finAccountTypeId" title="${uiLabelMap.FormFieldTitle_finAccountType}">
            <drop-down no-current-selected-key="DEPOSIT_ACCOUNT">
                <entity-options description="${description}" entity-name="FinAccountType">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="finAccountTypeId" title="${uiLabelMap.FormFieldTitle_finAccountType}" use-when="!hasFinEditPermission"><display/></field>
        <field name="currencyUomId" title="${uiLabelMap.CommonCurrency}">
            <drop-down no-current-selected-key="${defaultOrganizationPartyCurrencyUomId}">
                <entity-options key-field-name="uomId" description="${description} - ${abbreviation}" entity-name="Uom">
                    <entity-constraint name="uomTypeId" operator="equals" value="CURRENCY_MEASURE"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
         <field name="currencyUomId" title="${uiLabelMap.CommonCurrency}" use-when="!hasFinEditPermission"><display/></field>
        <field name="organizationPartyId"><lookup target-form-name="LookupPartyName"/></field>
        <field name="organizationPartyId" use-when="!hasFinEditPermission"><display/></field>
        <field name="ownerPartyId"><lookup target-form-name="LookupPartyName"/></field>
        <field name="ownerPartyId" use-when="!hasFinEditPermission"><display/></field>
        <field name="postToGlAccountId"><lookup target-form-name="LookupGlAccount"/></field>
        <field name="micrNumber" title="${uiLabelMap.micrNumber}"><text></text></field>
       	<field name="postToGlAccountId" use-when="!hasFinEditPermission"><display/></field>
        <field name="statusId" use-when="finAccount==null" title="${uiLabelMap.CommonStatus}">
            <drop-down allow-empty="false">
                <entity-options entity-name="StatusItem" description="${description}">
                    <entity-constraint name="statusTypeId" value="FINACCT_STATUS"/>

                </entity-options>
            </drop-down>
        </field>
        <field name="statusId" use-when="finAccount!=null" title="${uiLabelMap.CommonStatus}">
            <drop-down allow-empty="false" current-description="${currentStatus.description}">
                <entity-options entity-name="StatusValidChangeToDetail" key-field-name="statusIdTo" description="${transitionName} (${description})">
                    <entity-constraint name="statusId" env-name="finAccount.statusId"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="statusId" use-when="finAccount!=null &amp;&amp;!hasFinEditPermission" title="${uiLabelMap.CommonStatus}"><display/> </field>
        <field name="isRefundable">
            <drop-down no-current-selected-key="Y"><option key="Y" description="${uiLabelMap.CommonY}"/><option key="N" description="${uiLabelMap.CommonN}"/></drop-down>
        </field>
        <field name="isRefundable" use-when="!hasFinEditPermission"><display/></field>
         <field name="actualBalance"><text size="20"/></field>
         <field name="actualBalance" use-when="!hasFinEditPermission"><display/></field>
        <field name="availableBalance"><text size="20"></text></field>
        <field name="availableBalance" use-when="!hasFinEditPermission"><display/></field>
        <field name="finAccountName" use-when="!hasFinEditPermission"><display/></field>
        <field name="fromDate" use-when="!hasFinEditPermission"><display/></field>
        <field name="thruDate" use-when="!hasFinEditPermission"><display/></field>
        <field name="replenishLevel" use-when="!hasFinEditPermission"><display/></field>
        <field name="replenishPaymentId" use-when="!hasFinEditPermission"><display/></field>
        <field name="submitButton" use-when="finAccountId==null &amp;&amp; hasFinEditPermission" title="${uiLabelMap.CommonCreate}" widget-style="smallSubmit"><submit button-type="button"/></field>
        <field name="submitButton" use-when="finAccountId!=null &amp;&amp; hasFinEditPermission" title="${uiLabelMap.CommonUpdate}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    
    <form name="FindIncomingAdvancesReceived" type="single" target="IncomingAdvancesReceived" header-row-style="header-row" default-table-style="basic-table">
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="paymentId"><text-find ignore-case="true"/></field>
        <field name="comments"><text-find ignore-case="true"/></field>
        <field name="paymentTypeId" position="1">
            <drop-down allow-empty="true">
                <entity-options entity-name="PaymentType" description="${description}">
                    <entity-constraint name="parentTypeId" value="ADVANCES_PAYIN" />
                </entity-options>
            </drop-down>
        </field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}" position="2">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="StatusItem">
                    <entity-constraint name="statusTypeId" operator="equals" value="PMNT_STATUS"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field position="1" name="partyIdFrom"><lookup target-form-name="LookupPartyName"/></field>
        <field position="2" name="partyIdTo"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentDate"><date-find type="date" default-option-from="sameDay"/></field>
        <field position="1" name="amount"><range-find></range-find></field>
        <field name="paymentRefNum"><text-find ignore-case="true"/></field>
        <field name="parentTypeId"><hidden value="ADVANCES_PAYIN"/></field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="NewIncomingAdvanceReceipt" type="single" target="createNewIncomingAdvanceReceipt" default-map-name="payment"
        header-row-style="header-row" default-table-style="basic-table" >
        <field name="statusId"><hidden value="PMNT_NOT_PAID"/></field>
           <field name="paymentPurposeType"><hidden value="NHDC_RECEIPT"></hidden></field>
        <field name="currencyUomId"><hidden value="${defaultOrganizationPartyCurrencyUomId}"/></field>
        <field position="1" name="organizationPartyId" parameter-name="partyIdTo">
            <drop-down allow-empty="false" no-current-selected-key="${defaultOrganizationPartyId}">
                <entity-options description="${groupName}" entity-name="PartyAcctgPrefAndGroup" key-field-name="partyId">
                	<entity-order-by field-name="groupName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyIdFrom" position="2" required-field="true"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentTypeId" title="${uiLabelMap.AccountingPaymentType}" position="1">
            <drop-down allow-empty="false">
                <entity-options description="${description}" entity-name="PaymentType">
                    <entity-constraint name="parentTypeId" value="ADVANCES_PAYIN"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <!-- <field position="2" name="paymentMethodTypeId" event="onchange" action="javascript:paymentFieldsOnchange();">
            <drop-down allow-empty="false">
                <entity-options entity-name="PaymentMethodType"  description="${description}">
                	<entity-constraint name="paymentMethodTypeId" operator="like" value="%_PAYIN%"/>
                    <entity-order-by field-name="description"/>                   
                </entity-options>
            </drop-down>
        </field> -->
        <field position="2" name="paymentMethodTypeId" title="${uiLabelMap.FormFieldTitle_paymentMethodTypeId}" event="onchange" action="javascript:paymentFieldsOnchange();" >
            <drop-down allow-empty="true">
                 <list-options list-name="paymentMethodTypeList" key-name="paymentMethodTypeId" description="${description}"/>
            </drop-down>
        </field>
        <field name="paymentRefNum" position="1" title="${uiLabelMap.paymentRefNum}"><text/></field>
        <field name="paymentDate" position="2" title="${uiLabelMap.effectiveDate}"><date-time type="timestamp"></date-time></field>
        <field name="transactionDate" position="2" title="Tally Reference Date"><date-time type="timestamp"></date-time></field>
        <field name="issuingAuthority" position="2" title="${uiLabelMap.issuingAuthority}"><text></text></field>       
        <field name="amount" position="1" required-field="true"><text/></field>
        <field name="tallyRefNo" position="1" title="Tally Reference No"><text/></field>
        <field name="comments" position="2"><text size="70"/></field>
        <field name="isDepositWithDrawPayment"><hidden value="Y"/></field>
        <field name="finAccountTransTypeId"><hidden value="DEPOSIT"/></field>
        <field position="1" name="createButton" widget-style="smallSubmit">
            <submit button-type="button"/>
        </field>
    </form>
    
    
    <form name="FindIncomingAdvancesRefund" type="single" target="IncomingAdvancesRefund" header-row-style="header-row" default-table-style="basic-table">
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="paymentId"><text-find ignore-case="true"/></field>
        <field name="comments"><text-find ignore-case="true"/></field>
        <field name="paymentTypeId" position="1">
            <drop-down allow-empty="true">
                <entity-options entity-name="PaymentType" description="${description}">
                    <entity-constraint name="parentTypeId" value="REFUND_PAYOUT"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}" position="2">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="StatusItem">
                    <entity-constraint name="statusTypeId" operator="equals" value="PMNT_STATUS"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field position="1" name="partyIdFrom"><lookup target-form-name="LookupPartyName"/></field>
        <field position="2" name="partyIdTo"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentDate"><date-find type="date" default-option-from="sameDay"/></field>
        <field position="1" name="amount"><range-find></range-find></field>
        <field name="paymentRefNum"><text-find ignore-case="true"/></field>
        <field name="parentTypeId"><hidden value="REFUND_PAYOUT"/></field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    
    <form name="FindDepositWithdraw" type="single" >
        <actions>
            <set field="organizationPartyId" from-field="organizationPartyId" default-value="${defaultOrganizationPartyId}"/>
            <set field="noConditionFind" value="Y"/>
        </actions>
        <field name="paymentMethodTypeId" title="${uiLabelMap.FormFieldTitle_paymentMethodTypeId}">
            <drop-down allow-empty="true">
                <entity-options entity-name="PaymentMethodType" description="${description}">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="organizationPartyId"><hidden/></field>
        <field name="noConditionFind"><hidden/></field>
        <field name="partyIdFrom" title="${uiLabelMap.AccountingPartyIdFrom}">
            <lookup target-form-name="LookupPartyName"/>
        </field> 
        <field name="issuingAuthority"><text/></field>
        <field name="fromDate"><date-time/></field>
        <field name="thruDate"><date-time/></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    
    <!-- ============= Outgoing Advances =========== -->
    
    <form name="FindOutgoingAdvancesRefund" type="single" target="OutgoingAdvancesRefund" header-row-style="header-row" default-table-style="basic-table">
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="paymentId"><text-find ignore-case="true"/></field>
        <field name="comments"><text-find ignore-case="true"/></field>
        <field name="paymentTypeId" position="1">
            <drop-down allow-empty="true">
                <entity-options entity-name="PaymentType" description="${description}">
                    <entity-constraint name="parentTypeId" value="REFUND_PAYIN" />
                </entity-options>
            </drop-down>
        </field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}" position="2">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="StatusItem">
                    <entity-constraint name="statusTypeId" operator="equals" value="PMNT_STATUS"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field position="1" name="partyIdFrom"><lookup target-form-name="LookupPartyName"/></field>
        <field position="2" name="partyIdTo"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentDate"><date-find type="date" default-option-from="sameDay"/></field>
        <field position="1" name="amount"><range-find></range-find></field>
        <field name="paymentRefNum"><text-find ignore-case="true"/></field>
        <field name="parentTypeId"><hidden value="REFUND_PAYIN"/></field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    
    <form name="FindOutgoingAdvancesPaid" type="single" target="OutgoingAdvancesPaid" header-row-style="header-row" default-table-style="basic-table">
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="paymentId"><text-find ignore-case="true"/></field>
        <field name="comments"><text-find ignore-case="true"/></field>
        <field name="paymentTypeId" position="1">
            <drop-down allow-empty="true">
                <entity-options entity-name="PaymentType" description="${description}">
                    <entity-constraint name="parentTypeId" value="ADVANCES_PAYOUT"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}" position="2">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="StatusItem">
                    <entity-constraint name="statusTypeId" operator="equals" value="PMNT_STATUS"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field position="1" name="partyIdFrom"><lookup target-form-name="LookupPartyName"/></field>
        <field position="2" name="partyIdTo"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentDate"><date-find type="date" default-option-from="sameDay"/></field>
        <field position="1" name="amount"><range-find></range-find></field>
        <field name="paymentRefNum"><text-find ignore-case="true"/></field>
        <field name="parentTypeId"><hidden value="ADVANCES_PAYOUT"/></field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    
    <form name="NewOutgoingAdvancesPaid" type="single" target="createNewOutgoingAdvancePayments" default-map-name="payment"
        header-row-style="header-row" default-table-style="basic-table" >
        <actions>
            <entity-condition entity-name="PaymentType" list="paymentTypes">
                <condition-list combine="or">
                    <condition-expr field-name="parentTypeId" operator="equals" value="ADVANCES_PAYOUT"/>
                </condition-list>
                <order-by field-name="description"/>
            </entity-condition>
            <entity-one entity-name="PartyGroup" use-cache="true" value-field="partyGroup">
                <field-map field-name="partyId" from-field="parameters.partyIdFrom"/>
            </entity-one>
            <set field="partyGroupName" from-field="partyGroup.groupName"/>
<!--             <set field="paymentPartyId" from-field="parameters.partyIdFrom" default-value="${defaultOrganizationPartyId}"/> -->
            <entity-condition entity-name="PaymentMethodAndFinAccount" list="paymentMethodAndFinAccounts">
                <condition-list>
                    <condition-expr field-name="partyId" from-field="paymentPartyId"/>
                    <condition-expr field-name="statusId" operator="not-equals" value="FNACT_MANFROZEN"/>
                    <condition-expr field-name="statusId" operator="not-equals" value="FNACT_CANCELLED"/>
                </condition-list>
            </entity-condition>
        </actions>
        <field name="statusId"><hidden value="PMNT_NOT_PAID"/></field>
        <field name="paymentPurposeType"><hidden value="NHDC_RECEIPT"></hidden></field>
        <field name="currencyUomId"><hidden value="${defaultOrganizationPartyCurrencyUomId}"/></field>
         <field position="1" name="organizationPartyId" id-name="organizationPartyId"  parameter-name="partyIdFrom" event="onchange"  action="javascript:paymentMethodType();">
            <drop-down allow-empty="false" no-current-selected-key="${defaultOrganizationPartyId}">
                <option key="${parameters.partyIdFrom}" description="${partyGroupName}"/>
                <entity-options description="${groupName}" entity-name="PartyAcctgPrefAndGroup" key-field-name="partyId">
                    <entity-order-by field-name="groupName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyIdTo" position="2"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentTypeId" title="${uiLabelMap.AccountingPaymentType}" position="1">
            <drop-down allow-empty="false">
                <list-options list-name="paymentTypes" key-name="paymentTypeId" description="${description}"/>
            </drop-down>
        </field>
        <field name="paymentMethodId" id-name="paymentMethodId" position="2" event="onchange" action="javascript:setPaymentMethodTypeFields();" >
            <drop-down allow-empty="false">
                <entity-options entity-name="PaymentMethod" description="${description}">
                    <entity-constraint name="partyId" operator="equals" env-name="paymentPartyId"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="paymentRefNum" position="1" title="${uiLabelMap.paymentRefNum}"><text/></field>
        <field name="paymentDate" position="2" title="${uiLabelMap.effectiveDate}"><date-time type="timestamp"></date-time></field>
        <field name="transactionDate" position="2" title="Tally Reference Date"><date-time type="timestamp"></date-time></field>
        <field name="issuingAuthority" position="2" title="${uiLabelMap.issuingAuthority}"><text></text></field>          
        <field name="amount" position="1" required-field="true"><text/></field>
        <field name="tallyRefNo" position="1" title="Tally Reference No"><text/></field>
        <field name="comments" position="2"><text size="70"/></field>
        <field name="chequeInFavour" position="2"><text size="50"/></field>
        <field name="isDepositWithDrawPayment"><hidden value="Y"/></field>
        <field name="finAccountTransTypeId"><hidden value="WITHDRAWAL"/></field>
        <field position="1" name="createButton" widget-style="smallSubmit">
            <submit button-type="button"/>
        </field>
    </form>
    
    <!-- ==========================Incoming Deposits======================================== -->
    
    <form name="FindIncomingDepositsReceived" type="single" target="IncomingDepositsReceived" header-row-style="header-row" default-table-style="basic-table">
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="paymentId"><text-find ignore-case="true"/></field>
        <field name="comments"><text-find ignore-case="true"/></field>
        <field name="paymentTypeId" position="1">
            <drop-down allow-empty="true">
                <entity-options entity-name="PaymentType" description="${description}">
                    <entity-constraint name="parentTypeId" value="SECDEPOSIT_PAYIN" />
                </entity-options>
            </drop-down>
        </field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}" position="2">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="StatusItem">
                    <entity-constraint name="statusTypeId" operator="equals" value="PMNT_STATUS"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field position="1" name="partyIdFrom"><lookup target-form-name="LookupPartyName"/></field>
        <field position="2" name="partyIdTo"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentDate"><date-find type="date" default-option-from="sameDay"/></field>
        <field position="1" name="amount"><range-find></range-find></field>
        <field name="paymentRefNum"><text-find ignore-case="true"/></field>
        <field name="parentTypeId"><hidden value="SECDEPOSIT_PAYIN"/></field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="NewIncomingDepositsReceipt" type="single" target="createNewIncomingDepositsReceipt" default-map-name="payment"
        header-row-style="header-row" default-table-style="basic-table" >
        <field name="statusId"><hidden value="PMNT_NOT_PAID"/></field>
        <field name="currencyUomId"><hidden value="${defaultOrganizationPartyCurrencyUomId}"/></field>
        <field position="1" name="organizationPartyId" parameter-name="partyIdTo">
            <drop-down allow-empty="false" no-current-selected-key="${defaultOrganizationPartyId}">
                <entity-options description="${groupName}" entity-name="PartyAcctgPrefAndGroup" key-field-name="partyId">
                	<entity-order-by field-name="groupName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyIdFrom" position="2" required-field="true"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentTypeId" title="${uiLabelMap.AccountingPaymentType}" position="1">
            <drop-down allow-empty="false">
                <entity-options description="${description}" entity-name="PaymentType">
                    <entity-constraint name="parentTypeId" value="SECDEPOSIT_PAYIN"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
      <!--   <field position="2" name="paymentMethodTypeId" event="onchange" action="javascript:paymentFieldsOnchange();">
            <drop-down allow-empty="false">
                <entity-options entity-name="PaymentMethodType"  description="${description}">
                	<entity-constraint name="paymentMethodTypeId" operator="like" value="%_PAYIN%"/>
                    <entity-order-by field-name="description"/>                   
                </entity-options>
            </drop-down>
        </field> -->
        <field name="paymentMethodTypeId" title="${uiLabelMap.FormFieldTitle_paymentMethodTypeId}" event="onchange" action="javascript:paymentFieldsOnchange();"  position="2">
            <drop-down allow-empty="true">
                 <list-options list-name="paymentMethodTypeList" key-name="paymentMethodTypeId" description="${description}"/>
            </drop-down>
        </field>
        <field name="paymentRefNum" position="1" title="${uiLabelMap.paymentRefNum}" required-field="true"><text/></field>
        <field name="paymentDate" position="2" title="${uiLabelMap.effectiveDate}"><date-time type="timestamp"></date-time></field>
        <field name="issuingAuthority" position="2" title="${uiLabelMap.issuingAuthority}" required-field="true"><text></text></field>        
        <field name="amount" position="1" required-field="true"><text/></field>
        <field name="comments" position="2"><text size="70"/></field>
        <field name="isDepositWithDrawPayment"><hidden value="Y"/></field>
        <field name="finAccountTransTypeId"><hidden value="DEPOSIT"/></field>
        <field position="1" name="createButton" widget-style="smallSubmit">
            <submit button-type="button"/>
        </field>
    </form>
    <form name="FindIncomingDepositsRefund" type="single" target="IncomingDepositsRefund" header-row-style="header-row" default-table-style="basic-table">
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="paymentId"><text-find ignore-case="true"/></field>
        <field name="comments"><text-find ignore-case="true"/></field>
        <field name="paymentTypeId" position="1">
            <drop-down allow-empty="true">
                <entity-options entity-name="PaymentType" description="${description}">
                    <entity-constraint name="parentTypeId" value="REFSDEPOSIT_PAYOUT"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}" position="2">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="StatusItem">
                    <entity-constraint name="statusTypeId" operator="equals" value="PMNT_STATUS"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field position="1" name="partyIdFrom"><lookup target-form-name="LookupPartyName"/></field>
        <field position="2" name="partyIdTo"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentDate"><date-find type="date" default-option-from="sameDay"/></field>
        <field position="1" name="amount"><range-find></range-find></field>
        <field name="paymentRefNum"><text-find ignore-case="true"/></field>
        <field name="parentTypeId"><hidden value="REFSDEPOSIT_PAYOUT"/></field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="NewIncomingDepositsRefund" type="single" target="createNewIncomingDepositsRefund" default-map-name="payment"
        header-row-style="header-row" default-table-style="basic-table" >
        <actions>
            <entity-condition entity-name="PaymentType" list="paymentTypes">
                <condition-list combine="or">
                    <condition-expr field-name="parentTypeId" operator="equals" value="REFSDEPOSIT_PAYOUT"/>
                </condition-list>
                <order-by field-name="description"/>
            </entity-condition>
            <entity-one entity-name="PartyGroup" use-cache="true" value-field="partyGroup">
                <field-map field-name="partyId" from-field="parameters.partyIdFrom"/>
            </entity-one>
            <set field="partyGroupName" from-field="partyGroup.groupName"/>
            <set field="paymentPartyId" from-field="parameters.partyIdFrom" default-value="${defaultOrganizationPartyId}"/>
            <entity-condition entity-name="PaymentMethodAndFinAccount" list="paymentMethodAndFinAccounts">
                <condition-list>
                    <condition-expr field-name="partyId" from-field="paymentPartyId"/>
                    <condition-expr field-name="statusId" operator="not-equals" value="FNACT_MANFROZEN"/>
                    <condition-expr field-name="statusId" operator="not-equals" value="FNACT_CANCELLED"/>
                </condition-list>
            </entity-condition>
        </actions>
        <field name="statusId"><hidden value="PMNT_NOT_PAID"/></field>
        <field name="currencyUomId"><hidden value="${defaultOrganizationPartyCurrencyUomId}"/></field>
        <field position="1" name="organizationPartyId" parameter-name="partyIdFrom" event="onchange" action="javascript:(document.NewPaymentOut.action = 'newPayment'),(document.NewPaymentOut.submit())">
            <drop-down allow-empty="false">
                <option key="${parameters.partyIdFrom}" description="${partyGroupName}"/>
                <entity-options description="${groupName}" entity-name="PartyAcctgPrefAndGroup" key-field-name="partyId">
                    <entity-order-by field-name="groupName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyIdTo" position="2"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentTypeId" title="${uiLabelMap.AccountingPaymentType}" position="1">
            <drop-down allow-empty="false">
                <list-options list-name="paymentTypes" key-name="paymentTypeId" description="${description}"/>
            </drop-down>
        </field>
        <field name="paymentMethodId" id-name="paymentMethodId" position="2" event="onchange" action="javascript:setPaymentMethodTypeFields();" >
            <drop-down allow-empty="false">
                <entity-options entity-name="PaymentMethod" description="${description}">
                    <entity-constraint name="partyId" operator="equals" env-name="paymentPartyId"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="paymentRefNum" position="1" title="${uiLabelMap.paymentRefNum}" required-field="true"><text/></field>
        <field name="paymentDate" position="2" title="${uiLabelMap.effectiveDate}"><date-time type="timestamp"></date-time></field>
        <field name="issuingAuthority" position="2" title="${uiLabelMap.issuingAuthority}" required-field="true"><text></text></field>            
        <field name="amount" position="1" required-field="true"><text/></field>
        <field name="comments" position="2"><text size="70"/></field>
        <field name="isDepositWithDrawPayment"><hidden value="Y"/></field>
        <field name="finAccountTransTypeId"><hidden value="WITHDRAWAL"/></field>
        <field position="1" name="createButton" widget-style="smallSubmit">
            <submit button-type="button"/>
        </field>
    </form>
    
    <!-- ==========================Outgoing Deposits======================================== -->
    
    <form name="FindOutgoingDepositsRefund" type="single" target="OutgoingDepositsRefund" header-row-style="header-row" default-table-style="basic-table">
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="paymentId"><text-find ignore-case="true"/></field>
        <field name="comments"><text-find ignore-case="true"/></field>
        <field name="paymentTypeId" position="1">
            <drop-down allow-empty="true">
                <entity-options entity-name="PaymentType" description="${description}">
                    <entity-constraint name="parentTypeId" value="REFSDEPOSIT_PAYIN" />
                </entity-options>
            </drop-down>
        </field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}" position="2">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="StatusItem">
                    <entity-constraint name="statusTypeId" operator="equals" value="PMNT_STATUS"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field position="1" name="partyIdFrom"><lookup target-form-name="LookupPartyName"/></field>
        <field position="2" name="partyIdTo"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentDate"><date-find type="date" default-option-from="sameDay"/></field>
        <field position="1" name="amount"><range-find></range-find></field>
        <field name="paymentRefNum"><text-find ignore-case="true"/></field>
        <field name="parentTypeId"><hidden value="REFSDEPOSIT_PAYIN"/></field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="NewOutgoingDepositsRefund" type="single" target="createNewOutgoingDepositsRefund" default-map-name="payment"
        header-row-style="header-row" default-table-style="basic-table" >
        <field name="statusId"><hidden value="PMNT_NOT_PAID"/></field>
        <field name="currencyUomId"><hidden value="${defaultOrganizationPartyCurrencyUomId}"/></field>
        <field position="1" name="organizationPartyId" parameter-name="partyIdTo">
            <drop-down allow-empty="false" no-current-selected-key="${defaultOrganizationPartyId}">
                <entity-options description="${groupName}" entity-name="PartyAcctgPrefAndGroup" key-field-name="partyId">
                	<entity-order-by field-name="groupName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyIdFrom" position="2" required-field="true"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentTypeId" title="${uiLabelMap.AccountingPaymentType}" position="1">
            <drop-down allow-empty="false">
                <entity-options description="${description}" entity-name="PaymentType">
                    <entity-constraint name="parentTypeId" value="REFSDEPOSIT_PAYIN"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field position="2" name="paymentMethodTypeId" event="onchange" action="javascript:paymentFieldsOnchange();">
            <drop-down allow-empty="false">
                <entity-options entity-name="PaymentMethodType"  description="${description}">
                	<entity-constraint name="paymentMethodTypeId" operator="like" value="%_PAYIN%"/>
                    <entity-order-by field-name="description"/>                   
                </entity-options>
            </drop-down>
        </field>
        <field name="paymentRefNum" position="1" title="${uiLabelMap.paymentRefNum}" required-field="true"><text/></field>
        <field name="paymentDate" position="2" title="${uiLabelMap.effectiveDate}"><date-time type="timestamp"></date-time></field>
        <field name="issuingAuthority" position="2" title="${uiLabelMap.issuingAuthority}" required-field="true"><text></text></field>        
        <field name="amount" position="1" required-field="true"><text/></field>
        <field name="comments" position="2"><text size="70"/></field>
        <field name="isDepositWithDrawPayment"><hidden value="Y"/></field>
        <field name="finAccountTransTypeId"><hidden value="DEPOSIT"/></field>
        <field position="1" name="createButton" widget-style="smallSubmit">
            <submit button-type="button"/>
        </field>
    </form>
    <form name="FindOutgoingDepositsPaid" type="single" target="OutgoingDepositsPaid" header-row-style="header-row" default-table-style="basic-table">
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="paymentId"><text-find ignore-case="true"/></field>
        <field name="comments"><text-find ignore-case="true"/></field>
        <field name="paymentTypeId" position="1">
            <drop-down allow-empty="true">
                <entity-options entity-name="PaymentType" description="${description}">
                    <entity-constraint name="parentTypeId" value="SECDEPOSIT_PAYOUT"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}" position="2">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="StatusItem">
                    <entity-constraint name="statusTypeId" operator="equals" value="PMNT_STATUS"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field position="1" name="partyIdFrom"><lookup target-form-name="LookupPartyName"/></field>
        <field position="2" name="partyIdTo"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentDate"><date-find type="date" default-option-from="sameDay"/></field>
        <field position="1" name="amount"><range-find></range-find></field>
        <field name="paymentRefNum"><text-find ignore-case="true"/></field>
        <field name="parentTypeId"><hidden value="SECDEPOSIT_PAYOUT"/></field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="NewOutgoingDepositsPaid" type="single" target="createNewOutgoingDepositsPayments" default-map-name="payment"
        header-row-style="header-row" default-table-style="basic-table" >
        <actions>
            <entity-condition entity-name="PaymentType" list="paymentTypes">
                <condition-list combine="or">
                    <condition-expr field-name="parentTypeId" operator="equals" value="SECDEPOSIT_PAYOUT"/>
                </condition-list>
                <order-by field-name="description"/>
            </entity-condition>
            <entity-one entity-name="PartyGroup" use-cache="true" value-field="partyGroup">
                <field-map field-name="partyId" from-field="parameters.partyIdFrom"/>
            </entity-one>
            <set field="partyGroupName" from-field="partyGroup.groupName"/>
            <set field="paymentPartyId" from-field="parameters.partyIdFrom" default-value="${defaultOrganizationPartyId}"/>
            <entity-condition entity-name="PaymentMethodAndFinAccount" list="paymentMethodAndFinAccounts">
                <condition-list>
                    <condition-expr field-name="partyId" from-field="paymentPartyId"/>
                    <condition-expr field-name="statusId" operator="not-equals" value="FNACT_MANFROZEN"/>
                    <condition-expr field-name="statusId" operator="not-equals" value="FNACT_CANCELLED"/>
                </condition-list>
            </entity-condition>
        </actions>
        <field name="statusId"><hidden value="PMNT_NOT_PAID"/></field>
        <field name="currencyUomId"><hidden value="${defaultOrganizationPartyCurrencyUomId}"/></field>
        <field position="1" name="organizationPartyId" parameter-name="partyIdFrom" event="onchange" action="javascript:(document.NewPaymentOut.action = 'newPayment'),(document.NewPaymentOut.submit())">
            <drop-down allow-empty="false">
                <option key="${parameters.partyIdFrom}" description="${partyGroupName}"/>
                <entity-options description="${groupName}" entity-name="PartyAcctgPrefAndGroup" key-field-name="partyId">
                    <entity-order-by field-name="groupName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyIdTo" position="2"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentTypeId" title="${uiLabelMap.AccountingPaymentType}" position="1">
            <drop-down allow-empty="false">
                <list-options list-name="paymentTypes" key-name="paymentTypeId" description="${description}"/>
            </drop-down>
        </field>
        <field name="paymentMethodId" id-name="paymentMethodId" position="2" event="onchange" action="javascript:setPaymentMethodTypeFields();" >
            <drop-down allow-empty="false">
                <entity-options entity-name="PaymentMethod" description="${description}">
                    <entity-constraint name="partyId" operator="equals" env-name="paymentPartyId"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="paymentRefNum" position="1" title="${uiLabelMap.paymentRefNum}" required-field="true"><text/></field>
        <field name="paymentDate" position="2" title="${uiLabelMap.effectiveDate}"><date-time type="timestamp"></date-time></field>
        <field name="issuingAuthority" position="2" title="${uiLabelMap.issuingAuthority}" required-field="true"><text></text></field>            
        <field name="amount" position="1" required-field="true"><text/></field>
        <field name="comments" position="2"><text size="70"/></field>
        <field name="isDepositWithDrawPayment"><hidden value="Y"/></field>
        <field name="finAccountTransTypeId"><hidden value="WITHDRAWAL"/></field>
        <field position="1" name="createButton" widget-style="smallSubmit">
            <submit button-type="button"/>
        </field>
    </form>
    
    		<!-- ================= Refund Forms ================== -->
    
    <form name="NewIncomingAdvancesRefund" type="single" target="NewIncomingAdvancesRefund" header-row-style="header-row" default-table-style="basic-table">
        <actions>
            <entity-one entity-name="PartyGroup" use-cache="true" value-field="partyGroup">
                <field-map field-name="partyId" from-field="parameters.partyIdFrom"/>
            </entity-one>
            <set field="partyGroupName" from-field="partyGroup.groupName"/>
            <set field="paymentPartyId" from-field="parameters.partyIdFrom" default-value="${defaultOrganizationPartyId}"/>
            <entity-condition entity-name="PaymentMethodAndFinAccount" list="paymentMethodAndFinAccounts">
                <condition-list>
                    <condition-expr field-name="partyId" from-field="paymentPartyId"/>
                    <condition-expr field-name="statusId" operator="not-equals" value="FNACT_MANFROZEN"/>
                    <condition-expr field-name="statusId" operator="not-equals" value="FNACT_CANCELLED"/>
                </condition-list>
            </entity-condition>
        </actions>
        <field name="statusId"><hidden value="PMNT_RECEIVED"/></field>
        <field name="parentTypeId"><hidden value="ADVANCES_PAYIN"/></field>
        <field position="1" name="partyIdTo" title="OrganizationPartyId">
            <drop-down allow-empty="false">
                <entity-options description="${groupName}" entity-name="PartyAcctgPrefAndGroup" key-field-name="partyId">
                    <entity-order-by field-name="groupName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyIdFrom" position="2"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentTypeId" title="${uiLabelMap.AccountingPaymentType}" position="1">
            <drop-down allow-empty="true">
                <list-options list-name="paymentTypes" key-name="paymentTypeId" description="${description}"/>
            </drop-down>
        </field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="listPaymentsNotApplied" type="list" list-name="refundAvblPaymentList"  title=""
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
        <field name="paymentId"><display/></field>
        <field name="paymentTypeId"><display/></field>
        <field name="refundPaymentTypeId"><hidden/></field>
        <field name="paymentMethodTypeId"><display/></field>
        <field name="partyIdFrom"><display/></field>
        <field name="partyIdTo"><display/></field>
        <field name="amount"><display type="currency" currency="${currencyUomId}"/></field>
        <field name="availableAmtToRefund" title="Avbl Amt to Refund"><display type="currency" currency="${currencyUomId}"/></field>
        <field name="refundButton" title="Refund" widget-style="buttontext">
            <hyperlink  target-type="plain" description="Refund"  target="javascript:showPaymentRefundQTip('${paymentId}', '${partyIdTo}', '${partyIdFrom}', '${availableAmtToRefund}', '${refundPaymentTypeId}', 'refundAdvanceUnappliedPayments', 'N', 'WITHDRAWAL');"></hyperlink>
        </field>
    </form>
    <form name="NewOutgoingAdvanceRefund" type="single" target="NewOutgoingAdvancesRefund" default-map-name="payment"
        header-row-style="header-row" default-table-style="basic-table" >
        <field name="statusId"><hidden value="PMNT_SENT"/></field>
        <field name="currencyUomId"><hidden value="${defaultOrganizationPartyCurrencyUomId}"/></field>
        <field position="1" name="partyIdFrom" title="organizationPartyId">
            <drop-down allow-empty="false" no-current-selected-key="${defaultOrganizationPartyId}">
                <entity-options description="${groupName}" entity-name="PartyAcctgPrefAndGroup" key-field-name="partyId">
                	<entity-order-by field-name="groupName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyIdTo" position="2" required-field="true"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentTypeId" title="${uiLabelMap.AccountingPaymentType}" position="1">
            <drop-down allow-empty="true">
                <list-options list-name="paymentTypes" key-name="paymentTypeId" description="${description}"/>
            </drop-down>
        </field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="listAPPaymentsNotApplied" type="list" list-name="refundAvblPaymentList"  title=""
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
        <field name="paymentId"><display/></field>
        <field name="paymentTypeId"><display/></field>
        <field name="paymentMethodTypeId"><display/></field>
        <field name="partyIdFrom"><display/></field>
        <field name="partyIdTo"><display/></field>
        <field name="amount"><display type="currency" currency="${currencyUomId}"/></field>
        <field name="availableAmtToRefund" title="Avbl Amt to Refund"><display type="currency" currency="${currencyUomId}"/></field>
        <!-- <field name="amountToRefund" title="Amt To Refund" parameter-name="amountApplied"><text size="10"/></field> -->
        <field name="refundButton" title="Refund" widget-style="buttontext">
            <hyperlink  target-type="plain" description="Refund"  target="javascript:showApPaymentRefundQTip('${paymentId}', '${partyIdTo}', '${partyIdFrom}', '${availableAmtToRefund}', '${refundPaymentTypeId}', 'refundAPAdvanceUnappliedPayments', 'Y', 'DEPOSIT');"></hyperlink>
        </field>
    </form>
     
     <!-- ================= AP Invoice Forms ================== -->   
        
    
    <form name="FindInvoices" type="single" target="findInvoices" title="Find and list invoices"
        header-row-style="header-row" default-table-style="basic-table">
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="hideSearch"><hidden value="Y"/></field>
        <field name="prefPaymentMethodTypeId" title="Voucher Type">
			<drop-down allow-empty="true">
			<option key="CASH" description="Cash Voucher" ></option>
			<option key="BANK" description="Bank Voucher" ></option>
			</drop-down>
		</field>
        <field name="invoiceId"><text-find ignore-case="true"/></field>
        <field name="facilityId" title="${uiLabelMap.OrderFacilityBooth}"><text-find ignore-case="true"/></field>
        <field name="description"><text-find ignore-case="true"/></field>
        <field name="invoiceTypeId"><display/></field>
        <field name="subTabButtonValue"><hidden/></field>
        <field name="actionSubTabButtonValue"><hidden/></field>
        <!-- <field position="1" name="invoiceTypeId">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="InvoiceType"/>
            </drop-down>
        </field> -->
        <field name="statusId" title="${uiLabelMap.CommonStatus}" position="2">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="StatusItem">
                    <entity-constraint name="statusTypeId" operator="equals" value="INVOICE_STATUS"/>
                </entity-options>
            </drop-down>
        </field>
        <field position="1" name="partyIdFrom"><lookup target-form-name="LookupPartyName"/></field>
        <field position="2" name="partyIdTo" parameter-name="partyId"><lookup target-form-name="LookupPartyName"/></field>       
        <!-- <field name="billingAccountId"><lookup target-form-name="LookupBillingAccount"/></field> -->
        <field name="invoiceDate"><date-find type="timestamp"/></field>
        <field name="dueDate"><hidden/></field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="FindApInvoices" type="single" target="ApInvoices" extends="FindInvoices" extends-resource="component://accounting/widget/TreasurerPortalForms.xml">
		<field name="parentTypeId"><hidden value="PURCHASE_INVOICE"/></field>
		<!-- <field name="invoiceTypeId" position="2">
			<drop-down allow-empty="true">
				<entity-options entity-name="InvoiceType" description="${description}">
					<entity-constraint name="parentTypeId" value="PURCHASE_INVOICE"/>
				</entity-options>
			</drop-down>
		</field> -->
		<field name="statusId" title="${uiLabelMap.CommonStatus}"
			position="2">
			<drop-down allow-empty="true">
				<entity-options description="${description}"
					entity-name="StatusItem">
					<entity-constraint name="statusTypeId" operator="equals"
						value="INVOICE_STATUS" />
					<entity-constraint name="statusId" operator="not-equals"
						value="INVOICE_SENT" />
				</entity-options>
			</drop-down>
		</field>
		<field name="dueDate"><date-find type="timestamp"/></field>
			<field name="billingAccountId">
			<hidden />
		</field>
		<field name="billingAccountId"><hidden/></field>
	</form>
	<form name="FindArInvoices" type="single" target="ArInvoices" extends="FindInvoices" extends-resource="component://accounting/widget/TreasurerPortalForms.xml">
		<field name="parentTypeId"><hidden value="SALES_INVOICE"/></field>
		<!-- <field name="invoiceTypeId" position="1">
			<drop-down allow-empty="true">
				<entity-options entity-name="InvoiceType" description="${description}">
					<entity-constraint name="parentTypeId" value="SALES_INVOICE" />
				</entity-options>
			</drop-down>
		</field> -->
		<field name="statusId" title="${uiLabelMap.CommonStatus}"
			position="2">
			<drop-down allow-empty="true">
				<entity-options description="${description}"
					entity-name="StatusItem">
					<entity-constraint name="statusTypeId" operator="equals"
						value="INVOICE_STATUS" />
					<entity-constraint name="statusId" operator="not-equals"
						value="INVOICE_RECEIVED" />
				</entity-options>
			</drop-down>
		</field>
		<field name="dueDate"><date-find type="timestamp"/></field>
	</form>
	<form name="CreateAPInvoice" type="single" target="UpdateAPInvoice" title="Edit Invoice Header" default-map-name="invoice"
        header-row-style="header-row" default-table-style="basic-table">
        <actions>
        	<set field="nowDate" value="${bsh:org.ofbiz.base.util.UtilDateTime.nowDateString(&quot;yyyy-MM-dd&quot;)}" type="String"/>
        	<set field="pettyCashVendor" value="${bsh:org.ofbiz.base.util.UtilProperties.getPropertyValue(&quot;general.properties&quot;, &quot;pettyCashPartyId&quot;);}"/>
        	<set field="pettyCashVendorRoleTypeId" value="${bsh:org.ofbiz.base.util.UtilProperties.getPropertyValue(&quot;general.properties&quot;, &quot;pettyCashRoleTypeId&quot;);}"/>
        </actions>
        <alt-target use-when="invoice==null" target="NewCreateAPInvoice"/>
         <field name="prefPaymentMethodTypeId"><hidden  value="${prefPaymentMethodTypeId}"/></field>
        <field use-when="invoice!=null" name="invoiceId"><display/></field>
        <field name="statusId"><hidden value="INVOICE_IN_PROCESS"/></field>
        <field name="pettyCashVendorId"><hidden value="${pettyCashVendor}"/></field>
        <field name="pettyCashVendorRoleTypeId"><hidden value="${pettyCashVendorRoleTypeId}"/></field>
        <field name="pettyCashDueDate"><hidden value="${nowTimestamp}"/></field>
        <field name="invoiceTab"><hidden/></field>
        <field name="actionSubTabButtonValue"><hidden value="updateInvoice"/></field>
        <field name="subTabButtonValue" ><hidden value="${parameters.subTabButtonValue}"/></field>
        <field name="currencyUomId"><hidden value="${defaultOrganizationPartyCurrencyUomId}"/></field>
        <field name="invoiceTypeId"><hidden/></field>
        <!-- <field position="1" name="invoiceTypeId" event="onchange" action="javascript:setInvoiceAction(); javascript:setRoleTypeDropdown();">
            <drop-down allow-empty="false" no-current-selected-key="PURCHASE_INVOICE">
                <entity-options description="${description}" entity-name="InvoiceType">
                	<entity-constraint name="invoiceTypeId" value="PURCHASE_INVOICE" operator="not-equals"/>
                    <entity-constraint name="parentTypeId" value="PURCHASE_INVOICE"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field> -->
        <field position="1" name="partyIdFrom" title="Party Id" required-field="true"><lookup target-form-name="LookupPartyName" target-parameter="roleTypeId,invoiceTypeId"/></field>
        <field position="2" name="invoiceDate" event="onblur" action="javascript:setInvoiceDateAsDueDate();" required-field="true"><date-time/></field>   
        <field name="dueDate"  ><hidden ></hidden></field>     
        <!-- <field position="1" name="roleTypeId" >   
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="RoleType">
                    <entity-constraint name="parentTypeId" operator="equals" value="VENDOR"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
                <entity-options description="${description}" entity-name="RoleType">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field> --> 
        <!-- <field name="timePeriodId">
            <drop-down>
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${periodName}: ${fromDate} - ${thruDate}" filter-by-date="false">
                    <entity-constraint name="periodTypeId" operator="equals" value="HR_MONTH"/>
                    <entity-constraint name="isClosed" operator="equals" value="N" />                    
                    <entity-constraint name="thruDate" operator="less" env-name="nowDate" />                    
                    <entity-order-by field-name="-thruDate"/>
                </entity-options>
            </drop-down>
        </field> -->
<!--         <field name="partyId"><hidden value="Company"/></field> -->
        <field position="1" name="organizationPartyId" parameter-name="partyId">
            <drop-down allow-empty="false" no-current-selected-key="${defaultOrganizationPartyId}">
                <entity-options description="${groupName}" entity-name="PartyAcctgPrefAndGroup" key-field-name="partyId">
<!--                     <entity-constraint name="partyId" operator="equals" value="Company"/> -->
                    <entity-order-by field-name="groupName"/>
                </entity-options>
            </drop-down>
        </field>                            
        <field position="1" name="description" title="Narration" encode-output="false" required-field="true"><text size="100"/></field>        
        <!-- <field position="1" name="invoiceMessage" encode-output="false"><text size="100"/></field> -->        
        <field position="1" name="createButton" widget-style="smallSubmit" title="${uiLabelMap.CommonCreate}" use-when="invoice==null">
            <submit button-type="button"/>
        </field>
        <field position="1" name="updateButton" widget-style="smallSubmit" use-when="invoice!=null&amp;&amp;invoice.getString(&quot;statusId&quot;).equals(&quot;INVOICE_IN_PROCESS&quot;)">
            <submit button-type="button"/>
        </field>
    </form>  
    <form name="CreateARInvoice" type="single" target="UpdateARInvoice" title="Edit Invoice Header" default-map-name="invoice"
        header-row-style="header-row" default-table-style="basic-table">
        <alt-target use-when="invoice==null" target="NewCreateARInvoice"/>
        <field name="statusId"><hidden value="INVOICE_IN_PROCESS"/></field>
        <field name="isPartyGroupInvoice"><hidden value="Y"/></field>
        <field use-when="invoice!=null" name="invoiceId"><display/></field>
        <field name="currencyUomId"><hidden value="${defaultOrganizationPartyCurrencyUomId}"/></field>
        <field name="prefPaymentMethodTypeId" ><hidden   value="${prefPaymentMethodTypeId}"/></field>
        <field name="actionSubTabButtonValue"><hidden value="updateInvoice"/></field>
        <field name="subTabButtonValue" ><hidden value="${parameters.subTabButtonValue}"/></field>
        <field name="invoiceTypeId"><hidden/></field>
        <!-- <field position="1" name="invoiceTypeId" event="onchange" action="javascript:invoiceTypeOnChangeHandler();">
            <drop-down allow-empty="false" no-current-selected-key="SALES_INVOICE">
                <entity-options description="${description}" entity-name="InvoiceType">
                	<entity-constraint name="parentTypeId" value="SALES_INVOICE"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field> -->
        <!-- <field position="1" name="groupInvoice" required-field="false" event="onclick" action="javascript:setPartyGroupAction();"><check/></field> -->        
        <!-- <field position="1" name="partyClassificationGroupId">
            <drop-down allow-empty="false">
                <entity-options description="${description}" entity-name="PartyClassificationGroup" key-field-name="partyClassificationGroupId">
                    <entity-constraint name="isInvoicable" value="Y"/>                
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field> -->  
        <!-- <field name="timePeriodId">
            <drop-down>
                <entity-options entity-name="CustomTimePeriod" key-field-name="customTimePeriodId" description="${periodName}: ${fromDate} - ${thruDate}" filter-by-date="false">
                    <entity-constraint name="periodTypeId" operator="like" value="RATE_%"/>
                    <entity-constraint name="isClosed" operator="equals" value="N" />                                      
                    <entity-order-by field-name="-thruDate"/>
                </entity-options>
            </drop-down>
        </field>  -->    
<!--         <field name="partyIdFrom"><hidden value="Company"/></field>          -->
        <field position="1" name="organizationPartyId" parameter-name="partyIdFrom">
            <drop-down allow-empty="false" no-current-selected-key="${defaultOrganizationPartyId}">
                <entity-options description="${groovy:org.ofbiz.party.party.PartyHelper.getPartyName(delegator, partyId, false);}[${partyId}]" entity-name="PartyClassification" key-field-name="partyId">
                	<entity-constraint name="partyClassificationGroupId" operator="in" value="REGIONAL_OFFICE,BRANCH_OFFICE"/>
                </entity-options>
            </drop-down>
        </field>
        <field use-when="invoiceTypeId!=null&amp;&amp;invoiceTypeId.equals(&quot;OBINVOICE_IN&quot;)"  position="2" name="referenceNumber" title="TallyRefNo."><text size="30"/></field>
        <field position="1" name="partyIdTo" entry-name="partyId" parameter-name="partyId" required-field="true"><lookup target-form-name="LookupPartyName" target-parameter="roleTypeId,invoiceTypeId"/></field>
        <field position="2" name="dueDate" required-field="true"><date-time/></field>
        <field position="2" name="invoiceDate" required-field="true"><date-time/></field>
        <!-- <field use-when="invoice!=null" position="2" name="partyIdTo" entry-name="partyId" parameter-name="partyId" ><lookup target-form-name="LookupPartyName"/></field>
         -->
         <!-- <field position="1" name="roleTypeId" >
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="RoleType">
                    <entity-constraint name="parentTypeId" operator="equals" value="CUSTOMER"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
                <entity-options description="${description}" entity-name="RoleType">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>  -->                   
        <field position="1" name="description" title="Narration" encode-output="false" required-field="true"><text size="100"/></field>        
        <!-- <field position="1" name="invoiceMessage" encode-output="false"><text size="100"/></field> -->  
        <field position="1" name="createButton" widget-style="smallSubmit" title="${uiLabelMap.CommonCreate}" use-when="invoice==null">
            <submit button-type="button"/>
        </field>
        <field position="1" name="updateButton" widget-style="smallSubmit" use-when="invoice!=null&amp;&amp;invoice.getString(&quot;statusId&quot;).equals(&quot;INVOICE_IN_PROCESS&quot;)">
            <submit button-type="button"/>
        </field>
    </form>  
    <form name="FindTreasurerPayments" type="single" target="findTreasurerPayments"
        header-row-style="header-row" default-table-style="basic-table">
        <actions>
        	<entity-condition entity-name="PaymentType" list="paymentTypes">
                <condition-list combine="or">
                    <condition-expr field-name="paymentTypeId" operator="equals" value="EXPENSE_PAYOUT"/>
                    <condition-expr field-name="paymentTypeId" operator="equals" value="STATUTORY_PAYOUT"/>
                    <condition-expr field-name="paymentTypeId" operator="equals" value="MIS_INCOME_PAYIN"/>
                </condition-list>
                <order-by field-name="description"/>
            </entity-condition>
            <entity-condition entity-name="PaymentMethodType" list="paymentMethodTypes">
                <condition-list combine="or">
                    <condition-expr field-name="paymentMethodTypeId" operator="equals" value="CASH_PAYIN"/>
                    <condition-expr field-name="paymentMethodTypeId" operator="equals" value="CASH_PAYOUT"/>
                    <condition-expr field-name="paymentMethodTypeId" operator="equals" value="CHEQUE_PAYIN"/>
                    <condition-expr field-name="paymentMethodTypeId" operator="equals" value="FUND_TRANSFER"/>
                </condition-list>
                <order-by field-name="description"/>
            </entity-condition>
        </actions>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="paymentId"><text-find ignore-case="true"/></field>
        <field name="paymentSequenceId"><text-find ignore-case="true"/></field>
       <!--  <field name="facilityId" title="${uiLabelMap.OrderFacilityBooth}"><text-find ignore-case="true"/></field>  -->
        <field name="comments"><text-find ignore-case="true"/></field>
        <!-- <field name="paymentMethodTypeId">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="PaymentMethodType">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field> -->
        <field name="paymentMethodTypeId">
            <drop-down allow-empty="true">
                <list-options list-name="paymentMethodTypes" key-name="paymentMethodTypeId" description="${description}"/>
            </drop-down>
        </field>        
        <!-- <field name="paymentTypeId" title="${uiLabelMap.AccountingPaymentType}" position="1">
            <drop-down allow-empty="false">
                <list-options list-name="paymentTypes" key-name="paymentTypeId" description="${description}"/>
            </drop-down>
        </field> -->
        <field name="paymentTypeId" title="${uiLabelMap.AccountingPaymentType}" position="1">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="PaymentType">
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}" position="2">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="StatusItem">
                    <entity-constraint name="statusTypeId" operator="equals" value="PMNT_STATUS"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field position="1" name="partyIdFrom"><lookup target-form-name="LookupPartyName"/></field>
        <field position="2" name="partyIdTo"><lookup target-form-name="LookupPartyName"/></field>
        <field position="1" name="amount"><text/></field>
        <field position="1" name="tallyRefNo" title="Tally Reference No"><text/></field>
        <field name="paymentRefNum"><text-find ignore-case="true"/></field>
        <!--<field name="paymentGatewayResponseId"><text/></field>-->
        <field name="paymentDate"><date-find type="date" default-option-from="sameDay"/></field>
        <field name="transactionDate" title="Tally Reference Date"><date-find type="date" default-option-from="sameDay"/></field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="ListTreasurerPayments" type="list" separate-columns="true" default-entity-name="Payment" list-name="listIt" paginate-target="findPayments" paginate="true"
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
        <actions>
            
        </actions>
        <field name="paymentId" widget-style="buttontext">
            <hyperlink description="${paymentId}" target="paymentOverview">
                <parameter param-name="paymentId"/>
                <parameter param-name="paymentSequenceId" value="${paymentSequenceId}"/>
            </hyperlink>
        </field>
      <!-- <field name="paymentSequenceId" title="Payment Seq" widget-style="buttontext">
            <hyperlink description="${paymentSequenceId}" target="paymentOverview">
                <parameter param-name="paymentId"/>
                <parameter param-name="paymentSequenceId" value="${paymentSequenceId}"/>
            </hyperlink>
        </field> 
        <field name="facilityId" title="${uiLabelMap.OrderFacilityBooth}"><display/></field>-->  
        <field name="paymentTypeId" title="${uiLabelMap.AccountingPaymentType}"><display-entity entity-name="PaymentType"/></field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}"><display-entity entity-name="StatusItem"/></field>
        <field name="comments"><display/></field>
        <field name="tallyRefNo"><display/></field>
        <field name="cancelComments" title="Reason For Voided"><display/></field>
        <field name="partyIdFrom" title="${uiLabelMap.AccountingFromParty}">
            <display-entity entity-name="PartyNameView" key-field-name="partyId" description="${groupName}${lastName},${firstName}">
                <sub-hyperlink target="/partymgr/control/viewprofile" target-type="inter-app" description="[${partyIdFrom}]" >
                    <parameter param-name="partyId" from-field="partyIdFrom"/>
                </sub-hyperlink>
            </display-entity>
        </field>
        <field name="partyIdTo" title="${uiLabelMap.AccountingToParty}">
            <display-entity entity-name="PartyNameView" key-field-name="partyId" description="${groupName}${lastName},${firstName}">
                <sub-hyperlink target="/partymgr/control/viewprofile" target-type="inter-app" description="[${partyIdTo}]" >
                    <parameter param-name="partyId" from-field="partyIdTo"/>
                </sub-hyperlink>
            </display-entity>
        </field>        
        <field name="paymentDate"><display/></field>
        <field name="transactionDate" title="Tally Ref. Date"><display/></field>
        <field name="currencyUomId"><hidden/></field>
        <field name="amount"><display also-hidden="false" type="currency" currency="${currencyUomId}"/></field>
        <field name="printReceipt" widget-style="buttontext">
            <hyperlink target="printAdvAndDepositReceipt.pdf" description="Print Receipt" target-window="_BLANK">
                <parameter param-name="paymentId"/>
                <parameter param-name="paymentSequenceId" value="${paymentSequenceId}"/>
            </hyperlink>
        </field>
        <field use-when="&quot;${paymentMethodTypeId}&quot;==&quot;CHEQUE_PAYIN&quot;" name="Print Cheque" widget-style="buttontext" >
            <hyperlink target="printChecks.pdf" description="Print Cheque" target-window="_blank">
             	<parameter param-name="paymentId"/>
            </hyperlink>
        </field>
    </form>
    <form name="ReconcilationFormList" type="list" list-name="finAccountReconciliationList" odd-row-style="alternate-row" 
      default-entity-name="FinAccountTrans" default-table-style="basic-table hover-bar" >
    	
    	<field name="finAccountTransId" title = "FinAcntTransId"><display></display></field>
        <field name="finAccountTransTypeId" title="FinAcntTransType"><display-entity entity-name="FinAccountTransType"  description="${description}"/></field>
         <field name="partyId" title="Owner Party"><display></display></field>
         <field name="paymentPartyName" title="PaymentParty"><display></display></field>
        <field name="transactionDate"><display></display></field>
          <field name="instrumentNo" title="InstrumentNo"><display></display></field>
    	<field name="amount" title="Amount(Rs)"><display/></field>
        <field name="paymentId" title="Payment Id" widget-style="buttontext">
            <hyperlink description="${paymentId}" target="paymentOverview"><parameter param-name="paymentId"/></hyperlink></field>
        <field name="paymentType" title="Payment Type"><display size="20"  /></field>
        <field name="paymentMethodTypeId" title="PaymentMethodType"><display/></field>
        <field name="statusId" title="Status"><display-entity entity-name="StatusItem"  description="${description}"/></field>
        <field name="comments" title="comments"><display/></field>
    	
    </form>
     <form name="ReconcilationFormListCSV" type="list" list-name="finAccountReconciliationList"
        odd-row-style="alternate-row" default-table-style="basic-table hover-bar">
        <field name="sNo" title="SL.No" ><display/></field>
        <field name="finAccountTransId" title = "FinAcntTransId"><display></display></field>
        <field name="finAccountTransTypeId" title="FinAcntTransType"><display-entity entity-name="FinAccountTransType"  description="${description}"/></field>
         <field name="partyId" title="Owner Party"><display></display></field>
         <field name="paymentPartyName" title="PaymentParty"><display></display></field>
        <field name="transactionDate"><display></display></field>
          <field name="instrumentNo" title="InstrumentNo"><display></display></field>
    	<field name="amount" title="Amount(Rs)"><display/></field>
        <field name="paymentId" title="Payment Id" widget-style="buttontext"><display></display></field>
        <field name="paymentType" title="Payment Type"><display size="20"  /></field>
        <field name="paymentMethodTypeId" title="PaymentMethodType"><display/></field>
        <field name="statusId" title="Status"><display-entity entity-name="StatusItem"  description="${description}"/></field>
        <field name="comments" title="comments"><display/></field>
    </form>
    <form name="ListFinAccountReconciliations" type="list" list-name="glReconciliations" list-entry-name="glReconciliation" separate-columns="true"
            odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <row-actions>
            <entity-one entity-name="PartyNameView" value-field="partyName">
                <field-map field-name="partyId" from-field="glReconciliation.organizationPartyId"/>
            </entity-one>
            <set field="currencyUomId" from-field="defaultOrganizationPartyCurrencyUomId"/>
        </row-actions>
        <auto-fields-service service-name="updateGlReconciliation" default-field-type="display" map-name="glReconciliation"/>
        <field name="glReconciliationId" title="${uiLabelMap.FinAccountReconciliationId}">
            <!--  <hyperlink target="ViewGlReconciliationWithTransaction" description="${glReconciliation.glReconciliationId}"> -->
            <hyperlink target="ViewGlReconciliationWithTransactionNew" description="${glReconciliation.glReconciliationId}">
                <parameter param-name="glReconciliationId" from-field="glReconciliation.glReconciliationId"/>
                <parameter param-name="finAccountId"/>
            </hyperlink>
        </field>
        <field name="glReconciliationName" title="${uiLabelMap.FinAccountReconciliationName}"><display/></field>        
        <field name="statusId" title="${uiLabelMap.CommonStatus}"><display-entity entity-name="StatusItem"/></field>
        <field name="organizationPartyId" title="${uiLabelMap.PartyParty}">
            <hyperlink target="/partymgr/control/viewprofile" target-type="inter-app" description="${partyName.firstName} ${partyName.lastName}${partyName.groupName} [${partyName.partyId}]">
                <parameter param-name="partyId" from-field="partyName.partyId"/>
            </hyperlink>
        </field>
      <!--   <field name="cancelButton" title="${uiLabelMap.FinAccountReconciliationCancel}" use-when="${glReconciliation.statusId == 'GLREC_CREATED'} &amp;&amp; hasFinRecEditPermission" widget-style="buttontext">
            <hyperlink also-hidden="false" description="${uiLabelMap.CommonCancel}" target="cancelReconciliation">
                <parameter param-name="glReconciliationId" from-field="glReconciliation.glReconciliationId"/>
                <parameter param-name="finAccountId"/>
            </hyperlink>
        </field> -->
        <field name="reconciledBalance"><display type="currency" currency="${currencyUomId}"></display></field>
        <field name="openingBalance"><display type="currency" currency="${currencyUomId}"></display></field>        
        <field name="exporasCSV" title="Export" widget-style="buttontext">
            <hyperlink target="FinAccountTransForReconciled.csv" target-type="inter-app" description="ExportCSV">
                <parameter param-name="glReconciliationId" from-field="glReconciliation.glReconciliationId"/>
                <parameter param-name="finAccountId"/>
            </hyperlink>
        </field>
         <field name="cancelButton" title="${uiLabelMap.FinAccountReconciliationCancel}" use-when="${groovy:((security.hasEntityPermission(&quot;GLREC&quot;, &quot;_CANCELADMIN&quot;, session)))}" widget-style="buttontext">
            <hyperlink target="processReconcilationCancel"  description="${uiLabelMap.CommonCancel}">
                <parameter param-name="glReconciliationId" from-field="glReconciliation.glReconciliationId"/>
                <parameter param-name="finAccountId"/>
            </hyperlink>
        </field>
    </form>
     <form name="FindPaymentGroups" title="" type="single" target="findGroupPayment" header-row-style="header-row" default-table-style="basic-table">
        
        <field name="paymentGroupTypeId" title="Bill Type">
        	<drop-down allow-empty="false" >
        		<list-options key-name="roleTypeId" list-name="roleTypes" description="${description}"/>
        	</drop-down>
        </field>
        <field name="finAccountId" title="Issuing Authority">
        	<drop-down allow-empty="true">
        		<list-options key-name="finAccountId" list-name="finAccountList" description="${finAccountName}"/>
        	</drop-down>
        </field>
       <field name="statusId" ><hidden value="PAYGRP_CREATED"/></field>
        <field name="paymentRefNum"><text-find/></field>
       <field name="paymentMethodTypeId"><text-find/></field>
       <field name="amount"><text-find/></field>
        <field name="paymentDate"><date-find/></field>
        <field name="hideSearch"><hidden value="Y"/></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="ListPaymentGroups" type="list" list-name="listIt" paginate-target="findGroupPayment"
        odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <actions>
            <service service-name="performFind" result-map="result" result-map-list="listIt">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="PaymentGroup"/>
                <field-map field-name="orderBy" from-field="parameters.sortField" value="-paymentDate"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
        </actions>
        <field name="paymentGroupId" ><display/></field>
        <field name="paymentGroupTypeId"><display-entity entity-name="PaymentGroupType" key-field-name="paymentGroupTypeId" description="${description}"/></field>
        <field name="paymentMethodTypeId" ><display-entity entity-name="PaymentMethodType" key-field-name="paymentMethodTypeId" description="${description}"/></field>
        <field name="paymentDate" ><display description="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(paymentDate, &quot;dd/MM/yyyy&quot;);}"/></field>
        <field name="paymentRefNum" title="Cheque No."><display/></field>
        <field name="issuingAuthority"><display/></field>
        <field name="amount" ><display/></field>
        <field name="viewDetails" widget-style="buttontext" >
            <hyperlink target="javascript: paymentDetails('${paymentGroupId}');" description="View Detail" target-type="plain">
            </hyperlink>
        </field>
        <field use-when="paymentMethodTypeId.equals(&quot;CHEQUE_PAYIN&quot;)" name="Print Cheque" widget-style="buttontext" >
            <hyperlink target="printPayGroupCheque.pdf" description="Print" target-window="_blank">
               	  <parameter param-name="paymentGroupId" />
            </hyperlink>
        </field>
        <field name="Print Voucher" widget-style="buttontext" >
            <hyperlink target="printPayGroupVoucher.pdf" description="Voucher" target-window="_blank">
               	  <parameter param-name="paymentGroupId" />
            </hyperlink>
        </field>
        <field name="AbstractVoucher" widget-style="buttontext" >
            <hyperlink target="printPayGroupVoucherAbstract.pdf" description="Abstract Voucher" target-window="_blank">
               	  <parameter param-name="paymentGroupId" />
            </hyperlink>
        </field> 
        <field use-when="${groovy:((security.hasEntityPermission(&quot;BATCHPAY&quot;, &quot;_CREATE&quot;, session)))}" name="cancelBatch" widget-style="buttontext">
            <hyperlink target="cancelPaymentGrouping" description="Cancel">
	            <parameter param-name="paymentGroupId"/>
            </hyperlink>
        </field> 
    </form>
    <form name="FindPaymentsForGrouping" title="" type="single" target="${targetRequest}" header-row-style="header-row" default-table-style="basic-table">
        
        <field name="roleTypeId" title="Bill Type">
        	<drop-down allow-empty="false" >
        		<list-options key-name="roleTypeId" list-name="roleTypes" description="${description}"/>
        	</drop-down>
        </field>
        <field name="finAccountId" title="FinAccount">
        	<drop-down allow-empty="false">
        		<list-options key-name="finAccountId" list-name="finAccountList" description="${finAccountName}"/>
        	</drop-down>
        </field>
        <field name="paymentDate"><date-time/></field>
        <field name="hideSearch"><hidden value="Y"/></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form> 
    
    <form name="FindBankGuaranteeReceived" type="single" target="BankGuaranteeReceipt" header-row-style="header-row" default-table-style="basic-table">
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="paymentId"><text-find ignore-case="true"/></field>
        <field name="comments"><text-find ignore-case="true"/></field>
        <!-- <field name="paymentTypeId" position="1">
            <drop-down allow-empty="true">
                <entity-options entity-name="PaymentType" description="${description}">
                    <entity-constraint name="paymentTypeId" value="BANK_GURANTEE_PAYIN" />
                </entity-options>
            </drop-down>
        </field> -->
        <field name="paymentTypeId"><hidden value="BANK_GURANTEE_PAYIN"/></field>
        <field name="statusId" title="${uiLabelMap.CommonStatus}" position="2">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="StatusItem">
                    <entity-constraint name="statusTypeId" operator="equals" value="PMNT_STATUS"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field position="1" name="partyIdFrom"><lookup target-form-name="LookupPartyName"/></field>
        <field position="2" name="partyIdTo"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentDate"><date-find type="date" default-option-from="sameDay"/></field>
        <field position="1" name="amount"><range-find></range-find></field>
        <field name="paymentRefNum"><text-find ignore-case="true"/></field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="NewBankGuaranteeReceipt" type="single" target="createNewBankGuaranteeReceipt" default-map-name="payment"
        header-row-style="header-row" default-table-style="basic-table" >
        <field name="statusId"><hidden value="PMNT_NOT_PAID"/></field>
           <field name="paymentPurposeType"><hidden value="NHDC_RECEIPT"></hidden></field>
        <field name="currencyUomId"><hidden value="${defaultOrganizationPartyCurrencyUomId}"/></field>
        <field position="1" name="organizationPartyId" parameter-name="partyIdTo">
            <drop-down allow-empty="false" no-current-selected-key="${defaultOrganizationPartyId}">
                <entity-options description="${groupName}" entity-name="PartyAcctgPrefAndGroup" key-field-name="partyId">
                	<entity-order-by field-name="groupName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyIdFrom" position="2" required-field="true"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentTypeId" title="${uiLabelMap.AccountingPaymentType}" position="1">
            <drop-down allow-empty="false">
                <entity-options description="${description}" entity-name="PaymentType">
                    <entity-constraint name="paymentTypeId" value="BANK_GURANTEE_PAYIN"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <!-- <field position="2" name="paymentMethodTypeId" event="onchange" action="javascript:paymentFieldsOnchange();">
            <drop-down allow-empty="false">
                <entity-options entity-name="PaymentMethodType"  description="${description}">
                	<entity-constraint name="paymentMethodTypeId" operator="like" value="%_PAYIN%"/>
                    <entity-order-by field-name="description"/>                   
                </entity-options>
            </drop-down>
        </field> -->
        <field position="2" name="paymentMethodTypeId" title="${uiLabelMap.FormFieldTitle_paymentMethodTypeId}" event="onchange" action="javascript:paymentFieldsOnchange();" >
            <drop-down allow-empty="true">
                 <list-options list-name="paymentMethodTypeList" key-name="paymentMethodTypeId" description="${description}"/>
            </drop-down>
        </field>
        <field name="paymentRefNum" position="1" title="${uiLabelMap.paymentRefNum}"><text/></field>
        <field name="paymentDate" position="2" title="${uiLabelMap.effectiveDate}"><date-time type="timestamp"></date-time></field>
        <field name="issuingAuthority" position="2" title="${uiLabelMap.issuingAuthority}"><text></text></field>       
        <field name="amount" position="1" required-field="true"><text/></field>
        <field name="comments" position="2"><text size="70"/></field>
        <field name="isDepositWithDrawPayment"><hidden value="Y"/></field>
        <field name="finAccountTransTypeId"><hidden value="DEPOSIT"/></field>
        <field position="1" name="createButton" widget-style="smallSubmit">
            <submit button-type="button"/>
        </field>
    </form>
    <form name="FindBankGuaranteeRefund" type="single" target="BankGuaranteeRefund" header-row-style="header-row" default-table-style="basic-table">
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
        <field name="paymentId"><text-find ignore-case="true"/></field>
        <field name="comments"><text-find ignore-case="true"/></field>
        <!-- <field name="paymentTypeId" position="1">
            <drop-down allow-empty="true">
                <entity-options entity-name="PaymentType" description="${description}">
                    <entity-constraint name="parentTypeId" value="REFUND_PAYOUT"/>
                </entity-options>
            </drop-down>
        </field> -->
        <field name="statusId" title="${uiLabelMap.CommonStatus}" position="2">
            <drop-down allow-empty="true">
                <entity-options description="${description}" entity-name="StatusItem">
                    <entity-constraint name="statusTypeId" operator="equals" value="PMNT_STATUS"/>
                    <entity-order-by field-name="description"/>
                </entity-options>
            </drop-down>
        </field>
        <field position="1" name="partyIdFrom"><lookup target-form-name="LookupPartyName"/></field>
        <field position="2" name="partyIdTo"><lookup target-form-name="LookupPartyName"/></field>
        <field name="paymentDate"><date-find type="date" default-option-from="sameDay"/></field>
        <field position="1" name="amount"><range-find></range-find></field>
        <field name="paymentRefNum"><text-find ignore-case="true"/></field>
        <field name="paymentTypeId"><hidden value="BANK_GURANTEE_PAYOUT"/></field>
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    <form name="NewBankGuaranteeRefund" type="single" target="NewBankGuaranteeRefund" header-row-style="header-row" default-table-style="basic-table">
        <actions>
            <entity-one entity-name="PartyGroup" use-cache="true" value-field="partyGroup">
                <field-map field-name="partyId" from-field="parameters.partyIdFrom"/>
            </entity-one>
            <set field="partyGroupName" from-field="partyGroup.groupName"/>
            <set field="paymentPartyId" from-field="parameters.partyIdFrom" default-value="${defaultOrganizationPartyId}"/>
            <entity-condition entity-name="PaymentMethodAndFinAccount" list="paymentMethodAndFinAccounts">
                <condition-list>
                    <condition-expr field-name="partyId" from-field="paymentPartyId"/>
                    <condition-expr field-name="statusId" operator="not-equals" value="FNACT_MANFROZEN"/>
                    <condition-expr field-name="statusId" operator="not-equals" value="FNACT_CANCELLED"/>
                </condition-list>
            </entity-condition>
        </actions>
        <field name="statusId"><hidden value="PMNT_RECEIVED"/></field>
        <field name="paymentTypeId"><hidden value="BANK_GURANTEE_PAYIN"/></field>
        <field position="1" name="partyIdTo" title="OrganizationPartyId">
            <drop-down allow-empty="false">
                <entity-options description="${groupName}" entity-name="PartyAcctgPrefAndGroup" key-field-name="partyId">
                    <entity-order-by field-name="groupName"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="partyIdFrom" position="2"><lookup target-form-name="LookupPartyName"/></field>
        <!-- <field name="paymentTypeId" title="${uiLabelMap.AccountingPaymentType}" position="1">
            <drop-down allow-empty="true">
                <list-options list-name="paymentTypes" key-name="paymentTypeId" description="${description}"/>
            </drop-down>
        </field> -->
        <field name="searchButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit"><submit button-type="button"/></field>
    </form>
    
</forms>