
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">

	<screen name="Main">
		<section>
			<actions>
				<set field="headerItem" value="main" />
				<set field="tabButtonItem" value="main" />
				<set field="titleProperty" value="Lookup Employees" />
				<script
					location="component://humanres/webapp/humanres/WEB-INF/actions/humanres/employeeTable.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="HumanresCommonDecorator"
					location="component://humanres/widget/CommonScreens.xml">
					<decorator-section name="body">
						<container>
							<screenlet title="Company Employees">
								<platform-specific>
									<html>
										<html-template
											location="component://humanres/webapp/humanres/humanres/summaryTable.ftl"></html-template>
									</html>
								</platform-specific>
							</screenlet>
						</container>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	 <screen name="MyportalLeaveApprove">
        <section>
            <actions>
				<set field="tabButtonItem" value="main" />
				<set field="titleProperty" value="Lookup Employees" />
				<script
					location="component://humanres/webapp/humanres/WEB-INF/actions/humanres/employeeTable.groovy" />
            </actions>            
            <widgets>
                   <include-menu location="component://humanres/widget/HumanresMenus.xml" name="HumanresNGTabBar"/>
                   <container>
							<screenlet title="Company Employees">
								<platform-specific>
									<html>
										<html-template
											location="component://humanres/webapp/humanres/humanres/summaryTable.ftl"></html-template>
									</html>
								</platform-specific>
							</screenlet>
				</container>        
            </widgets>
        </section>
    </screen> 
	
	 <screen name="DailyPunch">
        <section>
            <actions>
				<set field="headerItem" value="Attendance" />
				<set field="tabButtonItem" value="Attendance" />
 				<set field="tabButtonItem2" value="DailyPunch" />                                           				
				<set field="titleProperty" value="DailyPunch" />
				            
				<set field="ajaxUrl" value="DailyPunchInternal" type="String"/>
            </actions>            
            <widgets>
				<decorator-screen name="HumanresCommonDecorator"
					location="component://humanres/widget/CommonScreens.xml">
					<decorator-section name="body"> 
                        <include-menu location="component://humanres/widget/HumanresMenus.xml" name="AttendanceTabBar"/>                                                        					   					
                        <platform-specific>
							<html><html-template location="component://humanres/webapp/humanres/humanres/dailyPunchTable.ftl"></html-template></html>                         
                        </platform-specific>   
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>   
    
	 <screen name="DailyPunchInternal">
        <section>
            <actions>
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/humanres/dailyPunch.groovy"/>  
            </actions>            
            <widgets>
            	<platform-specific> 
                	<html><html-template location="component://humanres/webapp/humanres/humanres/dailyPunchTableInternal.ftl"/></html>
                </platform-specific>   
            </widgets>
        </section>
    </screen>
    	
	<screen name="DailyPunchEditTable">
        <section>
            <actions>
				<set field="headerItem" value="Attendance" />
				<set field="tabButtonItem" value="Attendance" />
 				<set field="tabButtonItem2" value="DailyPunchEditTable" />                                           				
				<set field="titleProperty" value="DailyPunchEditTable" />
				<set field="ajaxUrl" value="DailyPunchEditTableInternal" type="String"/>
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/humanres/employees.groovy"/> 
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/humanres/dailyPunch.groovy"/>
                
            </actions>            
            <widgets>
				<decorator-screen name="HumanresCommonDecorator"
					location="component://humanres/widget/CommonScreens.xml">
					<decorator-section name="body"> 
                        <include-menu location="component://humanres/widget/HumanresMenus.xml" name="AttendanceTabBar"/>                                                        					   					
                        <platform-specific>
							<html><html-template location="component://humanres/webapp/humanres/humanres/dailyPunchEditTable.ftl"></html-template></html>                         
                        </platform-specific>  
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>   
	
	<screen name="DailyPunchEditTableInternal">
        <section>
            <actions>
                <entity-and list="punchTypeList" entity-name="Enumeration">
                   <field-map field-name="enumTypeId" value="PUNCH_TYPE"/>
                   <order-by field-name="sequenceId"/>
                </entity-and>
                 <entity-condition list="shiftTypeList" entity-name="WorkShiftType">
                </entity-condition>
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/humanres/dailyPunch.groovy"/>  
            </actions>            
            <widgets>
            	 <platform-specific> 
                		<html><html-template location="component://humanres/webapp/humanres/humanres/dailyPunchEditTableInternal.ftl"/></html>
                 </platform-specific>  
            </widgets>
        </section>
    </screen>
	
	 <screen name="EmployeeAttendance">
        <section>
            <actions>
				<set field="headerItem" value="Attendance" />
				<set field="tabButtonItem" value="Attendance" />
 				<set field="tabButtonItem2" value="EmployeeAttendance" />                                           				
				<set field="titleProperty" value="EmployeeAttendance" />
				            
				<set field="ajaxUrl" value="EmployeeAttendanceInternal" type="String"/>
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/humanres/employees.groovy"/>  				
            </actions>            
            <widgets>
				<decorator-screen name="HumanresCommonDecorator"
					location="component://humanres/widget/CommonScreens.xml">
					<decorator-section name="body"> 
                        <include-menu location="component://humanres/widget/HumanresMenus.xml" name="AttendanceTabBar"/>                                                        					   					
                        <platform-specific>
							<html><html-template location="component://humanres/webapp/humanres/humanres/employeeAttendance.ftl"></html-template></html>                         
                        </platform-specific>   
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>   
    <screen name="EmployeeArrearDays">
		<section>
			<actions>
				<set field="headerItem" value="Attendance" />
				<set field="tabButtonItem" value="Attendance" />
 				<set field="tabButtonItem2" value="ArrearDays" />                                           				
				<set field="titleProperty" value="ArrearDays" />
			</actions>
			<widgets>
				<decorator-screen name="HumanresCommonDecorator"
					location="component://humanres/widget/CommonScreens.xml">
					<decorator-section name="body"> 
                        <include-menu location="component://humanres/widget/HumanresMenus.xml" name="AttendanceTabBar"/>                                                        					   					
                        <screenlet title="Employee Arrear Days">
                        <include-form location="component://humanres/widget/ReportHumanresSummaryForms.xml" name="ArrearDays"/>
                        </screenlet> 
                        <include-screen name="EditArrearDays" location="component://humanres/widget/HumanresScreens.xml"/>
                    </decorator-section>
                </decorator-screen>
			</widgets>
		</section>    
    </screen>
    <screen name="EditArrearDays">
      <section>
			<actions>
				<!-- <entity-and list="EditArrearDays" entity-name="PayrollAttendance">
					<field-map field-name="partyId" from-field="parameters.partyId" />
					<field-map field-name="customTimePeriodId" from-field="parameters.customTimePeriodId"/>
				</entity-and>-->
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/humanres/ArrearDays.groovy"/>
			</actions>
			<widgets>
			 <section>
				<widgets>
					<screenlet  title="Edit Arrear Days">
                       	<include-form name="EditArrearDays" location="component://humanres/widget/ReportHumanresSummaryForms.xml" />
					</screenlet>
			  </widgets>
			</section>
			</widgets>
		</section>
    </screen>
	 <screen name="DailyBusTimings">
	 	<section>
			<actions>
				<set field="headerItem" value="busTimings" />
				<set field="tabButtonItem" value="busTimings" />
				<set field="titleProperty" value="Daily Bus Timings" />
				<set field="layoutSettings.javaScripts[]" value="/partymgr/static/inTime.js" global="true"/>
			</actions>
			<widgets>
				<decorator-screen name="HumanresCommonDecorator"
					location="component://humanres/widget/CommonScreens.xml">
					<decorator-section name="body">
						<container>
							<screenlet title="Daily Bus Timings">
								<include-form location="component://humanres/widget/ReportHumanresSummaryForms.xml" name="DailyBusTimings"/>
							</screenlet>
							<include-screen name="findBusTimings" location="component://humanres/widget/HumanresScreens.xml"/>
						</container>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	 </screen>
	 <screen name="findBusTimings">
	 	<section>
			<actions>
				<entity-and list="buslist" entity-name="DailyBusTimings">
					<field-map field-name="date" from-field="parameters.date"/>
				</entity-and>
			</actions>
			<widgets>
			 <section>
				<widgets>
					<screenlet  title="Find Bus Timings">
                       	<include-form name="FindBusTimings" location="component://humanres/widget/ReportHumanresSummaryForms.xml" />
                       	<screenlet >
                       		<include-form name="BusTimings" location="component://humanres/widget/ReportHumanresSummaryForms.xml"/>
                       	</screenlet>
					</screenlet>
			  </widgets>
			</section>
			</widgets>
		</section>
	 </screen>
	 <screen name="EditEmplLateHours">
		<section>
			<actions>
				<set field="headerItem" value="Attendance" />
				<set field="tabButtonItem" value="Attendance" />
 				<set field="tabButtonItem2" value="EditLateHours" />                                           				
				<set field="titleProperty" value="EditLateHours" />
			</actions>
			<widgets>
				<decorator-screen name="HumanresCommonDecorator"
					location="component://humanres/widget/CommonScreens.xml">
					<decorator-section name="body"> 
                        <include-menu location="component://humanres/widget/HumanresMenus.xml" name="AttendanceTabBar"/>                                                        					   					
                        <screenlet title="Edit Late Hours">
                        <include-form location="component://humanres/widget/ReportHumanresSummaryForms.xml" name="EditLateHours"/>
                        </screenlet> 
                        <include-screen name="findEmplDetails" location="component://humanres/widget/HumanresScreens.xml"/>
                    </decorator-section>
                </decorator-screen>
			</widgets>
		</section>    
    </screen>
    <screen name="AttendanceFinalization">
		<section>
			<actions>
				<set field="headerItem" value="Attendance" />
				<set field="tabButtonItem" value="Attendance" />
 				<set field="tabButtonItem2" value="AttendanceFinalization" />                                           				
				<set field="titleProperty" value="AttendanceFinalization" />				
			</actions>
			<widgets>
				<decorator-screen name="HumanresCommonDecorator" location="component://humanres/widget/CommonScreens.xml">
					<decorator-section name="body"> 
                        <include-menu location="component://humanres/widget/HumanresMenus.xml" name="AttendanceTabBar"/>                                                        					   					
                        <screenlet title="Attendance Finalization">
                        	<include-form location="component://humanres/widget/ReportHumanresSummaryForms.xml" name="AttendanceFinalization"/>
                        </screenlet> 
                         <screenlet title="Attendance Finalization">
                        	<include-form location="component://humanres/widget/ReportHumanresSummaryForms.xml" name="ListAttendanceFinalization"/>
                        </screenlet>                         
                    </decorator-section>
                </decorator-screen>
			</widgets>
		</section>    
    </screen>
    <screen name="findEmplDetails">
	 	<section>
			<actions>
				<entity-and list="emplList" entity-name="EmplDailyAttendanceDetail">
					<field-map field-name="partyId" from-field="parameters.partyId"/>
				</entity-and>
			</actions>
			<widgets>
			 <section>
				<widgets>
					<screenlet  title="Employee Details">
                       		<include-form name="EmplDetails" location="component://humanres/widget/ReportHumanresSummaryForms.xml"/>
					</screenlet>
			  </widgets>
			</section>
			</widgets>
		</section>
	 </screen>
	  <screen name="ApprovalHolidays">
		<section>
			<actions>
				<set field="headerItem" value="Attendance" />
				<set field="tabButtonItem" value="Attendance" />
 				<set field="tabButtonItem2" value="EditHolidays" />                                           				
				<set field="titleProperty" value="EditHolidays" />
			</actions>
			<widgets>
				<decorator-screen name="HumanresCommonDecorator"
					location="component://humanres/widget/CommonScreens.xml">
					<decorator-section name="body"> 
                        <include-menu location="component://humanres/widget/HumanresMenus.xml" name="AttendanceTabBar"/>                                                        					   					
                        <screenlet title="Find Holidays">
                        <include-form location="component://humanres/widget/ReportHumanresSummaryForms.xml" name="EditHolidays"/>
                        </screenlet> 
                         <include-screen name="holidays" location="component://humanres/widget/HumanresScreens.xml"/>
                    </decorator-section>
                </decorator-screen>
			</widgets>
		</section>    
    </screen>
    <screen name="holidays">
	 	<section>
			<actions>
			</actions>
			<widgets>
			 <section>
				<widgets>
					<screenlet  title="Holidays Details">
                       		<include-form name="HolidaysList" location="component://humanres/widget/ReportHumanresSummaryForms.xml"/>
					</screenlet>
			  </widgets>
			</section>
			</widgets>
		</section>
	 </screen>
	 <screen name="EmployeeAttendanceInternal">
        <section>
            <actions>
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/humanres/employeeAttendance.groovy"/>  
            </actions>            
            <widgets>
            	<platform-specific> 
                	<html><html-template location="component://humanres/webapp/humanres/humanres/employeeAttendanceInternal.ftl"/></html>
                </platform-specific>   
            </widgets>
        </section>
    </screen> 	
    	
	 <screen name="EmployeesTenureChart">
        <section>
            <actions>
                <set field="titleProperty" value="Analytics"/>
                <set field="tabButtonItem" value="analytics"/>
 				<set field="tabButtonItem2" value="employeesTenureChart" />                                           
                <set field="headerItem" value="charts"/>
				<set field="ajaxUrl" value="employeesTenureChartInternal" type="String"/>
            </actions>            
            <widgets>
				<decorator-screen name="HumanresCommonDecorator"
					location="component://humanres/widget/CommonScreens.xml">
					<decorator-section name="body"> 
                        <include-menu location="component://humanres/widget/HumanresMenus.xml" name="AnalyticsTabBar"/>                                                        					   
                        <platform-specific> 
                            <html><html-template location="component://humanres/webapp/humanres/humanres/employeesTenure.ftl"/></html>
                        </platform-specific>   
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>   
    
	 <screen name="EmployeesTenureChartInternal">
        <section>
            <actions>
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/humanres/employeesTenure.groovy"/>  
            </actions>            
            <widgets>
            	<platform-specific> 
                	<html><html-template location="component://humanres/webapp/humanres/humanres/employeesTenureInternal.ftl"/></html>
                </platform-specific>   
            </widgets>
        </section>
    </screen>  
    
	 <screen name="SalaryAnalysisChart">
        <section>
            <actions>
                <set field="titleProperty" value="Analytics"/>
                <set field="tabButtonItem" value="analytics"/>
 				<set field="tabButtonItem2" value="salaryAnalysisChart" />                                           
                <set field="headerItem" value="charts"/>
				<set field="ajaxUrl" value="SalaryAnalysisChartInternal" type="String"/>
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/humanres/salaryAnalysis.groovy"/>  				
            </actions>            
            <widgets>
				<decorator-screen name="HumanresCommonDecorator"
					location="component://humanres/widget/CommonScreens.xml">
					<decorator-section name="body"> 
                        <include-menu location="component://humanres/widget/HumanresMenus.xml" name="AnalyticsTabBar"/>                                                        					   
                        <platform-specific> 
                            <html><html-template location="component://humanres/webapp/humanres/humanres/salaryAnalysis.ftl"/></html>
                        </platform-specific>   
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>   
    
	 <screen name="SalaryAnalysisChartInternal">
        <section>
            <actions>
<!--           		<set field="parameters.customTimePeriodId" value="APR_14" />-->
            	<set field="parameters.partyId" value="Company" />            	
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/reports/EmployeePayRollReport.groovy"/>              
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/humanres/salaryAnalysisInternal.groovy"/>  
            </actions>            
            <widgets>
            	<platform-specific> 
                	<html><html-template location="component://humanres/webapp/humanres/humanres/salaryAnalysisInternal.ftl"/></html>
                </platform-specific>   
            </widgets>
        </section>
    </screen>   
    
    <!-- TODO move this out of here -->
    <screen name="FindPayrollBilling">
        <section>
            <actions>
                <set field="titleProperty" value="Payroll"/>
                <set field="tabButtonItem" value="FindPayrollBilling"/> 
 				<set field="tabButtonItem2" value="Payroll" />                  
                <entity-and list="orgList" entity-name="PartyRoleAndPartyDetail">
                     <field-map field-name="roleTypeId" value="INTERNAL_ORGANIZATIO"/>
                     <order-by field-name="partyId"/>
                </entity-and>
                <entity-and list="customTimePeriodList" entity-name="CustomTimePeriod">
                     <field-map field-name="periodTypeId" value="HR_MONTH"/>
                     <order-by field-name="-thruDate"/>
                     <order-by field-name="periodNum"/>
                </entity-and> 
            </actions>            
            <widgets>
				<decorator-screen name="HumanresCommonDecorator"
					location="component://humanres/widget/CommonScreens.xml">
					<decorator-section name="body">
					    <include-menu location="component://humanres/widget/HumanresMenus.xml" name="EmplPayrollTabBar"/>                                                        					   					
                    	<section>
                    	  <widgets>
                    	     <container style="button-bar">
									<platform-specific><html><html-template location="component://humanres/webapp/humanres/humanres/generatePayrollForm.ftl"/></html></platform-specific>							  	        					
									<link url-mode="plain" target="javascript:showPayrollGenerateForm();" text="Generate Payroll" style="buttontext create"  link-type="anchor"/>
							</container> 
           					<!-- <screenlet title="create">
            			           <include-form location="component://humanres/widget/ReportHumanresSummaryForms.xml" name="createPayrollBilling"/>
            			 	</screenlet> -->
            			 	<screenlet title="List Payroll Billing">
            				<include-form location="component://humanres/widget/ReportHumanresSummaryForms.xml" name="ListPayrollBilling"/>
            			</screenlet>
                  </widgets>
               </section>
               </decorator-section>         
               </decorator-screen>    
            </widgets>
        </section>
    </screen>   
    
	 <screen name="EmployeeWisePayrollAnalysis">
        <section>
            <actions>
                <set field="titleProperty" value="Employee Wise Pay Sheet"/>
                <set field="tabButtonItem" value="FindPayrollBilling"/>
 				<set field="tabButtonItem2" value="EmployeeWisePaySheet" />                                           
				<set field="ajaxUrl" value="EmployeeWisePayrollAnalysisInternal" type="String"/>
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/humanres/employeeWisePayrollAnalysis.groovy"/>  				
            </actions>            
            <widgets>
				<decorator-screen name="HumanresCommonDecorator"
					location="component://humanres/widget/CommonScreens.xml">
					<decorator-section name="body"> 
                        <include-menu location="component://humanres/widget/HumanresMenus.xml" name="EmplPayrollTabBar"/>                                                        					   
                        <platform-specific> 
                            <html><html-template location="component://humanres/webapp/humanres/humanres/employeeWisePayrollAnalysis.ftl"/></html>
                        </platform-specific>   
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>   
    
	 <screen name="EmployeeWisePayrollAnalysisInternal">
        <section>
            <actions>
<!--           		<set field="parameters.customTimePeriodId" value="APR_14" />-->
            	<set field="parameters.partyId" value="Company" />            	
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/reports/EmployeePayRollReport.groovy"/>              
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/humanres/employeeWisePayrollAnalysisInternal.groovy"/>  
            </actions>            
            <widgets>
            	<platform-specific> 
                	<html><html-template location="component://humanres/webapp/humanres/humanres/employeeWisePayrollAnalysisInternal.ftl"/></html>
                </platform-specific>   
            </widgets>
        </section>
    </screen>
    <screen name="loan">
	 	<section>
			<actions>
				<set field="headerItem" value="loan" />
				<set field="tabButtonItem" value="loan" />
				<set field="titleProperty" value="loan" />
				<script location="component://humanres/webapp/humanres/WEB-INF/actions/reports/employeeLoanList.groovy"/>
			</actions>
			<widgets>
				<decorator-screen name="HumanresCommonDecorator"
					location="component://humanres/widget/CommonScreens.xml">
					<decorator-section name="body">
						<container>
							<container style="button-bar">
                        		<link target="NewLoan" text="New Loan" style="buttontext"></link>
                        	</container>
							<screenlet title="Search Options">
								<include-form location="component://humanres/widget/ReportHumanresSummaryForms.xml" name="FindLoan"/>
							</screenlet>
							<screenlet title="Search Results">
								<include-form location="component://humanres/widget/ReportHumanresSummaryForms.xml" name="ListEmployeeLoans"/>
							</screenlet>
						</container>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	 </screen>
	 <screen name="CreateNewLoan">
	 	<section>
			<actions>
				<set field="headerItem" value="loan" />
				<set field="tabButtonItem" value="loan" />
				<set field="titleProperty" value="loan" />
			</actions>
			<widgets>
				<decorator-screen name="HumanresCommonDecorator"
					location="component://humanres/widget/CommonScreens.xml">
					<decorator-section name="body">
						<container>
							<screenlet title="New Loan">
								<include-form location="component://humanres/widget/ReportHumanresSummaryForms.xml" name="CreateLoan"/>
							</screenlet>
						</container>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	 </screen>         
</screens>