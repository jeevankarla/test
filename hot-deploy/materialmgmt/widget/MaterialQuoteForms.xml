<?xml version="1.0" encoding="UTF-8"?>
<forms xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-form.xsd">

	<form name="FindMaterialQuote" target="FindMaterialQuotes" title="" type="single" default-map-name="parameters"
        header-row-style="header-row" default-table-style="basic-table">
        <field name="quoteId" title="Quote No"><text-find/></field>
        <field name="quoteItemSeqId" title="Item No"><text-find/></field>
        <field name="custRequestId" title="Enquiry No"><text-find/></field>
        <field name="statusId" title="Status">
            <drop-down allow-empty="true">
                <entity-options entity-name="StatusItem" description="${description}">
                    <entity-constraint name="statusTypeId" operator="equals" value="QUOTE_STATUS"/>
                    <entity-order-by field-name="sequenceId"/>
                </entity-options>
            </drop-down>
        </field>
        <field name="productId" title="${uiLabelMap.MaterialMangement_ProductId}"><text-find/></field>
        <field name="partyId" title="Supplier Code"><lookup target-form-name="LookupPartyName"/></field>
        <field name="submitButton" title="${uiLabelMap.CommonFind}" widget-style="smallSubmit">
            <submit button-type="button"/>
        </field>
        <field name="noConditionFind"><hidden value="Y"/><!-- if this isn't there then with all fields empty no query will be done --></field>
    </form>

    <form name="ListQuotes" type="list" extends="ListQuoteList" list-name="listIt">
        <actions>
          <service service-name="performFind" result-map="result" result-map-list="listIt">
            <field-map field-name="inputFields" from-field="parameters"/>
            <field-map field-name="entityName" from-field="entityName"/>
            <field-map field-name="orderBy" from-field="parameters.sortField"/>
            <field-map field-name="viewIndex" from-field="viewIndex"/>
            <field-map field-name="viewSize" from-field="viewSize"/>
          </service>
        </actions>
    </form>

    <form name="ListQuoteList" type="list" use-row-submit="true" list-name="custRequests" title="List of Quote Items"
        odd-row-style="alternate-row" header-row-style="header-row-2" default-table-style="basic-table hover-bar">
        <field name="quoteId" sort-field="true" title="Quote No" widget-style="buttontext">
            <hyperlink description="${quoteId}" target="ViewMaterialQuote" target-window="_blank">
                <parameter param-name="quoteId"/>
            </hyperlink>
        </field>
        <field name="quoteItemSeqId" title="Quote Item"><display/></field>
        <field name="custRequestId" title="Enquiry No"><display/></field>
        <field name="validFromDate" sort-field="true" title="Valid From"><display description="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(validFromDate,&quot;dd/MM/yyyy&quot;)}"/></field>
        <field name="validThruDate" sort-field="true" title="Valid To"><display description="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(validThruDate,&quot;dd/MM/yyyy&quot;)}"/></field>
        <field name="partyId" sort-field="true" title="Supplier">
            <display-entity entity-name="PartyNameView" key-field-name="partyId" description="${firstName} ${middleName} ${lastName} ${groupName}">
                <!-- <sub-hyperlink description="[${fromPartyId}]" target="/partymgr/control/viewprofile" target-type="inter-app">
                    <parameter param-name="partyId" from-field="fromPartyId"/>
                </sub-hyperlink> -->
            </display-entity>
        </field>
        
        <field name="statusId" sort-field="true" title="Status">
            <display-entity also-hidden="false" entity-name="StatusItem"/>
        </field>
        <field name="productId" title="Material Code - Name" sort-field="true"><display-entity entity-name="Product" description="${productName}" key-field-name="productId"/></field>
        <field name="quantity" title="Quote Qty"><display/></field>
        <field name="quoteUnitPrice" title="Quote Unit Price"><display/></field>
        
    </form>
</forms>