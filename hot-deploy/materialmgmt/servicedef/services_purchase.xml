<?xml version="1.0" encoding="UTF-8"?>
<services xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/services.xsd">
    <description>Purchases Services</description>
    <vendor></vendor>
    <version>1.0</version>
    
    <service name="setRequestStatus" engine="java" location="in.vasista.vbiz.purchase.MaterialRequestServices" invoke="setRequestStatus">
        <description>Set cust Request status change wrapper service</description>
        <attribute name="custRequestId" type="String" mode="IN" optional="false"/>
        <attribute name="statusId" type="String" mode="IN" optional="false"/>
    </service>
    
    <service name="setCustRequestItemStatus" engine="java" location="in.vasista.vbiz.purchase.MaterialRequestServices" invoke="setCustRequestItemStatus">
        <description>Set cust Request Item status service</description>
        <attribute name="custRequestId" type="String" mode="IN" optional="false"/>
        <attribute name="custRequestItemSeqId" type="String" mode="IN" optional="false"/>
        <attribute name="statusId" type="String" mode="IN" optional="false"/>
        <attribute name="custRequestId" type="String" mode="OUT" optional="true"/>
        <attribute name="custRequestItemSeqId" type="String" mode="OUT" optional="true"/>
    </service>
    
    <service name="checkRequestStatusByItems" engine="java" location="in.vasista.vbiz.purchase.MaterialRequestServices" invoke="checkRequestStatusByItems">
        <description>Check CustRequest Status By Item status service</description>
        <attribute name="custRequestId" type="String" mode="IN" optional="false"/>
        <attribute name="custRequestItemSeqId" type="String" mode="IN" optional="true"/>
    </service>
    
    <service name="createInvoicesForMaterialShipment" engine="java" location="in.vasista.vbiz.purchase.MaterialPurchaseServices" invoke="createInvoicesForMaterialShipment">
        <description>Create Invoice For Material Shipment Service</description>
        <attribute name="shipmentId" type="String" mode="IN" optional="false"/>
        <attribute name="invoiceId" type="String" mode="OUT" optional="true"/>
    </service>
    
    <service name="createQuoteContent" engine="simple"
        location="component://materialmgmt/script/MaterialMgmtServices.xml"
        invoke="createQuoteContent"
        default-entity-name="QuoteContent" auth="true">
        <description>Create a Quote Content</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <attribute name="contentId" mode="OUT" type="String" optional="true"></attribute>
        <attribute name="quoteId" mode="OUT" type="String" optional="false"></attribute>
        <attribute name="quoteItemSeqId" mode="OUT" type="String" optional="true"></attribute>
        <override name="fromDate" optional="true"/>
    </service> 
    
    <service name="deleteQuoteContent" engine="simple"
        location="component://materialmgmt/script/MaterialMgmtServices.xml"
        invoke="deleteQuoteContent"
        default-entity-name="QuoteContent" auth="true">
        <description>delete a Quote Content</description>
        <auto-attributes include="pk" mode="IN" optional="false"/>
        <auto-attributes include="nonpk" mode="IN" optional="true"/>
        <attribute name="quoteId" mode="OUT" type="String" optional="false"/>
        <attribute name="quoteItemSeqId" mode="OUT" type="String" optional="true"/>
    </service>
    
    <service name="createPOForQuote" engine="java" auth="true"
         location="in.vasista.vbiz.purchase.MaterialQuoteServices" invoke="createPOForQuote">
         <attribute name="quoteId" mode="IN" type="String" optional="false"/>
         <attribute name="salesChannelEnumId" mode="IN" type="String" optional="true"/>
         <attribute name="orderId" mode="OUT" type="String" optional="true"/>
    </service>
    
    <service name="acceptReceiptQtyByQC" engine="java" location="in.vasista.vbiz.purchase.MaterialPurchaseServices" invoke="acceptReceiptQtyByQC">
        <description>Accept Receipts By Quality Control Check</description>
        <attribute name="receiptId" type="String" mode="IN" optional="false"/>
        <attribute name="statusIdTo" type="String" mode="IN" optional="false"/>
        <attribute name="quantityAccepted" type="BigDecimal" mode="IN" optional="false"/>
        <attribute name="shipmentId" type="String" mode="IN" optional="true"/>
        <attribute name="shipmentItemSeqId" type="String" mode="IN" optional="true"/>
    </service>
    
    <service name="approveRequestByHOD" engine="java" location="in.vasista.vbiz.purchase.MaterialRequestServices" invoke="approveRequestByHOD">
        <description>Approve Request By Department Head service</description>
        <attribute name="custRequestId" type="String" mode="IN" optional="false"/>
        <attribute name="custRequestItemSeqId" type="String" mode="IN" optional="false"/>
        <attribute name="statusId" type="String" mode="IN" optional="false"/>
        <attribute name="quantity" type="BigDecimal" mode="IN" optional="false"/>
    </service>
    
    
    <service name="issueProductForRequest" engine="java" location="in.vasista.vbiz.purchase.MaterialRequestServices" invoke="issueInventoryItemToCustRequestItem">
        <description>Issue Products to Customer Request Items</description>
        <attribute name="custRequestId" type="String" mode="IN" optional="false"/>
        <attribute name="custRequestItemSeqId" type="String" mode="IN" optional="false"/>
        <attribute name="facilityId" type="String" mode="IN" optional="true"/>
    </service>
    
    <service name="createRequirementForCustRequestItem" engine="java" location="in.vasista.vbiz.purchase.MaterialRequestServices" invoke="createRequirementForCustRequestItem">
        <description>Issue Products to Customer Request Items</description>
        <attribute name="custRequestId" type="String" mode="IN" optional="false"/>
        <attribute name="custRequestItemSeqId" type="String" mode="IN" optional="false"/>
    </service>
    
    <service name="createIssuanceForCustRequestItem" engine="java" location="in.vasista.vbiz.purchase.MaterialRequestServices" invoke="createIssuanceForCustRequestItem">
        <description>Issue Products to Customer Request Items</description>
        <attribute name="custRequestId" type="String" mode="IN" optional="false"/>
        <attribute name="custRequestItemSeqId" type="String" mode="IN" optional="false"/>
        <attribute name="inventoryItemId" type="String" mode="IN" optional="false"/>
        <attribute name="quantity" type="BigDecimal" mode="IN" optional="false"/>
        <attribute name="facilityId" type="String" mode="IN" optional="true"/>
    </service>
     <service name="draftEnquiryForApprovedRequirements" engine="java"
                location="in.vasista.vbiz.purchase.MaterialRequestServices" invoke="draftEnquiryForApprovedRequirements">
        <description> Cancel Purchase Order</description>        
        <attribute name="requirementIds" mode="IN" type="List" optional="false"/>
         <attribute name="custRequestId" type="String" mode="OUT" optional="false"/>
   </service>
   
    <service name="CreateMaterialPO" engine="java"
                location="in.vasista.vbiz.purchase.MaterialPurchaseServices" invoke="CreateMaterialPO" default-entity-name="OrderHeader">
        <description> Create Material Purchase Order</description>        
        <!-- <attribute name="requirementList" mode="IN" type="List" optional="false"/>
         <attribute name="custRequestId" type="String" mode="OUT" optional="false"/> -->
         <attribute name="supplierId" type="String" mode="IN" optional="false"/>
         <attribute name="orderTypeId" type="String" mode="IN" optional="true"/>
         <attribute name="productQtyList" type="List" mode="IN" optional="false"/>
         <attribute name="poNumber" type="String" mode="IN" optional="true"/> 
          <attribute name="orderId" type="String" mode="OUT" optional="false"/>   
   </service>
    <service name="createQuoteAndItems" engine="java"
                location="in.vasista.vbiz.purchase.MaterialQuoteServices" invoke="createQuoteAndItems">
        <description> Create Quote And Quote Items From Cust Request</description>  
        <attribute name="quoteItemList" mode="IN" type="List" optional="false"/>
        <attribute name="quoteTypeId" type="String" mode="IN" optional="false"/>
        <attribute name="quoteName" type="String" mode="IN" optional="true"/>
        <attribute name="issueDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="validFromDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="validThruDate" type="Timestamp" mode="IN" optional="true"/>
        <attribute name="partyId" type="String" mode="IN" optional="false"/>
        <attribute name="quoteId" mode="OUT" type="String" optional="true"></attribute>
    </service>
    
    <service name="setQuoteAndItemStatus" engine="java"
                location="in.vasista.vbiz.purchase.MaterialQuoteServices" invoke="setQuoteAndItemStatus">
        <description> Set Quote or Quote Item status</description>  
        <attribute name="quoteId" type="String" mode="IN" optional="false"/>
        <attribute name="quoteItemSeqId" type="String" mode="IN" optional="true"/>
        <attribute name="statusId" type="String" mode="IN" optional="false"/>
    </service>
    
    <service name="changeQuoteItemStatus" engine="java"
                location="in.vasista.vbiz.purchase.MaterialQuoteServices" invoke="changeQuoteItemStatus">
        <description> Change Quote Item status</description>  
        <attribute name="quoteId" type="String" mode="IN" optional="false"/>
        <attribute name="quoteItemSeqId" type="String" mode="IN" optional="false"/>
        <attribute name="statusId" type="String" mode="IN" optional="false"/>
        <attribute name="custRequestId" type="String" mode="INOUT" optional="true"/>
        
    </service>
    
    <service name="quoteNegotiateAndStatusChange" engine="java"
                location="in.vasista.vbiz.purchase.MaterialQuoteServices" invoke="quoteNegotiateAndStatusChange">
        <description> Quote Negotiation And Status Change</description>  
        <attribute name="quoteId" type="String" mode="IN" optional="false"/>
        <attribute name="quoteItemSeqId" type="String" mode="IN" optional="false"/>
        <attribute name="custRequestId" type="String" mode="INOUT" optional="true"/>
        <attribute name="quoteUnitPrice" type="BigDecimal" mode="IN" optional="false"/>
        
    </service>
    
    <service name="uploadPOContentFile" engine="group" transaction-timeout="300">
        <description>Upload and attach a file to a Purchase Order</description>
        <group>
            <invoke name="createContentFromUploadedFile" result-to-context="true"/>
            <invoke name="createPOContent"/>
        </group>
    </service>
    
     <service name="createPOContent" engine="simple" default-entity-name="OrderContent"
            location="component://materialmgmt/script/MaterialMgmtServices.xml" invoke="createPOContent" auth="true">
        <description>Create a OrderContent record</description>
        <auto-attributes mode="IN" include="pk" optional="false"/>
        <auto-attributes mode="IN" include="nonpk" optional="true"/>
        <override name="fromDate" optional="true"/>
    </service>
    
    <service name="removePOcontent" engine="simple" default-entity-name="OrderContent"
            location="component://materialmgmt/script/MaterialMgmtServices.xml" invoke="removePOcontent" auth="true">
        <description>Remove a OrderContent record</description>
        <auto-attributes mode="IN" include="pk" optional="false"/>
    </service>
</services>