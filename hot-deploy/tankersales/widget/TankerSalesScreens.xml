<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">

    <screen name="main">
        <section>
            <actions>
                <set field="headerItem" value="main"/><!-- this highlights the selected menu-item with name "main" -->
            </actions>
            <widgets>
                <decorator-screen name="TankerSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<include-menu name="TankerSalesMainTabBar" location="component://tankersales/widget/TankerSalesMenus.xml"/>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
		<!--  Screens for Tanker issues -->  
	<screen name="LoadingDetails">
        <section>
        	<actions>
        		 <set field="titleProperty" value="Loading Details"/>	
        		 <set field="displayScreen" from-field="parameters.displayScreen" default-value="LOADING_DETAILS"/>
        		 <set field="tabButtonItem" value="MilkTankerIssues"/>
        		 <set field="tabButtonItem2" from-field="parameters.tabButtonItem2" default-value="Loading"/> 
        		 <set field="layoutSettings.javaScripts[]" value="/tankersales/images/milkReciptTankerIssues.js" global="true"/>
        		 <!-- <set field="layoutSettings.javaScripts[]" value="/byproducts/images/autoCompleteFacility.js" global="true"/> -->
        		 <script location="component://tankersales/webapp/tankersales/WEB-INF/actions/tankerIssuance/MilkReceiptTankerIssues.groovy"/>
        	</actions>
            <widgets>
                 <decorator-screen name="TankerSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<include-menu name="TankerIssuanceTabBar" location="component://tankersales/widget/TankerSalesMenus.xml"/>
                    	<platform-specific><html><html-template location="component://tankersales/webapp/tankersales/tankerIssuance/milkReceiptTankerIssues.ftl"></html-template></html></platform-specific> 
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>  
    <screen name="MilkTankerIssuesCIP">
        <section>
        	<actions>
        		 <set field="titleProperty" value="MILK ISSUES"/>	
        		 <set field="displayScreen" from-field="parameters.displayScreen" default-value="ISSUE_CIP"/>
        		 <set field="tabButtonItem" value="MilkTankerIssues"/>
        		 <set field="tabButtonItem2" from-field="parameters.tabButtonItem2" default-value="MilkIssues"/> 
        		 <set field="layoutSettings.javaScripts[]" value="/tankersales/images/milkReciptTankerIssues.js" global="true"/>
        		 <script location="component://tankersales/webapp/tankersales/WEB-INF/actions/tankerIssuance/MilkReceiptTankerIssues.groovy"/>
        	</actions>
            <widgets>
                 <decorator-screen name="TankerSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<include-menu name="TankerIssuanceTabBar" location="component://tankersales/widget/TankerSalesMenus.xml"/>
                    	<platform-specific><html><html-template location="component://tankersales/webapp/tankersales/tankerIssuance/milkReceiptTankerIssues.ftl"></html-template></html></platform-specific> 
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="MilkTankerIssuesTareWeight">
        <section>
        	<actions>
        		 <set field="titleProperty" value="MILK ISSUES"/>	
        		 <set field="displayScreen" value="ISSUE_TARWEIGHT"/>
        		 <set field="tabButtonItem" value="MilkTankerIssues"/>
        		 <set field="tabButtonItem2" from-field="parameters.tabButtonItem2" default-value="MilkTankerIssuesTareWeight"/> 
        		 <set field="layoutSettings.javaScripts[]" value="/tankersales/images/milkReciptTankerIssues.js" global="true"/>
        		 <script location="component://tankersales/webapp/tankersales/WEB-INF/actions/tankerIssuance/MilkReceiptTankerIssues.groovy"/>
        	</actions>
            <widgets>
                 <decorator-screen name="TankerSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<include-menu name="TankerIssuanceTabBar" location="component://tankersales/widget/TankerSalesMenus.xml"/>
                    	<platform-specific><html><html-template location="component://tankersales/webapp/tankersales/tankerIssuance/milkReceiptTankerIssues.ftl"></html-template></html></platform-specific> 
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="MilkTankerIssuesQC">
        <section>
        	<actions>
        		 <set field="titleProperty" value="MILK ISSUES"/>	
        		 <set field="displayScreen" value="ISSUE_QC"/>
        		 <set field="tabButtonItem" value="MilkTankerIssues"/>
        		 <set field="tabButtonItem2" from-field="parameters.tabButtonItem2" default-value="MilkTankerIssuesQC"/> 
        		 <set field="layoutSettings.javaScripts[]" value="/tankersales/images/milkReciptTankerIssues.js" global="true"/>
        		 <script location="component://tankersales/webapp/tankersales/WEB-INF/actions/tankerIssuance/MilkReceiptTankerIssues.groovy"/>
        	</actions>
            <widgets>
                 <decorator-screen name="TankerSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<include-menu name="TankerIssuanceTabBar" location="component://tankersales/widget/TankerSalesMenus.xml"/>
                    	<platform-specific><html><html-template location="component://tankersales/webapp/tankersales/tankerIssuance/milkReceiptTankerIssues.ftl"></html-template></html></platform-specific> 
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="MilkTankerIssuesGrossWeight">
        <section>
        	<actions>
        		 <set field="titleProperty" value="MILK ISSUES"/>	
        		 <set field="displayScreen" value="ISSUE_GRSWEIGHT"/>
        		 <set field="tabButtonItem" value="MilkTankerIssues"/>
        		 <set field="tabButtonItem2" from-field="parameters.tabButtonItem2" default-value="MilkTankerIssuesGrossWeight"/> 
        		 <set field="layoutSettings.javaScripts[]" value="/tankersales/images/milkReciptTankerIssues.js" global="true"/>
        		 <script location="component://tankersales/webapp/tankersales/WEB-INF/actions/tankerIssuance/MilkReceiptTankerIssues.groovy"/>
        	</actions>
            <widgets>
                 <decorator-screen name="TankerSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<include-menu name="TankerIssuanceTabBar" location="component://tankersales/widget/TankerSalesMenus.xml"/>
                    	<platform-specific><html><html-template location="component://tankersales/webapp/tankersales/tankerIssuance/milkReceiptTankerIssues.ftl"></html-template></html></platform-specific> 
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="MilkTankerIssuesAQC">
        <section>
        	<actions>
        		 <set field="titleProperty" value="MILK ISSUES"/>	
        		 <set field="displayScreen" value="ISSUE_AQC"/>
        		 <set field="tabButtonItem" value="MilkTankerIssues"/>
        		 <set field="tabButtonItem2" from-field="parameters.tabButtonItem2" default-value="MilkTankerIssuesAQC"/> 
        		 <set field="layoutSettings.javaScripts[]" value="/tankersales/images/milkReciptTankerIssues.js" global="true"/>
        		 <script location="component://tankersales/webapp/tankersales/WEB-INF/actions/tankerIssuance/MilkReceiptTankerIssues.groovy"/>
        	</actions>
            <widgets>
                 <decorator-screen name="TankerSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<include-menu name="TankerIssuanceTabBar" location="component://tankersales/widget/TankerSalesMenus.xml"/>
                    	<platform-specific><html><html-template location="component://tankersales/webapp/tankersales/tankerIssuance/milkReceiptTankerIssues.ftl"></html-template></html></platform-specific> 
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="FindTankerSaleSO">
        <section>
           <actions>
               <set field="titleProperty" value="Find Purchase Order"/>              
		   	   <set field="tabButtonItem" value="FindTankerSaleSO" />	
		       <set field="tabButtonItem2" value="FindTankerSaleSO"/>
		       <service service-name="performFind" result-map="result" result-map-list="listIt">
                	<field-map field-name="inputFields" from-field="parameters"/>
                	<field-map field-name="entityName" value="OrderHeaderAndSequenceAndRoles"/>
                	<field-map field-name="orderBy" value="-orderDate" />
               </service>
               <set field="targetRequest" value="FindTankerSaleSO"/>
               <set field="ChannalType" value="TANKER_SALES_CHANNEL"/>
               <set field="partyId" from-field="parameters.partyId"/>
               <set field="roleTypeId" value="BILL_FROM_VENDOR"/>
               <set field="parameters.roleTypeId" from-field="roleTypeId"/>
               <set field="parameters.noConditionFind"  value="N"></set> 
               <set field="parameters.salesChannelEnumId"  value="TANKER_SALES_CHANNEL"></set> 
                     
               <script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/POSearchFilter.groovy"/>
           </actions>
           <widgets>
            <decorator-screen name="TankerSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                 <decorator-section name="body">  
                 	<include-menu name="FindTankerSaleSOSubTabBar" location="component://tankersales/widget/TankerSalesMenus.xml"/>
                   		<section>
                       		<widgets>
                       			<section>
                       				<!-- <condition>
                       					<if-has-permission permission="MM"  action="_CREATE_PO"/>
                       				</condition> -->
                       					<widgets>
                          					<link target="CreateTSSO" text="Create SO" style="buttontext"/>
                          						<!-- <link target="CreateMPO" text="Create Rate Contract PO" style="buttontext">
													<parameter param-name="purchaseTypeFlag" value="contractPurchase"/>
					      						</link> -->
					      						<link target="CreateNewTSSO" text="Create NewSO" style="buttontext"/>   						
				     					</widgets>
					   				</section>
                       				<screenlet title="search-options">
               							<include-form name="FindTankerSalesOrder" location="component://tankersales/widget/TankerSalesForms.xml"/>
               						</screenlet>
       								<screenlet title="Search-results">
           								<include-form name="listTankerSalesOrders" location="component://tankersales/widget/TankerSalesForms.xml"/>
       								</screenlet>
                   			</widgets>
                  		 </section>
            		</decorator-section>
                 </decorator-screen>
             	</widgets>            
            </section>
          </screen>
          <screen name="CreateTSSO">
              <section>
                  <actions>
                      <set field="titleProperty" value="Find Purchase Order"/>              
      			      <set field="tabButtonItem" value="FindTankerSaleSO" />	
                      <set field="targetRequest" value="FindTankerSaleSO"/>
                      <set field="parameters.roleTypeId" value="SUPPLIER"/>
                      <set field="changeFlag" value="PurchaseOrder"/>
                      <set field="subDivDeptFlag" value="PurchaseOrder"/> 
                      <set field="parameters.changeFlag" value="PurchaseOrder"/> 
      				  <set field="purchaseTypeFlag" from-field="parameters.purchaseTypeFlag"/>
      				  <set field="parameters.partyStatusId" value="PARTY_ENABLED"/> 				 
                      <script location="component://tankersales/webapp/tankersales/WEB-INF/actions/tankersales/enablePartyAutoComplete.groovy"/>
                      <script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/orgnigationDept.groovy"/>
                      <script location="component://tankersales/webapp/tankersales/WEB-INF/actions/tankersales/SalesEntryFormNew.groovy"/>                
                  </actions>
                  <widgets>
                       <decorator-screen name="TankerSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                            <decorator-section name="body">  
                              <section>
                                  <widgets>
                                     <label style="h1">New SO</label>
                                     <platform-specific><html><html-template location="component://tankersales/webapp/tankersales/tankersales/CreateTSSO.ftl"/></html></platform-specific>
                                  </widgets>
                              </section>
                          </decorator-section>
                      </decorator-screen>
                  </widgets>            
              </section>
    </screen>
    
    <screen name="CreateNewTSSO">
              <section>
                  <actions>
                      <set field="titleProperty" value="Find Purchase Order"/>              
      			      <set field="tabButtonItem" value="FindTankerSaleSO" />	
                      <set field="targetRequest" value="FindTankerSaleSO"/>
                      <set field="parameters.roleTypeId" value="SUPPLIER"/>
                      <set field="changeFlag" value="PurchaseOrder"/>
                      <set field="subDivDeptFlag" value="PurchaseOrder"/> 
                      <set field="parameters.changeFlag" value="PurchaseOrder"/> 
      				  <set field="purchaseTypeFlag" from-field="parameters.purchaseTypeFlag"/>
      				  <set field="parameters.partyStatusId" value="PARTY_ENABLED"/> 				 
                  </actions>
                  <widgets>
                       <decorator-screen name="TankerSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                            <decorator-section name="body">  
                            	<section>
       	            			<widgets>
       	            				<container style="full" >
       	                        		<screenlet title="Create New SO">
       	                        			<include-form location="component://tankersales/widget/TankerSalesForms.xml" name="SOInformation"/>
       	                        		</screenlet>
       
                       				</container>
       	            			</widgets>
       	            		</section>
                          </decorator-section>
                      </decorator-screen>
                  </widgets>            
              </section>
    </screen>
    <screen name="SalesOrderOverView">
           	<section>
           		<actions>
           			<set field="titleProperty" value="Sales Order OverView - OrderId - ${parameters.orderId}"/> 
           			<set field="tabButtonItem" value="FindTankerSaleSO" />	
       			      <set field="tabButtonItem2" value="SOoverView"/> 
                       <set field="layoutSettings.javaScripts[]" value="/ordermgr/images/js/order.js" global="true"/>
                       <set field="layoutSettings.javaScripts[]" value="/ordermgr/images/js/OrderShippingInfo.js" global="true"/>
                       <set field="layoutSettings.javaScripts[]" value="/ordermgr/images/js/geoAutoCompleter.js" global="true"/>
                       <script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PurchageOrderView.groovy"/>
                       <script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/POViewWebSecure.groovy"/>
                   </actions>
       	    	<widgets>
       	            <decorator-screen name="SOOverViewDecorator" location="${parameters.mainDecoratorLocation}">
       	            	<decorator-section name="body"> 
       	            	<include-menu name="FindTankerSaleSOSubTabBar" location="component://tankersales/widget/TankerSalesMenus.xml"/>
       	            		<section>
       	            			<widgets>
       	            				<container style="lefthalf" >
       		            				<platform-specific>
       	                    				<html><html-template location="component://tankersales/webapp/tankersales/tankersales/SalesOrderInfo.ftl"/></html>
       	                				</platform-specific>
       	                				<platform-specific>
       	                            			<html><html-template location="component://tankersales/webapp/tankersales/tankersales/SOItems.ftl"/></html>
       	                        		</platform-specific>
       	                        		<platform-specific>
       	                            		<html><html-template location="component://tankersales/webapp/tankersales/tankersales/SOterms.ftl"/></html>
       	                        		</platform-specific>
       	                        		<platform-specific>
       	                            		<html><html-template location="component://tankersales/webapp/tankersales/tankersales/SOSuspend.ftl"/></html>
       	                        		</platform-specific>
       	                        		<screenlet title="Order Amendments">
       	                        			<include-form location="component://tankersales/widget/TankerSalesForms.xml" name="orderAmendments"/>
       	                        		</screenlet>
       	                        		<screenlet title="Order Attributes">
       	                        			<include-screen name="orderAttributes"/>
       	                        		</screenlet>
       	                        		<include-screen name="orderAssoc"/>
                       				</container>
                       				<container style="righthalf" >
       	                        		<platform-specific>
                           					<html><html-template location="component://tankersales/webapp/tankersales/tankersales/SOContactInfo.ftl"/></html>
                       					</platform-specific>
       	                        		<screenlet title="Receipts For Order">
       					                 	<include-screen name="listMaterialShipmentReceipt"/>
       					                </screenlet>
       					                <platform-specific>
                           					<html><html-template location="component://tankersales/webapp/tankersales/tankersales/SOpaymentInfo.ftl"/></html>
                       					</platform-specific>
                       					 <screenlet title="Invoices For Order">
       					                 	<include-form location="component://tankersales/widget/TankerSalesForms.xml" name="invoiceDetailList"/>
       					                </screenlet>
       					                <screenlet title="Content">
       					                <include-screen name="SOcontent"/>
       					                </screenlet>
       					                <platform-specific>
                                   			<html><html-template location="component://tankersales/webapp/tankersales/tankersales/SONotes.ftl"/></html>
                               			</platform-specific>
                               			 <screenlet title="Supply Products Till Date">
                                        	<include-screen name="supplyProductsTillDate"/>                              			 
       					                </screenlet>
                       				</container>
       	            			</widgets>
       	            		</section>
       	                </decorator-section> 
       	    		</decorator-screen>
       	    	</widgets>
           	</section>
    </screen>
    <screen name="orderAttributes">
    	<section>
    	<actions>
    	<entity-and entity-name="OrderAttribute" list="OrderAttributeList">
    		<field-map field-name="orderId" from-field="parameters.orderId"/>
    	</entity-and>
    	</actions>
			<widgets>
				<include-form location="component://materialmgmt/widget/materialmgmtForms.xml" name="addAttribute"/>
				<screenlet >
				<include-form location="component://materialmgmt/widget/materialmgmtForms.xml" name="listAttribute"/>
				</screenlet>
			</widgets>    	
    	</section>
    </screen>
    <screen name="orderAssoc">
    	<section>
    	<actions>
    	<entity-condition list="OrderAssocList" entity-name="OrderAssoc">
    		<condition-list combine="or"> 
	    		<condition-expr field-name="orderId" from-field="parameters.orderId"/>
	    		<condition-expr field-name="toOrderId" from-field="parameters.orderId"/>
    		</condition-list>
    	</entity-condition>
    	<set field="assocId" value="${parameters.orderId}"/>
    	</actions>
			<widgets>
				<screenlet title="Order Associations" >
				<include-form location="component://materialmgmt/widget/materialmgmtForms.xml" name="listOrderAssoc"/>
				</screenlet>
			</widgets>    	
    	</section>
    </screen>
    <screen name="listMaterialShipmentReceipt">
    	<section>
    	<actions>
    	<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer"/>
                <set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer" default-value="20"/>
               <set field="targetRequest" value="FindGRNReceipts"/>
             <service service-name="performFind" result-map="result" result-map-list="listIt">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="ShipmentReceipt"/>
                <field-map field-name="orderBy"  value="-receiptId"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
               <script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/purchaseDepartments.groovy"/>
               <script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/SupplyTillDate.groovy"/>
    	</actions>
			<widgets>
		  			<include-form name="listMaterialShipmentReceipt" location="component://materialmgmt/widget/MaterialPurchaseForms.xml"/>
					<platform-specific>
		                   <html>
						  <html-template location="component://materialmgmt/webapp/materialmgmt/purchase/qcApproval.ftl"/>
					   </html>
				   </platform-specific>				   
			</widgets>    	
    	</section>
    </screen>
    <screen name="SOcontent">
    <section>
    	<actions>
                <property-map resource="CommonUiLabels" map-name="uiLabelMap" global="true"/>
                <property-map resource="ContentUiLabels" map-name="uiLabelMap" global="true"/>
                <entity-condition entity-name="OrderContentAndDataResource" list="orderContentList" filter-by-date="true">
                    <condition-list combine="and">
                        <condition-expr field-name="orderId" operator="equals"  from-field="parameters.orderId"/>
                        <condition-expr field-name="contentTypeId" operator="equals"  value="SO_DOCUMENT"/>
                        <condition-expr field-name="dataCategoryId" operator="equals"  value="SO_DOCUMENT"/>
                        <!-- <condition-expr field-name="isPublic" operator="equals" value="Y"/> -->
                    </condition-list>
                    <order-by field-name="-createdDate"/>
                </entity-condition>   
    	</actions>
    	<widgets>
    		<include-form location="component://tankersales/widget/TankerSalesForms.xml" name="UploadSOcontent"/>
    		<include-form location="component://tankersales/widget/TankerSalesForms.xml" name="ListSOContent"/>
    	</widgets>
    </section>
    </screen>
    <screen name="supplyProductsTillDate">
    	<section>
    	<actions>
    	<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer"/>
                <set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer" default-value="20"/>
               <set field="targetRequest" value="FindGRNReceipts"/>
             <service service-name="performFind" result-map="result" result-map-list="listIt">
                <field-map field-name="inputFields" from-field="parameters"/>
                <field-map field-name="entityName" value="ShipmentReceipt"/>
                <field-map field-name="orderBy"  value="-receiptId"/>
                <field-map field-name="viewIndex" from-field="viewIndex"/>
                <field-map field-name="viewSize" from-field="viewSize"/>
            </service>
          <!--       <script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/purchaseDepartments.groovy"/> -->
               <script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/SupplyTillDate.groovy"/>
    	</actions>
			<widgets>
		  			<include-form name="supplyProductstilldate" location="component://materialmgmt/widget/MaterialPurchaseForms.xml"/>
					
			</widgets>    	
    	</section>
    </screen>
    <screen name="OrderNewNote">
        <section>
            <actions>
            <set field="titleProperty" value="Create New Note"/> 
            <set field="tabButtonItem" value="FindTankerSaleSO" />	
			      <set field="tabButtonItem2" value="FindTankerSaleSO"/> 
                <script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PONewNote.groovy"/>
            </actions>
            <widgets>
            <decorator-screen name="SOOverViewDecorator" location="${parameters.mainDecoratorLocation}">
	            <decorator-section name="body"> 
                 <platform-specific>
                     <html><html-template location="component://tankersales/webapp/tankersales/tankersales/SONewNote.ftl"/></html>
                 </platform-specific>
                </decorator-section>
            </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="EditTankerSaleSO">
        <section>
            <actions>
                <set field="titleProperty" value="Find Sales Order"/>              
			    <set field="tabButtonItem" value="FindTankerSaleSO" />	
               <set field="targetRequest" value="FindTankerSaleSO"/>
               <set field="parameters.roleTypeId" value="MAINSTORE_VENDOR"/>
               <set field="orderId" from-field="parameters.orderId"/>
               <set field="changeFlag" value="SalesOrder"/>
               <set field="parameters.POId" from-field="orderId"/> 
               <set field="parameters.changeFlag" value="SalesOrder"/> 
               <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enablePartyAutoComplete.groovy"/>
               <script location="component://tankersales/webapp/tankersales/WEB-INF/actions/tankersales/orgnigationDept.groovy"/>
               <script location="component://tankersales/webapp/tankersales/WEB-INF/actions/tankersales/SalesEntryFormNew.groovy"/>
               <script location="component://tankersales/webapp/tankersales/WEB-INF/actions/tankersales/EditSOEntryForm.groovy"/>
               <set field="purchaseTypeFlag" from-field="parameters.purchaseTypeFlag"/>
            </actions>
            <widgets>
                 <decorator-screen name="TankerSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                      <decorator-section name="body">  
                        <section>
                            <widgets>
                               <label style="h1">Order Id : "${orderId}"</label>
                               
                               <platform-specific><html><html-template location="component://tankersales/webapp/tankersales/tankersales/CreateTSSO.ftl"/></html></platform-specific>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>            
        </section>
    </screen>
    <screen name="FindPendingOrders">
        <section>
           <actions>
               <set field="titleProperty" value="Find Order"/>              
		   	   <set field="tabButtonItem" value="MilkTankerIssues"/>
        	   <set field="tabButtonItem2" value="FindPendingOrders"/> 
		       <service service-name="performFind" result-map="result" result-map-list="listIt">
                	<field-map field-name="inputFields" from-field="parameters"/>
                	<field-map field-name="entityName" value="OrderHeaderAndSequenceAndRoles"/>
                	<field-map field-name="orderBy" value="-orderDate" />
               </service>
               <set field="targetRequest" value="FindTankerSaleSO"/>
               <set field="ChannalType" value="TANKER_SALES_CHANNEL"/>
               <set field="partyId" from-field="parameters.partyId"/>
               <set field="roleTypeId" value="BILL_FROM_VENDOR"/>
               <set field="parameters.roleTypeId" from-field="roleTypeId"/>
               <set field="parameters.noConditionFind"  value="N"></set> 
               <set field="parameters.salesChannelEnumId"  value="TANKER_SALES_CHANNEL"></set> 
                     
               <script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/POSearchFilter.groovy"/>
           </actions>
           <widgets>
            <decorator-screen name="TankerSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                 <decorator-section name="body">  
                 	<include-menu name="TankerIssuanceTabBar" location="component://tankersales/widget/TankerSalesMenus.xml"/>
                   		<section>
                       		<widgets>
                   				<screenlet title="search-options">
           							<include-form name="FindPendingOrders" location="component://tankersales/widget/TankerSalesForms.xml"/>
           						</screenlet>
   								<screenlet title="Search-results">
       								<include-form name="ListPendingOrders" location="component://tankersales/widget/TankerSalesForms.xml"/>
   								</screenlet>
                   			</widgets>
                  		 </section>
            		</decorator-section>
                 </decorator-screen>
             	</widgets>            
    	</section>
    </screen>
    <!-- <screen name="FindTankerSalesEntries">
		<section>
			<actions>
				<set field="titleProperty" value="Tanker Sale Entries" />
				<set field="headerItem" value="MILK RECEIPTS" />
				<set field="tabButtonItem" value="SearchTankerSalesEntries" />
				<set field="tabButtonItem2" value="SearchMilkReceiptsTankerEntry" />
				<set field="displayScreen" value="FINDMILKRECEIPTS"/>
				<set field="productsList" type="List" value="${groovy: import org.ofbiz.base.util.*; return (in.vasista.vbiz.procurement.ProcurementNetworkServices.getMilkReceiptProducts(dispatcher.getDispatchContext(),context)); }"/>
				<script location="component://procurement/webapp/milkreceipts/WEB-INF/actions/reports/MilkReceiptEntry.groovy"/>
				<script location="component://procurement/webapp/milkreceipts/WEB-INF/actions/reports/MilkReceiptsEntrySerach.groovy"/>
				 <set field="layoutSettings.javaScripts[]" value="/milkreceipts/images/findTransfer.js" global="true"/>
			</actions>
			<widgets>
				<decorator-screen name="MilkReceiptsCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
					<include-menu name="FindMilkReceiptsTankerTabBar" location="component://procurement/widget/milkreceipts/MilkReceiptsMenus.xml"/>
						<container style="full">
							<platform-specific><html><html-template location="component://procurement/webapp/milkreceipts/reports/findTransfer.ftl"></html-template></html></platform-specific>														
							<screenlet title="Received Milk List">
								<include-form location="component://procurement/widget/milkreceipts/MilkReceiptsForms.xml"	name="ListMilkReceived" />
							</screenlet>
						</container>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
    <screen name="ApproveTankerSales">
    	<section>
    		<actions>
    			<set field="titleProperty" value="APPROVE TANKER SALES" />
				<set field="tabButtonItem" value="TankerSalesToApprove" />
				<set field="tabButtonItem2"  value="MilkReceiptsToApprove" />
				<set field="productsList" type="List" value="${groovy: import org.ofbiz.base.util.*; return (in.vasista.vbiz.procurement.ProcurementNetworkServices.getMilkReceiptProducts(dispatcher.getDispatchContext(),context)); }"/>
				<set field="parameters.flag" value="APPROVE_RECEIPTS"/>
				<set field="displayScreen" value=" "/>
				<script location="component://procurement/webapp/milkreceipts/WEB-INF/actions/reports/MilkReceiptEntry.groovy"/>
				<script location="component://procurement/webapp/milkreceipts/WEB-INF/actions/reports/MilkReceiptsEntrySerach.groovy"/>
				 <set field="layoutSettings.javaScripts[]" value="/milkreceipts/images/findTransfer.js" global="true"/>
			</actions>
			<widgets>
				<decorator-screen name="MilkReceiptsCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
					<include-menu name="FindMilkReceiptsTankerTabBar" location="component://procurement/widget/milkreceipts/MilkReceiptsMenus.xml"/>
						<container style="full">
							<platform-specific><html><html-template location="component://procurement/webapp/milkreceipts/reports/findTransfer.ftl"></html-template></html></platform-specific>														
							<screenlet title="Approve Milk Receipts">
								<platform-specific><html><html-template location="component://procurement/webapp/milkreceipts/facility/MilkReceiptsToApprove.ftl"></html-template></html></platform-specific>
							</screenlet>
						</container>
					</decorator-section>
				</decorator-screen>
			</widgets>
    	</section>
    </screen> -->
    
    <!-- <screen name="FindTankerSalesShipment">
        <section>
           <actions>
               <set field="titleProperty" value="Find Order"/>              
		   	   <set field="tabButtonItem" value="TankerSalesShipment"/>
        	   <set field="tabButtonItem2" value="FindPendingOrders"/> 
		       <service service-name="performFind" result-map="result" result-map-list="listIt">
                	<field-map field-name="inputFields" from-field="parameters"/>
                	<field-map field-name="entityName" value="OrderHeaderAndSequenceAndRoles"/>
                	<field-map field-name="orderBy" value="-orderDate" />
               </service>
               <set field="targetRequest" value="FindTankerSaleSO"/>
               <set field="ChannalType" value="TANKER_SALES_CHANNEL"/>
               <set field="partyId" from-field="parameters.partyId"/>
               <set field="roleTypeId" value="BILL_FROM_VENDOR"/>
               <set field="parameters.roleTypeId" from-field="roleTypeId"/>
               <set field="parameters.noConditionFind"  value="N"></set> 
               <set field="parameters.salesChannelEnumId"  value="TANKER_SALES_CHANNEL"></set> 
                     
               <script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/POSearchFilter.groovy"/>
           </actions>
           <widgets>
            <decorator-screen name="TankerSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                 <decorator-section name="body">  
                 	<include-menu name="TankerIssuanceTabBar" location="component://tankersales/widget/TankerSalesMenus.xml"/>
                   		<section>
                       		<widgets>
                   				<screenlet title="search-options">
           							<include-form name="FindPendingOrders" location="component://tankersales/widget/TankerSalesForms.xml"/>
           						</screenlet>
   								<screenlet title="Search-results">
       								<include-form name="ListPendingOrders" location="component://tankersales/widget/TankerSalesForms.xml"/>
   								</screenlet>
                   			</widgets>
                  		 </section>
            		</decorator-section>
                 </decorator-screen>
             	</widgets>            
    	</section>
    </screen> -->
    <screen name="FindTankerSalesShipment">
        <section>
           <actions>
               <set field="titleProperty" value="Find Order"/>              
		   	   <set field="tabButtonItem" value="TankerSalesShipment"/>
        	   <!-- <set field="tabButtonItem2" value="FindPendingOrders"/>  -->
		       <script location="component://tankersales/webapp/tankersales/WEB-INF/actions/tankerIssuance/MilkReceiptEntry.groovy"/>
			   <script location="component://tankersales/webapp/tankersales/WEB-INF/actions/tankerIssuance/MilkReceiptsEntrySerach.groovy"/>
			   <set field="layoutSettings.javaScripts[]" value="/milkreceipts/images/findTransfer.js" global="true"/> 
           </actions>
           <widgets>
            	<decorator-screen name="TankerSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                 	<decorator-section name="body">
						<!-- <include-menu name="FindMilkReceiptsTankerTabBar" location="component://procurement/widget/milkreceipts/MilkReceiptsMenus.xml"/> -->
						<container style="full">
							<platform-specific><html><html-template location="component://tankersales/webapp/tankersales/tankerIssuance/findTransfer.ftl"></html-template></html></platform-specific>														
							<screenlet title="Approve Tanker Sales">
								<platform-specific><html><html-template location="component://tankersales/webapp/tankersales/tankerIssuance/MilkReceiptsToApprove.ftl"></html-template></html></platform-specific>
							</screenlet>
						</container>
					</decorator-section>
                 </decorator-screen>
           </widgets>            
    	</section>
    </screen>
    
    
</screens>