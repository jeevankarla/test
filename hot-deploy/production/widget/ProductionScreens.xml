<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">

    <screen name="main">
        <section>
            <actions>
                <set field="headerItem" value="main"/><!-- this highlights the selected menu-item with name "main" -->
            </actions>
            <widgets>
                <decorator-screen name="ProductionCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    
    <screen name="PowderPlant">
        <section>
            <actions>
                <set field="tabButtonItem1" value="PowderPlant"/>
                <set field="tabButtonItem2" value="PowderShiftStart"/>
                <script location="component://production/webapp/production/WEB-INF/actions/PowderShiftStart.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="ProductionCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	
                    	<include-menu name="PowderPlantTabBar" location="component://production/widget/ProductionMenus.xml"/>
                    	
                    	
                    	<screenlet title="Shift Start">
                    		<include-form name="PowderShiftStartDetails" location="component://production/widget/ProductionForms.xml"/>
                    		<include-form name="PowderShiftStart" location="component://production/widget/ProductionForms.xml"/>
                    	</screenlet>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="prePacking">
     <section>
     <actions>
     	<set field="headerItem" value="prePack"/>
     	<set field="tabButtonItem1" value="prePack"/>
     	<set field="tabButtonItem2" value="prePack"/>
     	<set field="titleProperty" value="Pre Packing"/>
     	<entity-condition list="shiftsList" entity-name="Enumeration">
     	 <condition-expr field-name="enumTypeId" operator="equals" value="PROD_SHIFT"/>
     	</entity-condition>
     </actions>
     	<widgets>
     		 <decorator-screen name="ProductionCommonDecorator" location="${parameters.mainDecoratorLocation}">
     		 	<decorator-section name="body">
     		 	<include-menu name="PrePackingTabBar" location="component://production/widget/ProductionMenus.xml"/>
     		 	<screenlet>
     		 		  <platform-specific><html><html-template location="component://production/webapp/production/production/PrePack.ftl"/></html></platform-specific>
     		 	</screenlet>	  
     		 	</decorator-section>
     		 </decorator-screen>
     	</widgets>
     </section>
    </screen>
    <screen name="productionStockXfers">
    	<section>
		     <actions>
		     	<set field="headerItem" value="Xfer"/>
		     	<set field="tabButtonItem1" value="productionStockXfers"/>
		     	<set field="tabButtonItem2" value="productionStockXfers"/>
		     	<set field="titleProperty" value="Stock Transfers"/>
		     	<set field="productId" from-field="parameters.productId"/>
		     	<set field="facilityId" from-field="parameters.facilityId"/>
		     	<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer" default-value="0"/>
        		<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer" default-value="20"/> 
		     	<script location="component://production/webapp/production/WEB-INF/actions/StoreInventoryForXfer.groovy"/>
		     </actions>
		     <widgets>
	     		 <decorator-screen name="ProductionCommonDecorator" location="${parameters.mainDecoratorLocation}">
	     		 	<decorator-section name="body">
	     		 	<include-menu location="component://production/widget/ProductionMenus.xml" name="InventoryTransferTabBar"/>
	     		 	<screenlet title="Find Product Inventory">
	     		 		<include-form location="component://production/widget/ProductionForms.xml" name="FindFacilityProducts"/>
	     		 	</screenlet>
	     		 	<screenlet title="Product Listing">
	     		 		<platform-specific><html><html-template location="component://production/webapp/production/production/stockXferForm.ftl"/></html></platform-specific>
	     		 		<include-form location="component://production/widget/ProductionForms.xml" name="ListFacilityProducts"/> 
	     		 	</screenlet>	  
	     		 	</decorator-section>
	     		 </decorator-screen>
	     	</widgets>
		</section>
    </screen>
    
    <screen name="FindStockXfer">
    	<section>
		     <actions>
		     	<set field="headerItem" value="Xfer"/>
		     	<set field="tabButtonItem1" value="productionStockXfers"/>
		     	<set field="tabButtonItem2" value="findStockXfer"/>
		     	<set field="titleProperty" value="Find Stock Transfers"/>
		     </actions>
		     <widgets>
	     		 <decorator-screen name="ProductionCommonDecorator" location="${parameters.mainDecoratorLocation}">
	     		 	<decorator-section name="body">
	     		 		<include-menu location="component://production/widget/ProductionMenus.xml" name="InventoryTransferTabBar"/>
		     		 	<screenlet title="Find Transfers">
		     		 		<include-form location="component://production/widget/ProductionForms.xml" name="FindInventoryTransfers"/>
		     		 	</screenlet>
		     		 	<screenlet title="List Transfers">
		     		 		<include-form location="component://production/widget/ProductionForms.xml" name="ListInventoryTransfers"/>
		     		 	</screenlet>
	     		 	</decorator-section>
	     		 </decorator-screen>
	     	</widgets>
		</section>
    </screen>
    <screen name="InOutStockXfers">
    	<section>
		     <actions>
		     	<set field="headerItem" value="Xfer"/>
		     	<set field="tabButtonItem1" value="productionStockXfers"/>
		     	<set field="tabButtonItem2" value="InOutTransfer"/>
		     	<set field="titleProperty" value="Stock Transfers"/>
		     	<set field="facilityId" from-field="parameters.facilityId"/>
		     	<entity-one value-field="facility" entity-name="Facility">
		     		<field-map field-name="facilityId"/>
		     	</entity-one>
		     	<script location="component://production/webapp/production/WEB-INF/actions/ListIncomingAndOutgoingXfer.groovy"/>
		     </actions>
		     <widgets>
	     		 <decorator-screen name="ProductionCommonDecorator" location="${parameters.mainDecoratorLocation}">
	     		 	<decorator-section name="body">
	     		 		<include-menu location="component://production/widget/ProductionMenus.xml" name="InventoryTransferTabBar"/>
	     		 		<label style="h1">${facility.facilityName}:[${facility.facilityId}]</label>
		     		 	<screenlet title="Find Product Inventory">
		     		 		<include-form location="component://production/widget/ProductionForms.xml" name="FindFacilityProducts"/>
		     		 	</screenlet>
		     		 	<screenlet title="Incomming Transfers">
		     		 		<platform-specific><html><html-template location="component://production/webapp/production/production/ListSearchIncomingXfer.ftl"/></html></platform-specific>
		     		 	</screenlet>
		     		 	<screenlet title="Outgoing Transfers">
		     		 		<platform-specific><html><html-template location="component://production/webapp/production/production/ListSearchOutgoingXfer.ftl"/></html></platform-specific>
		     		 	</screenlet>	  
	     		 	</decorator-section>
	     		 </decorator-screen>
	     	</widgets>
		</section>
    </screen>
    <screen name="productionDashboardMain">
    	<section>
		     <actions>
		     	<set field="headerItem" value="Dashboard"/>
		     	<set field="tabButtonItem1" value="productionDashboard"/>
		     	<set field="tabButtonItem2" value="inventoryCheck"/>
		     	<set field="titleProperty" value="Dashboard"/>
		     	<entity-condition list="facilityList" entity-name="Facility">
		     		<condition-expr field-name="facilityTypeId" operator="equals" value="PLANT"/>
		     	</entity-condition>
		     	<script location="component://production/webapp/production/WEB-INF/actions/SiloInventoryCharts.groovy"/>
		     </actions>
		     <widgets>
	     		 <decorator-screen name="ProductionCommonDecorator" location="${parameters.mainDecoratorLocation}">
	     		 	<decorator-section name="body">
	     		 		<include-menu name="AnalyticsMenusTabBar" location="component://production/widget/ProductionMenus.xml"/>
		     		 	<screenlet title="Inventory Charts">
		     		 		<platform-specific><html><html-template location="component://production/webapp/production/analytics/ProductionInventoryCharts.ftl"/></html></platform-specific>
		     		 	</screenlet>	  
	     		 	</decorator-section>
	     		 </decorator-screen>
	     	</widgets>
		</section>
    </screen>
    <screen name="ProductionRunTrends">
    	<section>
		     <actions>
		     	<set field="headerItem" value="Dashboard"/>
		     	<set field="tabButtonItem1" value="productionDashboard"/>
		     	<set field="tabButtonItem2" value="productionRunTrends"/>
		     	<set field="titleProperty" value="Dashboard"/>
		     	<entity-condition list="facilityList" entity-name="Facility">
		     		<condition-expr field-name="facilityTypeId" operator="equals" value="PLANT"/>
		     	</entity-condition>
		     	<script location="component://production/webapp/production/WEB-INF/actions/ProductionRunDetailsChart.groovy"/>
		     </actions>
		     <widgets>
	     		 <decorator-screen name="ProductionCommonDecorator" location="${parameters.mainDecoratorLocation}">
	     		 	<decorator-section name="body">
	     		 		<include-menu name="AnalyticsMenusTabBar" location="component://production/widget/ProductionMenus.xml"/>
		     		 	<platform-specific><html><html-template location="component://production/webapp/production/analytics/findProductionRunTrend.ftl"/></html></platform-specific>
		     		 	<screenlet title="Chart">
		     		 		<platform-specific><html><html-template location="component://production/webapp/production/analytics/ProductionRunCharts.ftl"/></html></platform-specific>
		     		 	</screenlet>	  
	     		 	</decorator-section>
	     		 </decorator-screen>
	     	</widgets>
		</section>
    </screen>
    
 <screen name="ProductionReports">
     <section>
     <actions>
     <!-- 	<set field="headerItem" value="prePack"/>
     	<set field="tabButtonItem1" value="prePack"/>
     	<set field="tabButtonItem2" value="prePack"/>
     	<set field="titleProperty" value="Pre Packing"/>
     	<entity-condition list="shiftsList" entity-name="Enumeration">
     	 <condition-expr field-name="enumTypeId" operator="equals" value="PROD_SHIFT"/>
     	</entity-condition>
      --></actions>
     	<widgets>
     		 <decorator-screen name="ProductionCommonDecorator" location="${parameters.mainDecoratorLocation}">
     		 	<decorator-section name="body">
     		 	<screenlet>
     		 		  <platform-specific><html><html-template location="component://production/webapp/production/reports/productionReports.ftl"/></html></platform-specific>
     		 	</screenlet>	  
     		 	</decorator-section>
     		 </decorator-screen>
     	</widgets>
     </section>
    </screen>

</screens>