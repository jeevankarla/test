<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">





    <screen name="IndentorPortalScreen">
		<section>
			<actions>
				<set field="titleProperty" value="Process Indent" />
				<set field="tabButtonItem" value="IndentPortalPayment" />
				<set field="tabButtonItem2" value="IndentPortalPayment" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
				<set field="defaultEffectiveDateTime"
					value="${bsh:org.ofbiz.base.util.UtilDateTime.getDayStart(org.ofbiz.base.util.UtilDateTime.nowTimestamp())}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="shipmentTypeId" from-field="parameters.shipmentTypeId" />
				<set field="salesChannelEnumId" from-field="parameters.salesChannelEnumId" />
				<set field="screenFlag" value="depotSales" />
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/getIcpSalesOrder.groovy" 
					/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ListSalesOrderSearchResults.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="IndentMyPortalCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="IndentPortalMainTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
                                       
							</decorator-section>
							
				</decorator-screen>
			</widgets>
		</section>
	</screen>
    
	<screen name="ProcessIndentBranchOrders">
		<section>
			<actions>
				<set field="titleProperty" value="Process Indent" />
				<set field="tabButtonItem" value="BranchSalesOrder" />
				<set field="tabButtonItem2" value="processOrdersBranchSales" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
				<set field="defaultEffectiveDateTime"
					value="${bsh:org.ofbiz.base.util.UtilDateTime.getDayStart(org.ofbiz.base.util.UtilDateTime.nowTimestamp())}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="shipmentTypeId" from-field="parameters.shipmentTypeId" />
				<set field="salesChannelEnumId" from-field="parameters.salesChannelEnumId" />
				<set field="screenFlag" value="depotSales" />
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/getIcpSalesOrder.groovy" 
					/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ListSalesOrderSearchResults.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="IndentMyPortalCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="BranchSalesIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
							<decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
                                    <decorator-section name="menu-bar">
                                    	 <container style="button-bar">
											<link target="BranchSalesOrder" text="Create New Indent" style="buttontext create h2">
											</link>
										</container>
                                    </decorator-section>
							 		<decorator-section name="search-options">
                                        <include-form name="FindTankerSalesOrder" location="component://depotsales/widget/DepotSalesForms.xml"/>
                                    </decorator-section>
                                    <decorator-section name="search-results">
								<screenlet title="Depot Indent">
								<platform-specific>
										<html>
											<html-template
												location="component://depotsales/webapp/depotsales/depotsales/generatePO.ftl" />
										</html>
									</platform-specific>
									<!-- <platform-specific>
										<html>
											<html-template
												location="component://byproducts/webapp/byproducts/byproducts/viewOrderDetails.ftl" />
										</html>
									</platform-specific> -->
									<platform-specific>
										<html>
											<html-template
												location="component://depotsales/webapp/depotsales/depotsales/ListSearchOrdersDepot.ftl" />
										</html>
									</platform-specific>
								</screenlet>
								</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	<screen name="IndentPortalOrderPayment">
          		<section>
          			<actions>
          				<set field="titleProperty" value="Indent Payment" />
          				<set field="tabButtonItem" value="IndentPortalOrderPayment" />
          				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
          				<set field="defaultEffectiveDateTime"
          					value="${bsh:org.ofbiz.base.util.UtilDateTime.getDayStart(org.ofbiz.base.util.UtilDateTime.nowTimestamp())}" />
          				<set field="defaultEffectiveDate"
          					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
          				<set field="shipmentTypeId" from-field="parameters.shipmentTypeId" />
          				<set field="salesChannelEnumId" from-field="parameters.salesChannelEnumId" />
          				<set field="screenFlag" value="depotSales" />
          				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/getIcpSalesOrder.groovy" 
          					/> -->
          				<script
          					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ListSalesOrderPaymentSearchResults.groovy" />
          			</actions>
          			<widgets>
          				<decorator-screen name="IndentMyPortalCommonDecorator"
          					location="${parameters.mainDecoratorLocation}">
          					<decorator-section name="body">
          						<include-menu name="IndentPortalMainTab"
          							location="component://depotsales/widget/DepotSalesMenus.xml" />
          						<section>
          							<widgets>
          							<decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
                                              <decorator-section name="menu-bar">
                                              	 
                                              </decorator-section>
          							 		<decorator-section name="search-options">
                                                  <include-form name="FindIndentOrderPaymentSeach" location="component://depotsales/widget/DepotSalesForms.xml"/>
                                              </decorator-section>
                                              <decorator-section name="search-results">
          								<screenlet title="Depot Indents">
          								<platform-specific>
          										<html>
          											<html-template
          												location="component://depotsales/webapp/depotsales/depotsales/generatePO.ftl" />
          										</html>
          									</platform-specific>
          									<platform-specific>
          										<html>
          											<html-template
          												location="component://depotsales/webapp/depotsales/depotsales/IndentorListSearchOrderPayments.ftl" />
          										</html>
          									</platform-specific>
          								</screenlet>
          								</decorator-section>
          								</decorator-screen>
          							</widgets>
          						</section>
          					</decorator-section>
          				</decorator-screen>
          			</widgets>
          		</section>
          	</screen>
    	
    	<screen name="processIndentPortalBranchSales">
		<section>
			<actions>
				<set field="titleProperty" value="Process Indent" />
				<set field="tabButtonItem" value="IndentPortalBranchSales" />
				<set field="tabButtonItem2" value="processIndentPortalBranchSales" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
				<set field="defaultEffectiveDateTime"
					value="${bsh:org.ofbiz.base.util.UtilDateTime.getDayStart(org.ofbiz.base.util.UtilDateTime.nowTimestamp())}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="shipmentTypeId" from-field="parameters.shipmentTypeId" />
				<set field="salesChannelEnumId" from-field="parameters.salesChannelEnumId" />
				<set field="screenFlag" value="depotSales" />
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/getIcpSalesOrder.groovy" 
					/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ListSalesOrderSearchResults.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="IndentMyPortalCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="IndentPortalMainTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
							<decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
                                    <decorator-section name="menu-bar">
                                    	 <container style="button-bar">
											<link target="IndentorBranchSalesOrder" text="Create New Indent" style="buttontext create h2">
											</link>
										</container>
                                    </decorator-section>
							 		<decorator-section name="search-options">
                                        <include-form name="FindIndentorPayment" location="component://depotsales/widget/DepotSalesForms.xml"/>
                                    </decorator-section>
                                    <decorator-section name="search-results">
								<screenlet title="Depot Indent">
								<platform-specific>
										<html>
											<html-template
												location="component://depotsales/webapp/depotsales/depotsales/generatePO.ftl" />
										</html>
									</platform-specific>
									<!-- <platform-specific>
										<html>
											<html-template
												location="component://byproducts/webapp/byproducts/byproducts/viewOrderDetails.ftl" />
										</html>
									</platform-specific> -->
									<platform-specific>
										<html>
											<html-template
												location="component://depotsales/webapp/depotsales/depotsales/ListSearchIndentorPayments.ftl" />
										</html>
									</platform-specific>
								</screenlet>
								</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
     <screen name="IndentorBranchSalesOrder">
		<section>
			<actions>
				<set field="titleProperty" value="Branch Sales Entry" />
				<set field="tabButtonItem" value="IndentorBranchSalesOrder" />
				<set field="tabButtonItem2" value="IndentPortalBranchSales" />
				<set field="changeFlag" value="DepotSales" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="orderStatus" from-field="parameters.orderStatus" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="parameters.roleTypeId" value="EMPANELLED_CUSTOMER"/>
			</actions>
			<widgets>
				<decorator-screen name="IndentMyPortalCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<!-- <container><label text="isFormSubmitted:${isFormSubmitted}" ></label></container> -->
						<include-menu name="IndentPortalMainTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="IndentorBranchSaleInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="IndentorBranchSalesInnerScreen" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
    	<screen name="IndentorBranchSaleInner">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" value="${parameters.productSubscriptionTypeId}" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>


				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="checkListType" value="indentEntry" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<entity-condition entity-name="Enumeration" list="prodSubTypes"
					use-cache="true">
					<condition-list>
						<condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="CARD" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="LEAK" />
					</condition-list>
					<order-by field-name="sequenceId" />
				</entity-condition>

				<!-- <entity-condition entity-name="Product" list="productList" use-cache="true"> 
					</entity-condition> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enableBoothAutoComplete.groovy"/> -->
			 	<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" /> 
				<set field="routeId" from-field="parameters.routeId" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/BranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
    	
	
	<screen name="IndentorBranchSalesInnerScreen">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" from-field="parameters.productSubscriptionTypeId" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<set field="boothId" from-field="parameters.boothId" />
				<!-- <entity-condition entity-name="Enumeration" list="prodSubTypes" 
					use-cache="true"> <condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE"/> 
					<order-by field-name="sequenceId"/> </entity-condition> -->
				<set field="checkListType" value="indentEntry" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="PONumber" from-field="parameters.PONumber" />
				<set field="insuranceNum" from-field="parameters.insuranceNum" />
				<set field="insCompany" from-field="parameters.insCompany" />
				<set field="promotionAdj" from-field="parameters.promotionAdj" />
				<set field="productCategoryId" from-field="parameters.productCategoryId" />
				<set field="vehicleId" from-field="parameters.vehicleId" />
				<set field="disableAcctgFlag" value="Y" />
				<set field="productStoreId" from-field="parameters.productStoreIdFrom" />
				<set field="partyId" from-field="parameters.partyId" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/BranchSalesOrderInnerScreenHelper.groovy" />
				<!-- <script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/EditStoreOrderForm.groovy" /> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/BranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/BranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	
	
	
	<screen name="IndentorFindGRNReceiptsDepot">
		<section>
			<actions>
				<set field="titleProperty" value="Find GRN Items" />
				<set field="tabButtonItem" value="IndentReceitGoodsMain" />
				<set field="tabButtonItem2" value="FindGRNReceipts" />
				<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="20" />
				<set field="targetRequest" value="IndentorFindGRNReceiptsDepot" />
				<service service-name="performFind" result-map="result"
					result-map-list="listIt">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="ShipmentReceipt" />
					<field-map field-name="orderBy" value="-receiptId" />
					<field-map field-name="viewIndex" from-field="viewIndex" />
					<field-map field-name="viewSize" from-field="viewSize" />
				</service>
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/purchaseDepartments.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/SupplyTillDate.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="IndentMyPortalCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="IndentorReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="search-options">
										<include-form name="IndentorFindShipmentReceipt"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="">
											<include-form name="listMaterialShipmentReceipt"
												location="component://depotsales/widget/DepotSalesForms.xml" />
										</screenlet>
										<platform-specific>
											<html>
												<html-template
													location="component://depotsales/webapp/depotsales/depotsales/qcApprovalDepot.ftl" />
											</html>
										</platform-specific>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	
	
	
		<screen name="IndentorFindGRNShipments">
		<section>
			<actions>
				<set field="titleProperty" value="Find GRN Shipments" />
				<set field="tabButtonItem" value="IndentReceitGoodsMain" />
				<set field="tabButtonItem2" value="FindGRNShipments" />
				<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="20" />
				<set field="targetRequest" value="IndentorFindGRNShipments" />
				<set field="noConditionFind" value="Y" />
				<service service-name="performFind" result-map="result"
					result-map-list="listIt">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="inputFields.shipmentTypeId" value="BRANCH_SHIPMENT" />
					<field-map field-name="entityName" value="Shipment" />
					<field-map field-name="orderBy" value="-estimatedShipDate" />
					<field-map field-name="viewIndex" from-field="viewIndex" />
					<field-map field-name="viewSize" from-field="viewSize" />
				</service>
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/ShipmentPartyView.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/purchaseDepartments.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="IndentMyPortalCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="IndentorReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/LinkGRNWithPoDepot.ftl" />
									</html>
								</platform-specific>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="search-options">
										<include-form name="FindMaterialShipment"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="">
											<include-form name="IndentorListMaterialShipments"
												location="component://depotsales/widget/DepotSalesForms.xml" />
										</screenlet>
										<platform-specific>
											<html>
												<html-template
													location="component://depotsales/webapp/depotsales/depotsales/qcApprovalDepot.ftl" />
											</html>
										</platform-specific>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	
	
	
	
	
</screens>