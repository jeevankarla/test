<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">
	
	
	<screen name="StockDetailsDC">
		<section>
			<actions>
				<set field="titleProperty" value="Stock Details" />
				<!-- <set field="headerItem" value="facility" /> -->
				<set field="tabButtonItem" value="StockDetailsDC" />
				<!-- <set field="parameters.facilityId" from-field="parameters.facilityId"></set> -->
				<set field="isInventorySales" value="Y"/>
				<script	location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/StockDetailsDC.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecoratorDC" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<screenlet title="Find Stock Details">
							<include-form name="FindStockDetailsDC" location="component://depotsales/widget/DepotSalesForms.xml" />
						</screenlet>
						<screenlet title="List Of Stock">
							<platform-specific><html><html-template location="component://depotsales/webapp/depotsales/depotsales/StockDetailsDC.ftl"/></html></platform-specific>
							<include-form name="ListStockDetailsDC" location="component://depotsales/widget/DepotSalesForms.xml" />
						</screenlet>
						<platform-specific>
							<html>
								<html-template location="component://depotsales/webapp/depotsales/depotsales/MakeSaleOrderDC.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
<screen name="FindDepotTransPODC">
		<section>
			<actions>
				<set field="titleProperty" value="Find Purchase Order" />
				<set field="tabButtonItem" value="FindDepotTransPODC" />
				<set field="tabButtonItem2" value="FindDepotTransPODC" />
				<script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/poRefNoSearchDC.groovy"/>
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/DepotTransROSearchFilterDC.groovy" />
				<service service-name="performFind" result-map="result"
					result-map-list="listIt">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="OrderHeaderAndSequenceAndRoles" />
					<field-map field-name="orderBy" value="-orderDate" />
				</service>
				<set field="targetRequest" value="FindDepotTransPODC" />
			<!-- 	<set field="ChannalType" value="MATERIAL_PUR_CHANNEL" />  -->
				<!-- <set field="partyId" from-field="parameters.partyId" /> -->
				<set field="roleTypeId" value="BILL_FROM_VENDOR" />
				<set field="parameters.roleTypeId" from-field="roleTypeId" />
				<set field="parameters.noConditionFind" value="N"></set>
				<set field="parameters.purposeTypeId" value="DEPOT_PURCHASE"></set>
			<!-- 	<set field="parameters.salesChannelEnumId" value="MATERIAL_PUR_CHANNEL"></set>  -->
				<set field="parameters.partyId" value="${tempPartyId}" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/POSearchFilterDC.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecoratorDC" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="FindDepotTransPOSubTabBarDC" />
						<section>
							<widgets>
								<section>
                             		<condition>
                            			<if-has-permission permission="DEPOTSALES"  action="_CREATE_PO"/>
                            		</condition>
									<widgets>
										<link target="CreateDepotTransPODC" text="Create PO" style="buttontext" />
									</widgets>
								</section>
								<screenlet title="search-options">
									<include-form name="FindDepotTransPurchaseOrderDC"
										location="component://depotsales/widget/DepotOperationForms.xml" />
								</screenlet>
								<screenlet title="Search-results">
									<include-form name="listDepotTransPurchaseOrdersDC"
										location="component://depotsales/widget/DepotOperationForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

<screen name="CreateDepotTransPODC">
		<section>
			<actions>
				<set field="titleProperty" value="Find Purchase Order" />
				<set field="tabButtonItem" value="FindDepotTransPODC" />
				<set field="targetRequest" value="FindDepotTransPODC" />
				<!-- <set field="ChannalType" value="PROD_PRCHSE_CHANNEL"/> -->
				<set field="parameters.roleTypeId" value="SUPPLIER" />
				<set field="changeFlag" value="PurchaseOrder" />
				<set field="subDivDeptFlag" value="PurchaseOrder" />
				<set field="parameters.changeFlag" value="PurchaseOrder" />
				<set field="purchaseTypeFlag" from-field="parameters.purchaseTypeFlag" />
				<set field="parameters.partyStatusId" value="PARTY_ENABLED" />
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enablePartyAutoComplete.groovy"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoCompleteDC.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/orgnigationDeptDC.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PurchaseEntryFormNewDC.groovy" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/purchaseOrderDetailsEntryDepotTransDC.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecoratorDC" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<label style="h1">New PO</label>
								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/CreateDepotTransPODC.ftl" />
									</html>
								</platform-specific>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	<screen name="PurchaseOrderViewDEPOTpdfDC">
		<section>
			<actions>
				<property-map resource="OrderUiLabels" map-name="uiLabelMap" global="true"/>
				<property-map resource="ProductUiLabels" map-name="uiLabelMap" global="true"/>
				<property-map resource="PartyUiLabels" map-name="uiLabelMap" global="true"/>
				<property-map resource="CommonUiLabels" map-name="uiLabelMap" global="true"/>
				<script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/POReportDepotDetailsDC.groovy"/> 
			</actions>
			<widgets> 
				<section>
					<widgets>
						<platform-specific>
						 	<xsl-fo>
								<html-template
								location="component://depotsales/webapp/depotsales/depotsales/purchaseOrderDEPOTDC.fo.ftl" />
							</xsl-fo>
						</platform-specific>
					</widgets>
				</section>
			</widgets>
		</section>
	</screen>

<screen name="EditMaterialDepotTransPODC">
		<section>
			<actions>
				<set field="titleProperty" value="Find Purchase Order" />
				<set field="tabButtonItem" value="FindDepotTransPODC" />
				<set field="targetRequest" value="FindMaterialPODC" />
				<set field="parameters.roleTypeId" value="SUPPLIER" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="changeFlag" value="PurchaseOrder" />
				<set field="parameters.POId" from-field="orderId" />
				<set field="parameters.changeFlag" value="PurchaseOrder" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoCompleteDC.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/orgnigationDeptDC.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PurchaseEntryFormNewDC.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/EditPOEntryFormDC.groovy" />
				<set field="purchaseTypeFlag" from-field="parameters.purchaseTypeFlag" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecoratorDC" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<label style="h1">Order Id : "${orderId}"</label>

								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/CreateDepotTransPODC.ftl" />
									</html>
								</platform-specific>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	<screen name="DepotTransGRNShipmentsDC">
		<section>
			<actions>
				<set field="titleProperty" value="Find GRN Shipments" />
				<set field="tabButtonItem" value="DepotTransReceipts" />
				<set field="tabButtonItem2" value="DepotTransGRNShipmentsDC" />
				<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="20" />
				<set field="targetRequest" value="FindDepotTransGRNShipmentsDC" />
				<set field="noConditionFind" value="Y" />
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/shipmentROfilterDC.groovy" />
				<service service-name="performFind" result-map="result"
					result-map-list="listIt">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="inputFields.shipmentTypeId" value="DEPOT_SHIPMENT" />
					<field-map field-name="entityName" value="Shipment" />
					<field-map field-name="orderBy" value="-estimatedShipDate" />
					<field-map field-name="viewIndex" from-field="viewIndex" />
					<field-map field-name="viewSize" from-field="viewSize" />
				</service>
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/ShipmentPartyViewDC.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/purchaseDepartmentsDC.groovy" />
				
				<set field="parameters.partyIdTo" value="${parameters.tempPartyId}" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecoratorDC"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="DepotTransReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/LinkGRNWithPoDepotDC.ftl" />
									</html>
								</platform-specific>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="search-options">
										<include-form name="FindDepotTransMaterialShipmentDC"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="">
											<include-form name="listDepotTransMaterialShipmentsDC"
												location="component://depotsales/widget/DepotSalesForms.xml" />
										</screenlet>
										<platform-specific>
											<html>
												<html-template
													location="component://depotsales/webapp/depotsales/depotsales/qcApprovalDepotDC.ftl" />
											</html>
										</platform-specific>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	<screen name="DepotSalesInventorySalesDC">
  		<section>
  			<actions>
  				<set field="titleProperty" value="Inventory Transfers" />
  				<!-- <set field="headerItem" value="facility" /> -->
  				<set field="tabButtonItem" value="PhysicalInventoryDC" />
  				<set field="tabButtonItem2" value="makeInventorySalesDC" />
  				<!-- <set field="parameters.facilityId" from-field="parameters.facilityId"></set> -->
  				<set field="isInventorySales" value="Y"/>
  				<script	location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/FindFacilityPhysicalInventoryDC.groovy" />
  			</actions>
  			<widgets>
  				<decorator-screen name="DepotTransCommonDecoratorDC" location="${parameters.mainDecoratorLocation}">
  					<decorator-section name="body">
  						<include-menu location="component://depotsales/widget/DepotSalesMenus.xml" name="InventorySalesSubTabBarDC" />
  						<screenlet title="Find Shipmet Inventory Items">
  							<include-form name="FindPhysicalInventoryDepotForSaleDC"	location="component://depotsales/widget/DepotSalesForms.xml" />
  						</screenlet>
  						<screenlet title="List Of Inventory Items">
  							<platform-specific><html><html-template location="component://depotsales/webapp/depotsales/depotsales/stockXferFormDC.ftl"/></html></platform-specific>
  							<include-form name="ListPhysicalInventoryDepotForSaleDC" location="component://depotsales/widget/DepotSalesForms.xml" />
  						</screenlet>
  						<platform-specific>
  							<html>
  								<html-template location="component://depotsales/webapp/depotsales/depotsales/MakeSaleOrderDC.ftl" />
  							</html>
  						</platform-specific>
  					</decorator-section>
  				</decorator-screen>
  			</widgets>
  		</section>
  	</screen>
  	
  	<screen name="ProcessInventorySalesOrderDC">
     		<section>
     			<actions>
      				<set field="titleProperty" value="Process Sale Indent" />
      				<set field="tabButtonItem" value="PhysicalInventoryDC" />
      				<set field="tabButtonItem2" value="paymentForSalesDC" />
      				<set field="screenFlag" value="depotSales" />
      				<set field="targetRequest" value="FindSalesIndentPaymentDC" />
      				<script
      					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ListDepotSalesOrderPaymentSearchResultsDC.groovy" />
      			   <!--  <script
      					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ListDepotSalesOrderAdvancePayments.groovy" /> -->
      	
      			</actions>
      			<widgets>
      				<decorator-screen name="DepotTransCommonDecoratorDC" location="${parameters.mainDecoratorLocation}">
      					<decorator-section name="body">
      						<include-menu location="component://depotsales/widget/DepotSalesMenus.xml" name="InventorySalesSubTabBarDC" />
     						<section>
      							<widgets>
      							<decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
      							 		<decorator-section name="search-options">
                                              <include-form name="FindSalesIndentPaymentDC" location="component://depotsales/widget/DepotOperationForms.xml"/>
                                         </decorator-section>
                                          <decorator-section name="search-results">
      								<!-- <screenlet title="Depot Orders">
      									<platform-specific>
      										<html>
      											<html-template
      												location="component://depotsales/webapp/depotsales/depotsales/ListDepotSearchOrderPayments.ftl" />
      										</html>
      									</platform-specific>
      								</screenlet> -->
      								<platform-specific>
      										<html>
      											<html-template
      												location="component://depotsales/webapp/depotsales/depotsales/viewOrderDetailsDepotDC.ftl" />
      										</html>
      									</platform-specific>
      								<screenlet title="Depot Orders">
                         					<include-form name="ListDepotSearchOrderPaymentsDC" location="component://depotsales/widget/DepotOperationForms.xml"/>
                     					</screenlet>
      								</decorator-section>
      								</decorator-screen>
      							</widgets>
      						</section>
      					</decorator-section>
      				</decorator-screen>
      			</widgets>
      		</section>
      	</screen>
      	
  	<screen name="DepotPurchaseInvoiceViewDC">
  		<section>
  			<actions>
  				<set field="titleProperty" value="Find Purchase Invoices" />
  				<set field="filterByDate" value="true" />
  				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/sequenceFilterDC.groovy"/>
  				<service service-name="performFind" result-map="result">
  					<field-map field-name="inputFields" from-field="parameters" />
  					<field-map field-name="entityName" value="Invoice" />
  					<field-map field-name="orderBy" value="createdStamp DESC" />
  				</service>
  				<set field="invoices" from-field="result.listIt" />
  				<set field="tabButtonItem" value="purchaseinvoiceDC" />
  				<set field="tabButtonItem5" value="${parameters.subTabButtonValue}" />
  				<set field="tabButtonItem2" value="${parameters.actionSubTabButtonValue}" />
  				<set field="invoiceTypeId" value="${parameters.invoiceTypeId}" />
  				<set field="parameters.costCenterId" value="${parameters.costCenterId}" />	
  				<set field="parameters.partyIdFrom" value="${parameters.tempPartyIdFrom}" />
  				<script
  					location="component://accounting/webapp/ap/WEB-INF/actions/invoices/voucherPaymentMethodDC.groovy" />
  			</actions>
  			<widgets>
  				<decorator-screen name="DepotTransCommonDecoratorDC" location="${parameters.mainDecoratorLocation}">
      					<decorator-section name="body">
  						<section>
  							<widgets>
  								<decorator-screen name="FindScreenDecorator"
  									location="component://common/widget/CommonScreens.xml">
  									<decorator-section name="menu-bar">
  										<container style="button-bar">
  											<link target="partyFinanHistoryDC" text="Party Financial History"
  												style="buttontext create"></link>
  										</container>
  									</decorator-section>
  									<decorator-section name="search-options">
  										<include-form name="FindApInvoicesForDepotDC"
  											location="component://depotsales/widget/DepotSalesForms.xml" />
  									</decorator-section>
  									<decorator-section name="search-results">
  										<screenlet title="Invoices List">
  											<section>
  												<condition>
  													<not>
  														<if-empty field="invoices" />
  													</not>
  												</condition>
  												<widgets>
  													<link text="${uiLabelMap.AccountingExportAsCsv}"
  														style="buttontext" target="InvoiceSearchResultsCsv.csv">
  														<parameter param-name="parentTypeId" from-field="parameters.parentTypeId" />
  														<parameter param-name="invoiceId_op" from-field="parameters.invoiceId_op" />
  														<parameter param-name="invoiceId" from-field="parameters.invoiceId" />
  														<parameter param-name="invoiceId_ic" from-field="parameters.invoiceId_ic" />
  														<parameter param-name="description_op"
  															from-field="parameters.description_op" />
  														<parameter param-name="description" from-field="parameters.description" />
  														<parameter param-name="description_ic"
  															from-field="parameters.description_ic" />
  														<parameter param-name="invoiceTypeId"
  															from-field="parameters.invoiceTypeId" />
  														<parameter param-name="statusId" from-field="parameters.statusId" />
  														<parameter param-name="partyIdFrom" from-field="parameters.partyIdFrom" />
  														<parameter param-name="partyId" from-field="parameters.partyId" />
  														<parameter param-name="invoiceDate_fld0_value"
  															from-field="parameters.invoiceDate_fld0_value" />
  														<parameter param-name="invoiceDate_fld0_op"
  															from-field="parameters.invoiceDate_fld0_op" />
  														<parameter param-name="invoiceDate_fld1_value"
  															from-field="parameters.invoiceDate_fld1_value" />
  														<parameter param-name="invoiceDate_fld1_op"
  															from-field="parameters.invoiceDate_fld1_op" />
  														<parameter param-name="dueDate_fld0_value"
  															from-field="parameters.dueDate_fld0_value" />
  														<parameter param-name="dueDate_fld0_op"
  															from-field="parameters.dueDate_fld0_op" />
  														<parameter param-name="dueDate_fld1_value"
  															from-field="parameters.dueDate_fld1_value" />
  														<parameter param-name="dueDate_fld1_op"
  															from-field="parameters.dueDate_fld1_op" />
  													</link>
  												</widgets>
  											</section>
  											<platform-specific>
  												<html>
  													<html-template
  														location="component://accounting/webapp/accounting/invoice/DepotTransactionPaymentDC.ftl" />
  												</html>
  											</platform-specific>
  											<platform-specific>
  												<html>
  													<html-template
  														location="component://depotsales/webapp/depotsales/depotsales/ListSearchDepotPurchaseInvoicesDC.ftl" />
  												</html>
  											</platform-specific>
  										</screenlet>
  									</decorator-section>
  								</decorator-screen>
  							</widgets>
  						</section>
  					</decorator-section>
  				</decorator-screen>
  			</widgets>
  		</section>
  	</screen>
    
  	<screen name="DepotSalesInvoiceViewDepotDC">
  		<section>
  			<actions>
  				<set field="titleProperty" value="Find Sales Invoices" />
  				<set field="filterByDate" value="true" />
  				<set field="parameters.invoiceDate" value=""/>
  				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/sequenceFilterDC.groovy"/>
  				<service service-name="performFind" result-map="result">
  					<field-map field-name="inputFields" from-field="parameters" />
  					<field-map field-name="entityName" value="InvoiceAndType" />
  					<field-map field-name="orderBy" value="invoiceDate DESC" />
  				</service>
  				<set field="invoices" from-field="result.listIt" />
  				<set field="tabButtonItem" value="salesInvoiceViewDC" />
  				<set field="tabButtonItem5" value="${parameters.subTabButtonValue}" />
  				<set field="tabButtonItem2" value="${parameters.actionSubTabButtonValue}" />
  				<set field="invoiceTypeId" value="${parameters.invoiceTypeId}" />
  				<script
  					location="component://accounting/webapp/ap/WEB-INF/actions/invoices/voucherPaymentMethodDC.groovy" />
  			</actions>
  			<widgets>
  			
  			<decorator-screen name="DepotTransCommonDecoratorDC" location="${parameters.mainDecoratorLocation}">
      					<decorator-section name="body">
      						
  						<!-- <include-menu name="InvoiceTypesTabBar" location="component://depotsales/widget/DepotSalesMenus.xml"/> -->
  						<!-- <include-menu name="APInvoiceTabBar" location="component://depotsales/widget/DepotSalesMenus.xml" 
  							/> -->
  						<section>
  							<widgets>
  								<decorator-screen name="FindScreenDecorator"
  									location="component://common/widget/CommonScreens.xml">
  									<decorator-section name="menu-bar">
  										<container style="button-bar">
  											<!-- <link target="newInvoice" text="${uiLabelMap.CommonCreateNew}" 
  												style="buttontext create"/> --> <!-- NewPurchaseInvoice -->
  											<!-- <link target="newInvoice" text="New Cash Voucher" style="buttontext 
  												create"><parameter param-name="prefPaymentMethodTypeId" value="CASH"/></link> 
  												<link target="newInvoice" text="New Bank Voucher" style="buttontext create"><parameter 
  												param-name="prefPaymentMethodTypeId" value="BANK"/></link> <link target="partyFinanHistory" 
  												text="Party Financial History" style="buttontext create"></link> -->
  											<!-- <link target="CreateAPInvoice" text="Create Cash Voucher" 
  												style="buttontext create" > <parameter param-name="prefPaymentMethodTypeId" 
  												value="CASH"></parameter> <parameter param-name="subTabButtonValue" value="${parameters.subTabButtonValue}"></parameter> 
  												<parameter param-name="invoiceTypeId" value="${parameters.invoiceTypeId}"></parameter> 
  												<parameter param-name="showCreateButton" value="Y"></parameter> </link> <link 
  												target="CreateAPInvoice" text="Create Bank Voucher" style="buttontext create" 
  												> <parameter param-name="prefPaymentMethodTypeId" value="BANK"></parameter> 
  												<parameter param-name="subTabButtonValue" value="${parameters.subTabButtonValue}"></parameter> 
  												<parameter param-name="invoiceTypeId" value="${parameters.invoiceTypeId}"></parameter> 
  												<parameter param-name="showCreateButton" value="Y"></parameter> </link> -->
  											<link target="partyFinanHistoryDC" text="Party Financial History"
  												style="buttontext create"></link>
  										</container>
  									</decorator-section>
  									<decorator-section name="search-options">
  										<include-form name="FindSalesApInvoicesForDepotDC"
  											location="component://depotsales/widget/DepotSalesForms.xml" />
  									</decorator-section>
  									<decorator-section name="search-results">
  										<screenlet title="Invoices List">
  											<section>
  												<condition>
  													<not>
  														<if-empty field="invoices" />
  													</not>
  												</condition>
  												<widgets>
  												<link text="${uiLabelMap.AccountingExportAsCsv}"
  														style="buttontext" target="InvoiceSearchResultsCsv.csv">
  														<parameter param-name="parentTypeId" from-field="parameters.parentTypeId" />
  														<parameter param-name="invoiceId_op" from-field="parameters.invoiceId_op" />
  														<parameter param-name="invoiceId" from-field="parameters.invoiceId" />
  														<parameter param-name="invoiceId_ic" from-field="parameters.invoiceId_ic" />
  														<parameter param-name="description_op"
  															from-field="parameters.description_op" />
  														<parameter param-name="description" from-field="parameters.description" />
  														<parameter param-name="description_ic"
  															from-field="parameters.description_ic" />
  														<parameter param-name="invoiceTypeId"
  															from-field="parameters.invoiceTypeId" />
  														<parameter param-name="statusId" from-field="parameters.statusId" />
  														<parameter param-name="partyIdFrom" from-field="parameters.partyIdFrom" />
  														<parameter param-name="partyId" from-field="parameters.partyId" />
  														<parameter param-name="invoiceDate_fld0_value"
  															from-field="parameters.invoiceDate_fld0_value" />
  														<parameter param-name="invoiceDate_fld0_op"
  															from-field="parameters.invoiceDate_fld0_op" />
  														<parameter param-name="invoiceDate_fld1_value"
  															from-field="parameters.invoiceDate_fld1_value" />
  														<parameter param-name="invoiceDate_fld1_op"
  															from-field="parameters.invoiceDate_fld1_op" />
  														<parameter param-name="dueDate_fld0_value"
  															from-field="parameters.dueDate_fld0_value" />
  														<parameter param-name="dueDate_fld0_op"
  															from-field="parameters.dueDate_fld0_op" />
  														<parameter param-name="dueDate_fld1_value"
  															from-field="parameters.dueDate_fld1_value" />
  														<parameter param-name="dueDate_fld1_op"
  															from-field="parameters.dueDate_fld1_op" />
  													</link>
  												</widgets>
  											</section>
  											<platform-specific>
  												<html>
  													<html-template
  														location="component://accounting/webapp/accounting/invoice/massPaymentsDC.ftl" />
  												</html>
  											</platform-specific>
  											<platform-specific>
  												<html>
  													<html-template
  														location="component://depotsales/webapp/depotsales/depotsales/ListSearchInvoicesDepotSaleListViewDC.ftl" />
  												</html>
  											</platform-specific>
  										</screenlet>
  									</decorator-section>
  								</decorator-screen>
  							</widgets>
  						</section>
  					</decorator-section>
  				</decorator-screen>
  			</widgets>
  		</section>
 	</screen>
	
	<screen name="MaterialShipmentOverviewDC">
		<section>
			<actions>
				<set field="titleProperty" value="Shipment Overview" />
				<set field="tabButtonItem" value="DepotTransReceipts" />
				<set field="tabButtonItem2" value="DepotTransMaterialShipmentOverview" />
				<set field="shipmentId" from-field="parameters.shipmentId" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/getGRNDetailsForInvoiceDC.groovy" />
				<set field="supplierId" from-field="supplierId" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecoratorDC" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="DepotTransReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<screenlet title="Overview">
									<include-screen name="ShipmentOverviewforInvoiceDC" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="ShipmentOverviewforInvoiceDC">
		<section>
			<actions>
				<entity-condition list="shipmentReceipt"
					entity-name="ShipmentReceipt">
					<condition-list combine="and">
						<condition-expr field-name="shipmentId" from-field="shipmentId" />
						<condition-expr field-name="statusId" operator="equals"
							value="SR_QUALITYCHECK" />
					</condition-list>
				</entity-condition>
			</actions>
			<widgets>
				<container style="lefthalf">
					<screenlet
						title="${uiLabelMap.CommonInformation} of ShipmentId : ${shipmentId}">
						<include-form name="shipmentInfoDC"
							location="component://depotsales/widget/DepotSalesForms.xml" />
					</screenlet>
				</container>
				<container style="righthalf">
					<screenlet title="Shipment Items">
						<include-form name="shipmentItemInfoDC"
							location="component://depotsales/widget/DepotSalesForms.xml" />
					</screenlet>
				</container>
				<container style="clear" />
				<container>
					<section>
						<widgets>
							<screenlet title="GRN Items">
								<include-form name="shipmentReceiptsForInvoiceDC"
									location="component://depotsales/widget/DepotSalesForms.xml" />
							</screenlet>
								<screenlet title="${uiLabelMap.ShipmentDocumentsList}">
                          			  <include-form name="ListShipmentContentsDC" location="component://depotsales/widget/DepotSalesForms.xml"/>
                       			</screenlet>
		                        <screenlet title="${uiLabelMap.ADDShipmentDocuments}">
		                     			<include-form name="AddShipmentContentDC" location="component://depotsales/widget/DepotSalesForms.xml"/>
		                        </screenlet>
						</widgets>
					</section>
				</container>
			</widgets>
		</section>
	</screen>
	
	
	<screen name="FindSupplierShipmentsDC">
		<section>
			<actions>
				<set field="titleProperty" value="Find Supplier Shipments" />
				<set field="tabButtonItem" value="FindSupplierDispatchs" />
				<set field="tabButtonItem2" value="FindSupplierShipments" />
				<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="20" />
				<set field="targetRequest" value="FindSupplierShipmentsDC" />
				<set field="noConditionFind" value="Y" />
				<service service-name="performFind" result-map="result"
					result-map-list="listIt">
					<field-map field-name="inputFields" from-field="parameters" />
<!-- 					<field-map field-name="inputFields.shipmentTypeId" value="BRANCH_SHIPMENT" /> -->
					<field-map field-name="entityName" value="Shipment" />
					<field-map field-name="orderBy" value="-estimatedShipDate" />
					<field-map field-name="viewIndex" from-field="viewIndex" />
					<field-map field-name="viewSize" from-field="viewSize" />
				</service>
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/ShipmentPartyViewDC.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/purchaseDepartmentsDC.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="SupplierMyPortalCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="SupplierReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
							<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/DocumentUploadFormsToolTipDC.ftl" />
									</html>
								</platform-specific>
								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/LinkGRNWithPoDepotDC.ftl" />
									</html>
								</platform-specific>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="search-options">
										<include-form name="FindMaterialShipmentDC"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="">
											<include-form name="ListSupplierShipmentsDC"
												location="component://depotsales/widget/DepotOperationForms.xml" />
										</screenlet>
										<platform-specific>
											<html>
												<html-template
													location="component://depotsales/webapp/depotsales/depotsales/qcApprovalDepotDC.ftl" />
											</html>
										</platform-specific>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	<screen name="SupplierShipmentOverviewDC">
		<section>
			<actions>
				<set field="titleProperty" value="Shipment Overview" />
				<set field="tabButtonItem" value="FindSupplierDispatchs" />
				<set field="tabButtonItem2" value="SupplierShipmentOverviewDC" />
				<set field="shipmentId" from-field="parameters.shipmentId" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/getGRNDetailsForInvoiceDC.groovy" />
				<set field="supplierId" from-field="supplierId" />
			</actions>
			<widgets>
				<decorator-screen name="SupplierMyPortalCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="SupplierReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<screenlet title="Overview">
									<include-screen name="ShipmentOverviewforInvoiceDC"  location="component://depotsales/widget/DepotSalesScreens.xml"/>
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	<screen name="ShipmentOverviewforInvoiceDC">
		<section>
			<actions>
				<entity-condition list="shipmentReceipt"
					entity-name="ShipmentReceipt">
					<condition-list combine="and">
						<condition-expr field-name="shipmentId" from-field="shipmentId" />
						<condition-expr field-name="statusId" operator="equals"
							value="SR_QUALITYCHECK" />
					</condition-list>
				</entity-condition>
			</actions>
			<widgets>
				<container style="lefthalf">
					<screenlet
						title="${uiLabelMap.CommonInformation} of ShipmentId : ${shipmentId}">
						<include-form name="shipmentInfoDC"
							location="component://depotsales/widget/DepotSalesForms.xml" />
					</screenlet>
				</container>
				<container style="righthalf">
					<screenlet title="Shipment Items">
						<include-form name="shipmentItemInfoDC"
							location="component://depotsales/widget/DepotSalesForms.xml" />
					</screenlet>
				</container>
				<container style="clear" />
				<container>
					<section>
						<widgets>
							<screenlet title="GRN Items">
								<include-form name="shipmentReceiptsForInvoiceDC"
									location="component://depotsales/widget/DepotSalesForms.xml" />
							</screenlet>
								<screenlet title="${uiLabelMap.ShipmentDocumentsList}">
                          			  <include-form name="ListShipmentContentsDC" location="component://depotsales/widget/DepotSalesForms.xml"/>
                       			</screenlet>
		                        <screenlet title="${uiLabelMap.ADDShipmentDocuments}">
		                     			<include-form name="AddShipmentContentDC" location="component://depotsales/widget/DepotSalesForms.xml"/>
		                        </screenlet>
						</widgets>
					</section>
				</container>
			</widgets>
		</section>
	</screen>
	
	<screen name="MRRreportPDFDC">
		<section>
			<actions>
				<property-map resource="OrderUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="ProductUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="PartyUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="CommonUiLabels" map-name="uiLabelMap"
					global="true" />
				<set field="shipmentId" from-field="parameters.shipmentId" />
				<set field="orderId" value="${parameters.orderId}" />
				<set field="receiptId" from-field="parameters.receiptId" />
				<set field="datetimeReceived" from-field="parameters.datetimeReceived" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/MRRreportDC.groovy" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<xsl-fo>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/MRRreportDepotSalesDC.fo.ftl" />
							</xsl-fo>
						</platform-specific>
					</widgets>
				</section>
			</widgets>
		</section>
	</screen>
	
	
	<screen name="DepotTransMaterialInvoiceInitDC">
		<section>
			<actions>
				<set field="titleProperty" value="Material Invoice Entry" />
				<set field="tabButtonItem" value="DepotTransReceipts" />
				<set field="tabButtonItem2" value="DepotTransMaterialInvoiceInitDC" />
				<set field="shipmentId" from-field="parameters.shipmentId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;yyyy-MM-dd&quot;);}" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/PurchaseDepotInvoiceEntryFormDC.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecoratorDC"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="DepotTransReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="PurchaseDepotInvoiceInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="PurchaseDepotInvoiceEntry" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="PurchaseDepotInvoiceInnerDC">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" value="${parameters.productSubscriptionTypeId}" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>
				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />

				<script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enablePartyAutoCompleteDC.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/orgnigationDeptDC.groovy" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/PurchaseDepotInvoiceDepotDC.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	
	<screen name="editGRNDC">
		<section>
			<actions>
				<set field="titleProperty" value="Supplier PO Dispatch" />
				<set field="tabButtonItem" value="FindSupplierDispatchs" />
				<set field="tabButtonItem2" value="SupplierDispatchEntry" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
				<!-- <set field="ChannalType" value="PROD_PRCHSE_CHANNEL"/> -->
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="parameters.roleTypeId" value="SUPPLIER" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="orderNo" from-field="parameters.orderNo"/>
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="defaulteffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enablePartyAutoComplete.groovy"/> -->
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/TransportersList.groovy" />
				<entity-one entity-name="Shipment" value-field="shipmentDetail">
                    <field-map field-name="shipmentId" from-field="parameters.shipmentId"/>
                </entity-one>	
			</actions>
			<widgets>
				<decorator-screen name="SupplierMyPortalCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="SupplierReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<section>
									<widgets>
										<platform-specific>
											<html>
												<html-template
													location="component://depotsales/webapp/depotsales/depotsales/editGRNShipmentDC.ftl" />
											</html>
										</platform-specific>
									</widgets>
									<fail-widgets>
										<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
										</label>
									</fail-widgets>
								</section>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
</screens>

