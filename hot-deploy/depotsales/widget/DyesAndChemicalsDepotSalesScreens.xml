<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">
	
	
	<screen name="StockDetailsDC">
		<section>
			<actions>
				<set field="titleProperty" value="Stock Details" />
				<!-- <set field="headerItem" value="facility" /> -->
				<set field="tabButtonItem" value="StockDetailsDC" />
				<!-- <set field="parameters.facilityId" from-field="parameters.facilityId"></set> -->
				<set field="isInventorySales" value="Y"/>
				<script	location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/StockDetailsDC.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecoratorDC" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<screenlet title="Find Stock Details">
							<include-form name="FindStockDetailsDC" location="component://depotsales/widget/DepotSalesForms.xml" />
						</screenlet>
						<screenlet title="List Of Stock">
							<platform-specific><html><html-template location="component://depotsales/webapp/depotsales/depotsales/StockDetailsDC.ftl"/></html></platform-specific>
							<include-form name="ListStockDetailsDC" location="component://depotsales/widget/DepotSalesForms.xml" />
						</screenlet>
						<platform-specific>
							<html>
								<html-template location="component://depotsales/webapp/depotsales/depotsales/MakeSaleOrderDC.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
<screen name="FindDepotTransPODC">
		<section>
			<actions>
				<set field="titleProperty" value="Find Purchase Order" />
				<set field="tabButtonItem" value="FindDepotTransPODC" />
				<set field="tabButtonItem2" value="FindDepotTransPODC" />
				<script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/poRefNoSearchDC.groovy"/>
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/DepotTransROSearchFilterDC.groovy" />
				<service service-name="performFind" result-map="result"
					result-map-list="listIt">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="OrderHeaderAndSequenceAndRoles" />
					<field-map field-name="orderBy" value="-orderDate" />
				</service>
				<set field="targetRequest" value="FindDepotTransPODC" />
			<!-- 	<set field="ChannalType" value="MATERIAL_PUR_CHANNEL" />  -->
				<!-- <set field="partyId" from-field="parameters.partyId" /> -->
				<set field="roleTypeId" value="BILL_FROM_VENDOR" />
				<set field="parameters.roleTypeId" from-field="roleTypeId" />
				<set field="parameters.noConditionFind" value="N"></set>
				<set field="parameters.purposeTypeId" value="DEPOT_PURCHASE"></set>
			<!-- 	<set field="parameters.salesChannelEnumId" value="MATERIAL_PUR_CHANNEL"></set>  -->
				<set field="parameters.partyId" value="${tempPartyId}" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/POSearchFilterDC.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecoratorDC" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="FindDepotTransPOSubTabBarDC" />
						<section>
							<widgets>
								<section>
                             		<condition>
                            			<if-has-permission permission="DEPOTSALES"  action="_CREATE_PO"/>
                            		</condition>
									<widgets>
										<link target="CreateDepotTransPODC" text="Create PO" style="buttontext" />
									</widgets>
								</section>
								<screenlet title="search-options">
									<include-form name="FindDepotTransPurchaseOrderDC"
										location="component://depotsales/widget/DepotOperationForms.xml" />
								</screenlet>
								<screenlet title="Search-results">
									<include-form name="listDepotTransPurchaseOrdersDC"
										location="component://depotsales/widget/DepotOperationForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

<screen name="CreateDepotTransPODC">
		<section>
			<actions>
				<set field="titleProperty" value="Find Purchase Order" />
				<set field="tabButtonItem" value="FindDepotTransPODC" />
				<set field="targetRequest" value="FindDepotTransPODC" />
				<!-- <set field="ChannalType" value="PROD_PRCHSE_CHANNEL"/> -->
				<set field="parameters.roleTypeId" value="SUPPLIER" />
				<set field="changeFlag" value="PurchaseOrder" />
				<set field="subDivDeptFlag" value="PurchaseOrder" />
				<set field="parameters.changeFlag" value="PurchaseOrder" />
				<set field="purchaseTypeFlag" from-field="parameters.purchaseTypeFlag" />
				<set field="parameters.partyStatusId" value="PARTY_ENABLED" />
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enablePartyAutoComplete.groovy"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoCompleteDC.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/orgnigationDeptDC.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PurchaseEntryFormNewDC.groovy" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/purchaseOrderDetailsEntryDepotTransDC.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecoratorDC" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<label style="h1">New PO</label>
								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/CreateDepotTransPODC.ftl" />
									</html>
								</platform-specific>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	<screen name="PurchaseOrderViewDEPOTpdfDC">
		<section>
			<actions>
				<property-map resource="OrderUiLabels" map-name="uiLabelMap" global="true"/>
				<property-map resource="ProductUiLabels" map-name="uiLabelMap" global="true"/>
				<property-map resource="PartyUiLabels" map-name="uiLabelMap" global="true"/>
				<property-map resource="CommonUiLabels" map-name="uiLabelMap" global="true"/>
				<script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/POReportDepotDetailsDC.groovy"/> 
			</actions>
			<widgets> 
				<section>
					<widgets>
						<platform-specific>
						 	<xsl-fo>
								<html-template
								location="component://depotsales/webapp/depotsales/depotsales/purchaseOrderDEPOTDC.fo.ftl" />
							</xsl-fo>
						</platform-specific>
					</widgets>
				</section>
			</widgets>
		</section>
	</screen>

<screen name="EditMaterialDepotTransPODC">
		<section>
			<actions>
				<set field="titleProperty" value="Find Purchase Order" />
				<set field="tabButtonItem" value="FindDepotTransPODC" />
				<set field="targetRequest" value="FindMaterialPODC" />
				<set field="parameters.roleTypeId" value="SUPPLIER" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="changeFlag" value="PurchaseOrder" />
				<set field="parameters.POId" from-field="orderId" />
				<set field="parameters.changeFlag" value="PurchaseOrder" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoCompleteDC.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/orgnigationDeptDC.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PurchaseEntryFormNewDC.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/EditPOEntryFormDC.groovy" />
				<set field="purchaseTypeFlag" from-field="parameters.purchaseTypeFlag" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecoratorDC" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<label style="h1">Order Id : "${orderId}"</label>

								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/CreateDepotTransPODC.ftl" />
									</html>
								</platform-specific>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	<screen name="DepotTransGRNShipmentsDC">
		<section>
			<actions>
				<set field="titleProperty" value="Find GRN Shipments" />
				<set field="tabButtonItem" value="DepotTransReceipts" />
				<set field="tabButtonItem2" value="DepotTransGRNShipmentsDC" />
				<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="20" />
				<set field="targetRequest" value="FindDepotTransGRNShipmentsDC" />
				<set field="noConditionFind" value="Y" />
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/shipmentROfilterDC.groovy" />
				<service service-name="performFind" result-map="result"
					result-map-list="listIt">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="inputFields.shipmentTypeId" value="DEPOT_SHIPMENT" />
					<field-map field-name="entityName" value="Shipment" />
					<field-map field-name="orderBy" value="-estimatedShipDate" />
					<field-map field-name="viewIndex" from-field="viewIndex" />
					<field-map field-name="viewSize" from-field="viewSize" />
				</service>
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/ShipmentPartyViewDC.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/purchaseDepartmentsDC.groovy" />
				
				<set field="parameters.partyIdTo" value="${parameters.tempPartyId}" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecoratorDC"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="DepotTransReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/LinkGRNWithPoDepotDC.ftl" />
									</html>
								</platform-specific>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="search-options">
										<include-form name="FindDepotTransMaterialShipmentDC"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="">
											<include-form name="listDepotTransMaterialShipmentsDC"
												location="component://depotsales/widget/DepotSalesForms.xml" />
										</screenlet>
										<platform-specific>
											<html>
												<html-template
													location="component://depotsales/webapp/depotsales/depotsales/qcApprovalDepotDC.ftl" />
											</html>
										</platform-specific>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	
	
	
</screens>

