<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">

	<screen name="main">
		<section>
			<actions>
				<set field="headerItem" value="main" /><!-- this highlights the selected 
					menu-item with name "main" -->
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="FacilityTree">
		<section>
			<actions>
				<property-map resource="HumanResUiLabels" map-name="uiLabelMap"
					global="true" />

				<set field="titleProperty" value="DepotSalesApplication" />

				<set field="headerItem" value="facility" />
				<set field="tabButtonItem" value="main" />
				<set field="facilityId" value="ZO1"/>
				<!-- <set field="isTreeRoot" value="Y"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/NHDCNetworkTree.groovy" />
				<!-- <script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/facilityTreeDepoNetwork.groovy" /> --> 
	<!-- 				<script  -->
	<!-- 				location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/partyClassificationTree.groovy" />-->
		</actions>
			<widgets>
				<section>
					<condition>
						<if-empty field="parameters.ajaxLookup" />
					</condition>
					<widgets>
						<decorator-screen name="DepotSalesCommonDecorator"
							location="${parameters.mainDecoratorLocation}">
							<!-- <decorator-screen name="ByProductsNgCommonDecorator" location="component://byproducts/widget/CommonScreens.xml"> -->
							<decorator-section name="body">
								<section>
									<widgets>
										<container style="lefthalf">
											<screenlet title="${uiLabelMap.FormFieldTitle_company}">
												<platform-specific>
													<html>
														<html-template
															location="component://byproducts/webapp/byproducts/byproducts/networkTree.ftl"></html-template>
							<!--								location="component://depotsales/webapp/depotsales/depotsales/partyClassificationTree.ftl"></html-template>-->
													</html>
												</platform-specific>
											</screenlet>
										</container>
									</widgets>
								</section>
							</decorator-section>
						</decorator-screen>
					</widgets>
					<fail-widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://byproducts/webapp/byproducts/byproducts/networkTree.ftl"></html-template>
							</html>
						</platform-specific>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="IndentAnalytics">
        <section>
            <actions>
               	<set field="titleProperty" value="Indent Analytics"/>
  				<set field="tabButtonItem" value="analytics" />		            
				<set field="tabButtonItem2" value="indentAnalytics" />
				<set field="ajaxUrl" value="IndentAnalyticsInternal" type="String" global="true"/>                      
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/analytics/indentAnalytics.groovy" />
				
				<set field="defaultEffectiveDateTime" value="${bsh:org.ofbiz.base.util.UtilDateTime.getDayStart(org.ofbiz.base.util.UtilDateTime.nowTimestamp())}"/>
			    <set field="defaultEffectiveDate" value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;MMMM dd, yyyy&quot;);}" /> 
			    <set field="defaultEffectiveThruDate" value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;MMMM dd, yyyy&quot;);}" />          				                                                                        
            </actions>
            <widgets>
				<decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">                    
					<decorator-section name="body">
					  <include-menu location="component://depotsales/widget/DepotSalesMenus.xml" name="AnalyticsTabBar" />
                    		<platform-specific> 
                           		<html><html-template location="component://depotsales/webapp/depotsales/analytics/IndentAnalytics.ftl"></html-template></html>
                       		</platform-specific> 
					</decorator-section>
				</decorator-screen>	                    	               
            </widgets>
        </section>
    </screen>
	<screen name="IndentAnalyticsInternal">
        <section>      
    		<actions>
    			<set field="defaultEffectiveDateTime" value="${bsh:org.ofbiz.base.util.UtilDateTime.getDayStart(org.ofbiz.base.util.UtilDateTime.nowTimestamp())}"/>
			    <set field="defaultEffectiveDate" value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;MMMM dd, yyyy&quot;);}" />
			    <set field="defaultEffectiveThruDate" value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;MMMM dd, yyyy&quot;);}" />
    			<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/analytics/indentAnalytics.groovy" />
    		</actions>          
            <widgets>
            	<platform-specific> 
                	<html><html-template location="component://depotsales/webapp/depotsales/analytics/IndentAnalyticsDetail.ftl"/></html>
                </platform-specific>                 

            </widgets>
        </section>
    </screen>
    <screen name="QuotaAnalytics">
        <section>
            <actions>
               	<set field="titleProperty" value="Quota Analytics"/>
  				<set field="tabButtonItem" value="analytics" />		            
				<set field="tabButtonItem2" value="quotaAnalytics" />
				<set field="ajaxUrl" value="QuotaAnalyticsInternal" type="String" global="true"/>                      
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/analytics/QuotaAnalytics.groovy" />
				
				<set field="defaultEffectiveDateTime" value="${bsh:org.ofbiz.base.util.UtilDateTime.getDayStart(org.ofbiz.base.util.UtilDateTime.nowTimestamp())}"/>
			    <set field="defaultEffectiveDate" value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;MMMM dd, yyyy&quot;);}" /> 
			    <set field="defaultEffectiveThruDate" value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;MMMM dd, yyyy&quot;);}" />          				                                                                        
            </actions>
            <widgets>
				<decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">                    
					<decorator-section name="body">
					  <include-menu location="component://depotsales/widget/DepotSalesMenus.xml" name="AnalyticsTabBar" />
                    		<platform-specific> 
                           		<html><html-template location="component://depotsales/webapp/depotsales/analytics/QuotaAnalytics.ftl"></html-template></html>
                       		</platform-specific> 
					</decorator-section>
				</decorator-screen>	                    	               
            </widgets>
        </section>
    </screen>
	<screen name="QuotaAnalyticsInternal">
        <section>      
    		<actions>
    			<set field="defaultEffectiveDateTime" value="${bsh:org.ofbiz.base.util.UtilDateTime.getDayStart(org.ofbiz.base.util.UtilDateTime.nowTimestamp())}"/>
			    <set field="defaultEffectiveDate" value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;MMMM dd, yyyy&quot;);}" />
			    <set field="defaultEffectiveThruDate" value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;MMMM dd, yyyy&quot;);}" />
    			<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/analytics/QuotaAnalytics.groovy" />
    		</actions>          
            <widgets>
            	<platform-specific> 
                	<html><html-template location="component://depotsales/webapp/depotsales/analytics/QuotaAnalyticsDetail.ftl"/></html>
                </platform-specific>                 

            </widgets>
        </section>
    </screen>
	<screen name="ChannelWiseDepoSalesChart">
		<section>
			<actions>
				<set field="titleProperty" value="Analytics" />
				<set field="tabButtonItem" value="analytics" />
				<set field="tabButtonItem2" value="channelSalesChart" />
				<entity-condition list="roleTypeList" entity-name="RoleType"
					use-cache="true">
					<condition-list combine="or">
						<condition-expr field-name="parentTypeId" operator="equals"
							value="CUSTOMER_TRADE_TYPE" />
					</condition-list>
				</entity-condition>
				<set field="headerItem" value="charts" />
				<set field="ajaxUrl" value="ChannelWiseDepoSalesChartInternal"
					type="String" />
			</actions>
			<widgets>
				<!-- <decorator-screen name="ByProductsNgCommonDecorator" location="component://byproducts/widget/CommonScreens.xml"> -->
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="AnalyticsTabBar" />
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/depoSalesMixedTrend.ftl" />
							</html>
						</platform-specific>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="ChannelWiseDepoSalesChartInternal">
		<section>
			<actions>
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ChannelWiseDepotSales.groovy" />
				<set field="chartType" value="SalesMix" />
			</actions>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://depotsales/webapp/depotsales/depotsales/depoSalesChartResult.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>
	<screen name="EditDepotOrder">
		<section>
			<actions>
				<set field="titleProperty" value="Depot Sales Entry" />
				<set field="tabButtonItem" value="DepotSalesOrder" />
				<set field="tabButtonItem2" value="DepotSalesOrder" />
				<set field="changeFlag" value="EditDepotSales" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="orderStatus" from-field="parameters.orderStatus" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<!-- <set field="parameters.roleTypeId" value="WSD_CUSTOMER"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/editDeptSaleOrder.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<!-- <container><label text="isFormSubmitted:${isFormSubmitted}" ></label></container> -->
						<include-menu name="DepotSalesIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/indentAdhocSaleDepot.ftl" />
									</html>
								</platform-specific>
							</widgets>
							<fail-widgets>
								<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
								</label>
							</fail-widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="EditBranchIndent">
		<section>
			<actions>
				<set field="titleProperty" value="${uiLabelMap.BranchSalesEntry}" />
				<set field="tabButtonItem" value="BranchSalesOrder" />
<!-- 				<set field="tabButtonItem2" value="BranchSalesOrder" /> -->
				<set field="changeFlag" value="EditDepotSales" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="orderStatus" from-field="parameters.orderStatus" />
				<set field="salesChannelEnumId" from-field="parameters.salesChannelEnumId" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="parameters.isFormSubmitted" value="YES" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<!-- <set field="parameters.roleTypeId" value="WSD_CUSTOMER"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/editBranchsaleIndent.groovy" />
				 <script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/BranchSalesOrderInnerScreenHelper.groovy" />
			</actions>
			<widgets>
					<section>
							<condition>
								<if-compare operator="equals" field="catType"
									value="Silk" />
							</condition>
							
							<widgets>
							<section>
								<condition>
								<if-compare operator="equals" value="direct" field="orderType"/>
								</condition>
								<widgets>
									<include-screen name="SilkBranchSalesOrder" />
								</widgets>
								<fail-widgets>
									<include-screen name="SilkMultiBranchSalesOrder" />
								</fail-widgets>
								
							</section>
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="catType"
									value="Cotton" />
							</condition>
							<widgets>
							<section>
								<condition>
								<if-compare operator="equals" value="direct" field="orderType"/>
								</condition>
								<widgets>
									<include-screen name="CottonBranchSalesOrder" />
								</widgets>
								<fail-widgets>
									<include-screen name="CottonMultiBranchSalesOrder" />
								</fail-widgets>
							</section>
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="catType"
									value="other" />
							</condition>
							<widgets>
							<section>
								<condition>
								<if-compare operator="equals" value="direct" field="orderType"/>
								</condition>
								<widgets>
									<include-screen name="OtherBranchSalesOrder" />
								</widgets>
								<fail-widgets>
									<include-screen name="OtherMultiBranchSalesOrder" />
								</fail-widgets>
								
							</section>
							</widgets>
						</section>
					
				
			</widgets>
		</section>
	</screen>
	<screen name="DepotSalesOrder">
		<section>
			<actions>
				<set field="titleProperty" value="Depot Sales Entry" />
				<set field="tabButtonItem" value="DepotSalesOrder" />
				<set field="tabButtonItem2" value="DepotSalesOrder" />
				<set field="changeFlag" value="DepotSales" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="orderStatus" from-field="parameters.orderStatus" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<!-- <set field="parameters.roleTypeId" value="WSD_CUSTOMER"/> -->
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<!-- <container><label text="isFormSubmitted:${isFormSubmitted}" ></label></container> -->
						<include-menu name="DepotSalesIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="DepotSaleInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="SalesInnerDepotScreen" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="DepotSaleInner">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" value="${parameters.productSubscriptionTypeId}" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>


				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="checkListType" value="indentEntry" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<entity-condition entity-name="Enumeration" list="prodSubTypes"
					use-cache="true">
					<condition-list>
						<condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="CARD" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="LEAK" />
					</condition-list>
					<order-by field-name="sequenceId" />
				</entity-condition>

				<!-- <entity-condition entity-name="Product" list="productList" use-cache="true"> 
					</entity-condition> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enableBoothAutoComplete.groovy"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
				<set field="routeId" from-field="parameters.routeId" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/indentAdhocSaleDepot.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>

	<screen name="SalesInnerDepotScreen">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" from-field="parameters.productSubscriptionTypeId" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<set field="boothId" from-field="parameters.boothId" />
				<!-- <entity-condition entity-name="Enumeration" list="prodSubTypes" 
					use-cache="true"> <condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE"/> 
					<order-by field-name="sequenceId"/> </entity-condition> -->
				<set field="checkListType" value="indentEntry" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="PONumber" from-field="parameters.PONumber" />
				<set field="promotionAdj" from-field="parameters.promotionAdj" />
				<set field="productCategoryId" from-field="parameters.productCategoryId" />
				<set field="vehicleId" from-field="parameters.vehicleId" />
				<set field="disableAcctgFlag" value="Y" />
				<set field="productStoreId" from-field="parameters.productStoreIdFrom" />
				<set field="partyId" from-field="parameters.partyId" />
				<set field="cfcs" from-field="parameters.cfcs" />
				<set field="salesChannel" from-field="parameters.salesChannel" />
				<set field="partyGeoId" from-field="parameters.partyGeoId" />
				<set field="branchGeoId" from-field="parameters.branchGeoId" />
				<set field="supplierGeoId" from-field="parameters.supplierGeoId" />
				<set field="referenceNo" from-field="parameters.referenceNo" />
				<set field="suplierAdd" from-field="parameters.suplierAdd" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/AdhocIndentFormDepot.groovy" />
				<script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/EditStoreOrderForm.groovy" />
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/indentAdhocSaleDepot.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/indentAdhocSaleDepot.ftl" />
							</html>
						</platform-specific>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	
	<screen name="ProcessBranchOrders">
		<section>
			<actions>
				<set field="titleProperty" value="${uiLabelMap.ProcessIndent}" />
				<set field="tabButtonItem" value="processOrdersBranchSales" />
				<set field="tabButtonItem2" value="processOrdersBranchSales" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
				<set field="defaultEffectiveDateTime"
					value="${bsh:org.ofbiz.base.util.UtilDateTime.getDayStart(org.ofbiz.base.util.UtilDateTime.nowTimestamp())}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="shipmentTypeId" from-field="parameters.shipmentTypeId" />
				<set field="salesChannelEnumId" value="BRANCH_CHANNEL"/>
				<set field="screenFlag" value="depotSales" />
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/getIcpSalesOrder.groovy" 
					/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ListSalesResultsForInfinityScroll.groovy" />
			 <!--  <script
    					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ListSalesOrderAdvancePayments.groovy" /> -->  
					
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<!-- <include-menu name="BranchSalesIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" /> -->
						<section>
							<widgets>
							<decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
                                    <decorator-section name="menu-bar">
                                    	 <container style="button-bar">
											<link target="CottonBranchSalesOrder" text="${uiLabelMap.CreateNewIndent}" style="buttontext create h2">
											</link>
										</container>
                                    </decorator-section>
							 		<decorator-section name="search-options">
                                        <include-form name="FindTankerSalesOrder" location="component://depotsales/widget/DepotSalesForms.xml"/>
                                    </decorator-section>
                                    <decorator-section name="search-results">
								<platform-specific>
										<html>
											<html-template
												location="component://depotsales/webapp/depotsales/depotsales/generatePO.ftl" />
										</html>
									</platform-specific>
									<platform-specific>
							        <html>
								      <html-template
									      location="component://depotsales/webapp/depotsales/depotsales/agencyAddressDetails.ftl" />
							          </html>
						           </platform-specific>
									<!-- <platform-specific>
										<html>
											<html-template
												location="component://byproducts/webapp/byproducts/byproducts/viewOrderDetails.ftl" />
										</html>
									</platform-specific> -->
									<platform-specific>
										<html>
											<html-template
												location="component://depotsales/webapp/depotsales/depotsales/ListSearchOrdersDepot.ftl" />
										</html>
									</platform-specific>
								</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	

	<screen name="ProcessDepotOrders">
		<section>
			<actions>
				<set field="titleProperty" value="Process Depot Orders" />
				<set field="tabButtonItem" value="DepotSalesOrder" />
				<set field="tabButtonItem2" value="processOrdersDepotSales" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
				<set field="defaultEffectiveDateTime"
					value="${bsh:org.ofbiz.base.util.UtilDateTime.getDayStart(org.ofbiz.base.util.UtilDateTime.nowTimestamp())}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="shipmentTypeId" from-field="parameters.shipmentTypeId" />
				<set field="salesChannelEnumId" from-field="parameters.salesChannelEnumId" />
				<set field="screenFlag" value="depotSales" />
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/getIcpSalesOrder.groovy" 
					/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ListSalesOrderSearchResults.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="DepotSalesIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
							<decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
                                    <decorator-section name="menu-bar">
                                    	 
                                    </decorator-section>
							 		<decorator-section name="search-options">
                                        <include-form name="FindTankerSalesOrder" location="component://depotsales/widget/DepotSalesForms.xml"/>
                                    </decorator-section>
                                    <decorator-section name="search-results">
								<screenlet title="Depot Orders">
								<platform-specific>
										<html>
											<html-template
												location="component://depotsales/webapp/depotsales/depotsales/generatePO.ftl" />
										</html>
									</platform-specific>
									<platform-specific>
										<html>
											<html-template
												location="component://depotsales/webapp/depotsales/depotsales/ListSearchOrdersDepot.ftl" />
										</html>
									</platform-specific>
								</screenlet>
								</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>


	<screen name="NonRouteGatePassPDFDepot">
		<section>
			<actions>
				<property-map resource="OrderUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="ProductUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="PartyUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="CommonUiLabels" map-name="uiLabelMap"
					global="true" />
				<script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/reports/nonRouteMktGatePass.groovy" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<xsl-fo>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/nonRouteMktGatePassDepotSale.fo.ftl" />
							</xsl-fo>
						</platform-specific>
					</widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="ProcessOrderAndShipmentGeneration">
        <section>
            <actions>
				<set field="titleProperty" value="Process Depot Orders" />
				<set field="tabButtonItem" value="FindPO" />
				<set field="tabButtonItem2" value="ProcessOrdersSuppliersDepotSales" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
				<set field="defaultEffectiveDateTime"
					value="${bsh:org.ofbiz.base.util.UtilDateTime.getDayStart(org.ofbiz.base.util.UtilDateTime.nowTimestamp())}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="shipmentTypeId" from-field="parameters.shipmentTypeId" />
				<set field="salesChannelEnumId" from-field="parameters.salesChannelEnumId" />
				<set field="screenFlag" value="depotSales" />
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/getIcpSalesOrder.groovy" 
					/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ListSalesOrderSearchResults.groovy" />
			</actions>
            <widgets>
                 <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
					<include-menu location="component://depotsales/widget/DepotSalesMenus.xml" name="FindPOSubTabBar" />
						 <section>
                            <widgets>
                                <decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
                                    <decorator-section name="menu-bar">
                                    	 
                                    </decorator-section>
                                    <decorator-section name="search-options">
                                        <include-form name="FindTankerSalesOrder" location="component://depotsales/widget/DepotSalesForms.xml"/>
                                    </decorator-section>
                                    <decorator-section name="search-results">
            							<screenlet title="Orders List"> 
                                        	<platform-specific>
												<html>
													<html-template location="component://depotsales/webapp/depotsales/depotsales/ListOrderSearchResults.ftl" />
												</html>
											</platform-specific>
                                        </screenlet>
                                    </decorator-section>
                                </decorator-screen>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen> 
    <screen name="FindByProdDepotSalesShipment">
		<section>
			<actions>
				<set field="titleProperty" value="Find Depot Sale Shipments" />
				<set field="tabButtonItem" value="FindPO" />
				<set field="tabButtonItem2" value="FindDepotSupplierPurchseShipment" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
				<set field="targetRequest" value="FindDepotSupplierPurchseShipment" />
				<set field="shipmentTypeId" value="DEPOT_SHIPMENT" />
				<set field="screenFlag" value="depotSales" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="FindPOSubTabBar" />
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="search-options">
										<include-form name="FindByprodShipmentDepot"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="">
										<platform-specific>
												<html>
													<html-template
														location="component://depotsales/webapp/depotsales/depotsales/editSalesTaxNumber.ftl" />
												</html>
											</platform-specific>
											<include-form name="listByprodShipmentDepot"
												location="component://depotsales/widget/DepotSalesForms.xml" />
										</screenlet>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="FindDepotBrachShipment">
		<section>
			<actions>
				<set field="titleProperty" value="Find Depot Sale Shipments" />
				<set field="tabButtonItem" value="BranchSalesOrder" />
				<set field="tabButtonItem2" value="FindDepotBranchSalesShipment" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
				<set field="targetRequest" value="FindDepotSalesShipment" />
				<set field="shipmentTypeId" value="DEPOT_SHIPMENT" />
				<set field="screenFlag" value="depotSales" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="BranchSalesIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="search-options">
										<include-form name="FindShipmentDepot"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="">
											<include-form name="listShipmentsDepot"
												location="component://depotsales/widget/DepotSalesForms.xml" />
										</screenlet>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="FindDepotShipment">
		<section>
			<actions>
				<set field="titleProperty" value="Find Depot Sale Shipments" />
				<set field="tabButtonItem" value="DepotSalesOrder" />
				<set field="tabButtonItem2" value="FindDepotSalesShipment" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
				<set field="targetRequest" value="FindDepotSalesShipment" />
				<set field="shipmentTypeId" value="DEPOT_SHIPMENT" />
				<set field="screenFlag" value="depotSales" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="DepotSalesIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="search-options">
										<include-form name="FindShipmentDepot"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="">
											<include-form name="listShipmentsDepot"
												location="component://depotsales/widget/DepotSalesForms.xml" />
										</screenlet>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="BuyerInvoiceDepotPDF">
		<section>
			<actions>
				<property-map resource="AccountingUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="ProductUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="PartyUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="CommonUiLabels" map-name="uiLabelMap"
					global="true" />
				<script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/buyerInvoicePrint.groovy" />
			</actions>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://depotsales/webapp/depotsales/depotsales/buyerInvoiceSlipsDepot.fo.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>

	<screen name="TaxInvoiceDepotPDF">
		<section>
			<actions>
				<property-map resource="AccountingUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="ProductUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="PartyUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="CommonUiLabels" map-name="uiLabelMap"
					global="true" />
				<!-- <set field="invoiceIds" from-field="parameters.invoiceIds" type="List"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/printInvoices.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/invoiceSlips.groovy"/> -->
				<script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/buyerInvoicePrint.groovy" />
			</actions>
			<widgets>
				<platform-specific>
					<html>
						<html-template
							location="component://depotsales/webapp/depotsales/depotsales/TaxInvoiceDepotPDF.fo.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>

	<screen name="FindGRNReceipts">
		<section>
			<actions>
				<set field="titleProperty" value="Find GRN Items" />
				<set field="tabButtonItem" value="FindGRNReceipts" />
				<set field="tabButtonItem2" value="FindGRNReceipts" />
				<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="20" />
				<set field="targetRequest" value="FindGRNReceiptsDepot" />
				<service service-name="performFind" result-map="result"
					result-map-list="listIt">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="ShipmentReceipt" />
					<field-map field-name="orderBy" value="-receiptId" />
					<field-map field-name="viewIndex" from-field="viewIndex" />
					<field-map field-name="viewSize" from-field="viewSize" />
				</service>
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/purchaseDepartments.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/SupplyTillDate.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="ReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="search-options">
										<include-form name="FindShipmentReceipt"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="">
											<include-form name="listMaterialShipmentReceipt"
												location="component://depotsales/widget/DepotSalesForms.xml" />
										</screenlet>
										<platform-specific>
											<html>
												<html-template
													location="component://depotsales/webapp/depotsales/depotsales/qcApprovalDepot.ftl" />
											</html>
										</platform-specific>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="POMaterialReceiptsDepot">
		<section>
			<actions>
				<set field="titleProperty" value="PO Receipts" />
				<set field="tabButtonItem" value="FindGRNReceipts" />
				<set field="tabButtonItem2" value="POMaterialReceipts" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
				<!-- <set field="ChannalType" value="PROD_PRCHSE_CHANNEL"/> -->
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="parameters.roleTypeId" value="SUPPLIER" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="defaulteffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd:MM:yyyy hh:mm&quot;);}" />
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enablePartyAutoComplete.groovy"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />

				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/purchaseOrderDetailsEntryDepot.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="ReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<section>
									<condition>
										<if-compare operator="equals" field="isFormSubmitted"
											value="" />
									</condition>
									<widgets>
										<include-screen name="ReceiptInitEntry" />
									</widgets>
								</section>
								<section>
									<condition>
										<if-compare operator="equals" field="isFormSubmitted"
											value="YES" />
									</condition>
									<widgets>
										<include-screen name="ReceiptInnerScreen" />
									</widgets>
								</section>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="ReceiptInitEntry">
		<section>
			<actions>
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>
				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<!-- <set field="shipmentTypeId" value="${parameters.shipmentTypeId}"/> -->
				<entity-condition entity-name="Product" list="productList"
					use-cache="true">
				</entity-condition>
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/ReceiptEntryDepot.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>

	<screen name="ReceiptInnerScreen">
		<section>
			<actions>
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/ReceiptEntryDepot.ftl" />
							</html>
						</platform-specific>
					</widgets>
				</section>
			</widgets>
		</section>
	</screen>

	<screen name="FindGRNShipments">
		<section>
			<actions>
				<set field="titleProperty" value="Find GRN Shipments" />
				<set field="tabButtonItem" value="FindGRNReceipts" />
				<set field="tabButtonItem2" value="FindGRNShipments" />
				<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="20" />
				<set field="targetRequest" value="FindGRNShipmentsDepot" />
				<!-- <set field="noConditionFind" value="Y" /> -->
				<service service-name="performFind" result-map="result"
					result-map-list="listIt">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="ShipmentAndOrderRole" />
					<field-map field-name="orderBy" value="-estimatedShipDate" />
					<field-map field-name="viewIndex" from-field="viewIndex" />
					<field-map field-name="viewSize" from-field="viewSize" />
				</service>
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PartyShipmentView.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/purchaseDepartments.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<include-menu name="ReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/LinkGRNWithPoDepot.ftl" />
									</html>
								</platform-specific>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="search-options">
										<include-form name="FindMaterialShipment"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="">
											<include-form name="listMaterialShipments"
												location="component://depotsales/widget/DepotSalesForms.xml" />
										</screenlet>
										<platform-specific>
											<html>
												<html-template
													location="component://depotsales/webapp/depotsales/depotsales/qcApprovalDepot.ftl" />
											</html>
										</platform-specific>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="MaterialForQCApproval">
		<section>
			<actions>
				<set field="titleProperty" value="Receipts For QC" />
				<set field="tabButtonItem" value="MaterialForQCApproval" />
				<set field="entityName" value="ShipmentReceiptAndShipmentReceiptRole" />
				<!-- <entity-condition list="receiptItems" entity-name="ShipmentReceipt"> 
					<condition-list combine="and"> <condition-expr field-name="statusId" value="SR_RECEIVED"/> 
					</condition-list> <order-by field-name="-datetimeReceived"/> </entity-condition> -->
				<set field="targetRequest" value="FindMaterialQCApproval" />
				<set field="targetRequestForAccept" value="acceptReceiptQtyByQC" />

				<set field="layoutSettings.javaScripts[]" value="/materialmgmt/images/requirements.js"
					global="true" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/purchaseDepartments.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<screenlet title="Search-Options">
									<include-form
										location="component://materialmgmt/widget/MaterialPurchaseForms.xml"
										name="FindMaterialQCApproval" />
								</screenlet>
								<screenlet title="Search-Results">
									<include-form
										location="component://materialmgmt/widget/MaterialPurchaseForms.xml"
										name="ListMaterialQCApproval" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="MaterialShipmentOverview">
		<section>
			<actions>
				<set field="titleProperty" value="Shipment Overview" />
				<set field="tabButtonItem" value="DepotTransReceipts" />
				<set field="tabButtonItem2" value="DepotTransMaterialShipmentOverview" />
				<set field="shipmentId" from-field="parameters.shipmentId" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/getGRNDetailsForInvoice.groovy" />
				<set field="supplierId" from-field="supplierId" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="DepotTransReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<screenlet title="Overview">
									<include-screen name="ShipmentOverviewforInvoice" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="ShipmentOverviewforInvoice">
		<section>
			<actions>
				<entity-condition list="shipmentReceipt"
					entity-name="ShipmentReceipt">
					<condition-list combine="and">
						<condition-expr field-name="shipmentId" from-field="shipmentId" />
						<condition-expr field-name="statusId" operator="equals"
							value="SR_QUALITYCHECK" />
					</condition-list>
				</entity-condition>
			</actions>
			<widgets>
				<container style="lefthalf">
					<screenlet
						title="${uiLabelMap.CommonInformation} of ShipmentId : ${shipmentId}">
						<include-form name="shipmentInfo"
							location="component://depotsales/widget/DepotSalesForms.xml" />
					</screenlet>
				</container>
				<container style="righthalf">
					<screenlet title="Shipment Items">
						<include-form name="shipmentItemInfo"
							location="component://depotsales/widget/DepotSalesForms.xml" />
					</screenlet>
				</container>
				<container style="clear" />
				<container>
					<section>
						<widgets>
							<screenlet title="GRN Items">
								<include-form name="shipmentReceiptsForInvoice"
									location="component://depotsales/widget/DepotSalesForms.xml" />
							</screenlet>
								<screenlet title="${uiLabelMap.ShipmentDocumentsList}">
                          			  <include-form name="ListShipmentContents" location="component://depotsales/widget/DepotSalesForms.xml"/>
                       			</screenlet>
		                        <screenlet title="${uiLabelMap.ADDShipmentDocuments}">
		                     			<include-form name="AddShipmentContent" location="component://depotsales/widget/DepotSalesForms.xml"/>
		                        </screenlet>
						</widgets>
					</section>
				</container>
			</widgets>
		</section>
	</screen>

	<screen name="PurchageOrderOverView">
		<section>
			<actions>
				<set field="titleProperty"
					value="Purchase Order OverView - OrderId - ${parameters.orderId}" />
				<set field="tabButtonItem" value="FindDepotTransPO" />
				<set field="tabButtonItem2" value="POoverView" />
				<set field="layoutSettings.javaScripts[]" value="/ordermgr/images/js/order.js"
					global="true" />
				<set field="layoutSettings.javaScripts[]" value="/ordermgr/images/js/OrderShippingInfo.js"
					global="true" />
				<set field="layoutSettings.javaScripts[]" value="/ordermgr/images/js/geoAutoCompleter.js"
					global="true" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PurchageOrderView.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/POViewWebSecure.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="FindDepotTransPOSubTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<container style="lefthalf">
									<platform-specific>
										<html>
											<html-template
												location="component://materialmgmt/webapp/materialmgmt/purchase/PurchageOrderInfo.ftl" />
										</html>
									</platform-specific>
									<platform-specific>
										<html>
											<html-template
												location="component://materialmgmt/webapp/materialmgmt/purchase/POItems.ftl" />
										</html>
									</platform-specific>
									<platform-specific>
										<html>
											<html-template
												location="component://materialmgmt/webapp/materialmgmt/purchase/POterms.ftl" />
										</html>
									</platform-specific>
									<platform-specific>
										<html>
											<html-template
												location="component://materialmgmt/webapp/materialmgmt/purchase/POSuspend.ftl" />
										</html>
									</platform-specific>
									<screenlet title="Order Amendments">
										<include-form
											location="component://depotsales/widget/DepotSalesForms.xml"
											name="orderAmendments" />
									</screenlet>
									<screenlet title="Order Attributes">
										<include-screen name="orderAttributes" />
									</screenlet>
									<include-screen name="orderAssoc" />
								</container>
								<container style="righthalf">
									<platform-specific>
										<html>
											<html-template
												location="component://materialmgmt/webapp/materialmgmt/purchase/POContactInfo.ftl" />
										</html>
									</platform-specific>
									<screenlet title="Receipts For Order">
										<!-- <include-form location="component://materialmgmt/widget/MaterialPurchaseForms.xml" 
											name="listMaterialShipmentReceipt"/> -->
										<include-screen name="listMaterialShipmentReceipt" />
									</screenlet>
									<platform-specific>
										<html>
											<html-template
												location="component://materialmgmt/webapp/materialmgmt/purchase/POpaymentInfo.ftl" />
										</html>
									</platform-specific>
									<screenlet title="Invoices For Order">
										<include-form
											location="component://materialmgmt/widget/MaterialPurchaseForms.xml"
											name="invoiceDetailList" />
									</screenlet>
									<!-- <screenlet title="Content">
										<include-screen name="POcontent" />
									</screenlet> -->
									<platform-specific>
										<html>
											<html-template
												location="component://materialmgmt/webapp/materialmgmt/purchase/PONotes.ftl" />
										</html>
									</platform-specific>
									<screenlet title="Supply Products Till Date">
										<include-screen name="supplyProductsTillDate" />
									</screenlet>
								</container>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="orderAssoc">
		<section>
			<actions>
				<entity-condition list="OrderAssocList"
					entity-name="OrderAssoc">
					<condition-list combine="or">
						<condition-expr field-name="orderId" from-field="parameters.orderId" />
						<condition-expr field-name="toOrderId" from-field="parameters.orderId" />
					</condition-list>
				</entity-condition>
				<set field="assocId" value="${parameters.orderId}" />
			</actions>
			<widgets>
				<screenlet title="Order Associations">
					<include-form
						location="component://materialmgmt/widget/materialmgmtForms.xml"
						name="listOrderAssoc" />
				</screenlet>
			</widgets>
		</section>
	</screen>

	<screen name="listMaterialShipmentReceipt">
		<section>
			<actions>
				<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="20" />
				<set field="targetRequest" value="FindGRNReceipts" />
				<service service-name="performFind" result-map="result"
					result-map-list="listIt">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="ShipmentReceipt" />
					<field-map field-name="orderBy" value="-receiptId" />
					<field-map field-name="viewIndex" from-field="viewIndex" />
					<field-map field-name="viewSize" from-field="viewSize" />
				</service>
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/purchaseDepartments.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/SupplyTillDate.groovy" />
			</actions>
			<widgets>
				<include-form name="listMaterialShipmentReceipt"
					location="component://materialmgmt/widget/MaterialPurchaseForms.xml" />
				<platform-specific>
					<html>
						<html-template
							location="component://materialmgmt/webapp/materialmgmt/purchase/qcApproval.ftl" />
					</html>
				</platform-specific>
			</widgets>
		</section>
	</screen>

	<screen name="POcontent">
		<section>
			<actions>
				<property-map resource="CommonUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="ContentUiLabels" map-name="uiLabelMap"
					global="true" />
				<entity-condition entity-name="OrderContentAndDataResource"
					list="orderContentList" filter-by-date="true">
					<condition-list combine="and">
						<condition-expr field-name="orderId" operator="equals"
							from-field="parameters.orderId" />
						<condition-expr field-name="contentTypeId"
							operator="equals" value="PO_DOCUMENT" />
						<condition-expr field-name="dataCategoryId"
							operator="equals" value="PO_DOCUMENT" />
						<!-- <condition-expr field-name="isPublic" operator="equals" value="Y"/> -->
					</condition-list>
					<order-by field-name="-createdDate" />
				</entity-condition>
			</actions>
			<widgets>
				<include-form
					location="component://materialmgmt/widget/MaterialPurchaseForms.xml"
					name="UploadPOcontent" />
				<include-form
					location="component://materialmgmt/widget/MaterialPurchaseForms.xml"
					name="ListPOContent" />
			</widgets>
		</section>
	</screen>

	<screen name="supplyProductsTillDate">
		<section>
			<actions>
				<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="20" />
				<set field="targetRequest" value="FindGRNReceipts" />
				<service service-name="performFind" result-map="result"
					result-map-list="listIt">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="ShipmentReceipt" />
					<field-map field-name="orderBy" value="-receiptId" />
					<field-map field-name="viewIndex" from-field="viewIndex" />
					<field-map field-name="viewSize" from-field="viewSize" />
				</service>
				<!-- <script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/purchaseDepartments.groovy"/> -->
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/SupplyTillDate.groovy" />
			</actions>
			<widgets>
				<include-form name="supplyProductstilldate"
					location="component://materialmgmt/widget/MaterialPurchaseForms.xml" />
			</widgets>
		</section>
	</screen>

	<screen name="orderAttributes">
		<section>
			<actions>
				<entity-and entity-name="OrderAttribute" list="OrderAttributeList">
					<field-map field-name="orderId" from-field="parameters.orderId" />
				</entity-and>
			</actions>
			<widgets>
				<!-- <include-form
					location="component://materialmgmt/widget/materialmgmtForms.xml"
					name="addAttribute" /> -->
				<screenlet>
					<include-form
						location="component://materialmgmt/widget/materialmgmtForms.xml"
						name="listAttribute" />
				</screenlet>
			</widgets>
		</section>
	</screen>

	<screen name="MRRreportPDF">
		<section>
			<actions>
				<property-map resource="OrderUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="ProductUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="PartyUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="CommonUiLabels" map-name="uiLabelMap"
					global="true" />
				<set field="shipmentId" from-field="parameters.shipmentId" />
				<set field="orderId" value="${parameters.orderId}" />
				<set field="receiptId" from-field="parameters.receiptId" />
				<set field="datetimeReceived" from-field="parameters.datetimeReceived" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/MRRreport.groovy" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<xsl-fo>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/MRRreportDepotSales.fo.ftl" />
							</xsl-fo>
						</platform-specific>
					</widgets>
				</section>
			</widgets>
		</section>
	</screen>

	<screen name="MaterialInvoiceInit">
		<section>
			<actions>
				<set field="titleProperty" value="Material Invoice Entry" />
				<set field="tabButtonItem" value="FindGRNReceipts" />
				<set field="tabButtonItem2" value="MaterialInvoiceInit" />
				<set field="shipmentId" from-field="parameters.shipmentId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/PurchaseInvoiceEntryForm.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<include-menu name="ReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="PurchaseInvoiceInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="PurchaseInvoiceEntry" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="PurchaseInvoiceInner">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" value="${parameters.productSubscriptionTypeId}" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>
				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />

				<script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enablePartyAutoComplete.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/orgnigationDept.groovy" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/PurchaseInvoiceDepot.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>


    <screen name="PurchaseDepotInvoiceInner">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" value="${parameters.productSubscriptionTypeId}" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>
				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />

				<script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enablePartyAutoComplete.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/orgnigationDept.groovy" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/PurchaseDepotInvoiceDepot.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
    

	<screen name="PurchaseInvoiceEntry">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" from-field="parameters.productSubscriptionTypeId" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<set field="boothId" from-field="parameters.boothId" />
				<set field="checkListType" value="indentEntry" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="productCatageoryId" from-field="parameters.productCatageoryId" />
				<set field="vehicleId" from-field="parameters.vehicleId" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PurchaseEntryFormNew.groovy" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://materialmgmt/webapp/materialmgmt/purchase/PurchaseOrder.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://materialmgmt/webapp/materialmgmt/purchase/PurchaseOrder.ftl" />
							</html>
						</platform-specific>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>



    <screen name="MaterialSalesInvoiceInit">
		<section>
			<actions>
				<set field="titleProperty" value="Material Invoice Entry" />
				<set field="tabButtonItem" value="FindGRNReceipts" />
				<set field="tabButtonItem2" value="MaterialInvoiceInit" />
				<set field="shipmentId" from-field="parameters.shipmentId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/SalesInvoiceEntryForm.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<include-menu name="ReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="SalesInvoiceInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="SalesInvoiceEntry" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="SalesInvoiceInner">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" value="${parameters.productSubscriptionTypeId}" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>
				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />

				<script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enablePartyAutoComplete.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/orgnigationDept.groovy" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/SalesInvoiceDepot.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>

	<screen name="SalesInvoiceEntry">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" from-field="parameters.productSubscriptionTypeId" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<set field="boothId" from-field="parameters.boothId" />
				<set field="checkListType" value="indentEntry" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="productCatageoryId" from-field="parameters.productCatageoryId" />
				<set field="vehicleId" from-field="parameters.vehicleId" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PurchaseEntryFormNew.groovy" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://materialmgmt/webapp/materialmgmt/purchase/PurchaseOrder.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://materialmgmt/webapp/materialmgmt/purchase/PurchaseOrder.ftl" />
							</html>
						</platform-specific>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
    
    <screen name="MaterialSalesEditInvoiceInit">
		<section>
			<actions>
				<set field="titleProperty" value="Material Invoice Entry" />
				<set field="tabButtonItem" value="FindGRNReceipts" />
				<set field="tabButtonItem2" value="MaterialEditInvoiceInit" />
				<set field="shipmentId" from-field="parameters.shipmentId" />
				<set field="invoiceId" from-field="parameters.invoiceId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/editBranchSalesInvoice.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<include-menu name="editSalesMenu"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="SalesEditInvoiceInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="SalesEditInvoiceEntry" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

   <screen name="SalesEditInvoiceInner">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" value="${parameters.productSubscriptionTypeId}" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>
				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />

				<script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enablePartyAutoComplete.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/orgnigationDept.groovy" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/SalesEditInvoiceDepot.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>

	<screen name="SalesEditInvoiceEntry">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" from-field="parameters.productSubscriptionTypeId" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<set field="boothId" from-field="parameters.boothId" />
				<set field="checkListType" value="indentEntry" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="productCatageoryId" from-field="parameters.productCatageoryId" />
				<set field="vehicleId" from-field="parameters.vehicleId" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PurchaseEntryFormNew.groovy" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://materialmgmt/webapp/materialmgmt/purchase/PurchaseOrder.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://materialmgmt/webapp/materialmgmt/purchase/PurchaseOrder.ftl" />
							</html>
						</platform-specific>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
   

	<screen name="FindMaterialInvoices">
		<section>
			<actions>
				<set field="titleProperty" value="Find Material Invoice" />
				<set field="tabButtonItem" value="FindMaterialInvoices" />
				<set field="entityName" value="Invoice" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<screenlet title="Search Options">
							<include-form
								location="component://materialmgmt/widget/MaterialRequestForms.xml"
								name="FindMaterialInvoice" />
						</screenlet>
						<screenlet title="Search Results">
							<include-form
								location="component://materialmgmt/widget/MaterialRequestForms.xml"
								name="ListMaterialInvoice" />
						</screenlet>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="StockPositionDepotSales">
		<section>
			<actions>
				<property-map resource="OrderUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="ProductUiLabels" map-name="uiLabelMap"
					global="true" />
				<set field="titleProperty" value="StockPosition" />
				<set field="tabButtonItem" value="stockPositionDepotSales" />
				<!-- <set field="tabButtonItem2" value="stockPosition"/> -->
				<set field="headerItem" value="StockPosition" />
				<set field="ajaxUrl" value="StockPositionDepotInternal" type="String" />
			</actions>
			<widgets>
				<!-- <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}"> -->
				<decorator-screen name="CommonInventoryDecoratorDepot"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/stockPositionDepot_Select.ftl" />
									</html>
								</platform-specific>
								<include-screen name="StockPositionDepotInternal" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="StockPositionDepotInternal">
		<section>
			<actions>
				<property-map resource="OrderUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="ProductUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="CommonUiLabels" map-name="uiLabelMap"
					global="true" />
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/stockPositionDepot.groovy"/> 
			</actions>
			<condition>
				<or>
					<not>
						<if-empty field="parameters.productId" />
					</not>
					<not>
						<if-empty field="productId" />
					</not>
				</or>
			</condition>
			<widgets>
				<container>
					<platform-specific>
						<html>
							<html-template
								location="component://materialmgmt/webapp/materialmgmt/reports/stockPosition.ftl" />
						</html>
					</platform-specific>

					<platform-specific>
						<html>
							<html-template
								location="component://materialmgmt/webapp/materialmgmt/reports/EditProductInventoryItems.ftl" />
						</html>
					</platform-specific>

					<screenlet title="${uiLabelMap.ProductOutstandingPurchaseOrders}">
						<include-form name="OutstandingPurchaseOrders"
							location="component://materialmgmt/widget/materialmgmtForms.xml" />
					</screenlet>
					<screenlet title="${uiLabelMap.ProductRequirements}">
						<include-form name="ListRequirements"
							location="component://materialmgmt/widget/materialmgmtForms.xml" />
					</screenlet>
					<screenlet title="${uiLabelMap.Indents}">
						<include-form name="ListRequestList"
							location="component://materialmgmt/widget/materialmgmtForms.xml" />
					</screenlet>
					<screenlet title="Receipts">
						<include-form name="ListReceiptsList"
							location="component://materialmgmt/widget/materialmgmtForms.xml" />
					</screenlet>
					<screenlet title="${uiLabelMap.ProductSuppliers}">
						<include-form name="ListSupplierProducts"
							location="component://materialmgmt/widget/materialmgmtForms.xml" />
					</screenlet>
				</container>
			</widgets>
		</section>
	</screen>

	<screen name="FindPaymentNonRoute">
		<section>
			<actions>
				<set field="titleProperty" value="Receipts Search" />
				<set field="tabButtonItem" value="NonRouteCustomPayments" />
				<set field="subTabButtonItem" value="${parameters.subTabItem}"
					default-value="${context.subTabItem}" />
				<set field="paymentMethodTypeId" value="${parameters.paymentMethodTypeId}"
					default-value="${context.paymentMethodTypeId}" />
				<set field="subTabItem" value="${parameters.subTabItem}"
					default-value="${context.subTabItem}" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="1000" />
				<service service-name="acctgInvoicePermissionCheck"
					result-map="permResult">
					<field-map field-name="mainAction" value="PAYMENT_EDIT" />
				</service>
				<set field="nowDate"
					value="${bsh:org.ofbiz.base.util.UtilDateTime.nowDateString(&quot;yyyy-MM-dd&quot;)}"
					type="String" />
				<set field="hasPaymentEditPermission" from-field="permResult.hasPermission" />
				<set field="isCashierPortalScreen" value="YES" />
				<service service-name="acctgInvoicePermissionCheck"
					result-map="permResult">
					<field-map field-name="mainAction" value="PAYMENTSTATUS_CANCEL" />
				</service>
				<set field="hasPaymentCancelPermission" value="true" type="Boolean" /><!--from-field="permResult.hasPermission" -->
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<!-- <decorator-screen name="ByProductsNgCommonDecorator" location="component://byproducts/widget/CommonScreens.xml"> -->
					<decorator-section name="body">
						<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="NonRoutePaymentSubTabBar" />
						<section>
							<widgets>
								<include-screen name="FindPaymentNonRouteInner" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="FindPaymentNonRouteInner">
		<section>
			<actions>
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="1000" />
				<service service-name="acctgInvoicePermissionCheck"
					result-map="permResult">
					<field-map field-name="mainAction" value="PAYMENT_EDIT" />
				</service>
				<set field="nowDate"
					value="${bsh:org.ofbiz.base.util.UtilDateTime.nowDateString(&quot;yyyy-MM-dd&quot;)}"
					type="String" />
				<set field="hasPaymentEditPermission" from-field="permResult.hasPermission" />
				<set field="isCashierPortalScreen" value="YES" />
				<service service-name="acctgInvoicePermissionCheck"
					result-map="permResult">
					<field-map field-name="mainAction" value="PAYMENTSTATUS_CANCEL" />
				</service>
				<set field="hasPaymentCancelPermission" value="true" type="Boolean" /><!--from-field="permResult.hasPermission" -->
				<set field="parameters.noConditionFind" from-field="parameters.noConditionFind"
					default-value="N" />
				<set field="defaultMethodTypeId" value="${parameters.defaultMethodTypeId}" />
				<service service-name="performFind" result-map="result">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="PaymentAndType" />
					<field-map field-name="orderBy" value="effectiveDate DESC" />
					<field-map field-name="viewIndex" from-field="viewIndex" />
					<field-map field-name="viewSize" from-field="viewSize" />
				</service>
				<set field="payments" from-field="result.listIt" />
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/thirdPartyKit/payUbizResponse.groovy" />	
			</actions>
			<widgets>
				<section>
					<widgets>
						<decorator-screen name="FindScreenDecorator"
							location="component://common/widget/CommonScreens.xml">
							<decorator-section name="menu-bar">
								<container style="button-bar">
									<link target="NewDepotSalesReceipt" text="Create New Receipt"
										style="buttontext create">
										<parameter param-name="paymentMethodTypeId"
											from-field="defaultMethodTypeId" />
										<parameter param-name="subTabItem" value="${parameters.subTabItem}" />
									</link>
								</container>
							</decorator-section>
							<decorator-section name="search-options">
								<include-form name="FindPaymentDepotSales"
									location="component://accounting/widget/PaymentForms.xml" />
							</decorator-section>
							<decorator-section name="search-results">
								<platform-specific>
									<html>
										<html-template
											location="component://accounting/webapp/accounting/payment/ListSearchPayments.ftl" />
									</html>
								</platform-specific>
							</decorator-section>
						</decorator-screen>
					</widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="NonRouteFindChequeReturns">
		<section>
			<actions>
				<set field="titleProperty" value="Depot Receipts Search To Cancel" />
				<set field="tabButtonItem" value="NonRouteCustomPayments" />
				<set field="subTabButtonItem" value="${parameters.subTabItem}"
					default-value="${context.subTabItem}" />
				<set field="paymentMethodTypeId" value="${parameters.paymentMethodTypeId}"
					default-value="${context.paymentMethodTypeId}" />
				<set field="subTabItem" value="ChequeReturn" default-value="${context.subTabItem}" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="1000" />
				<service service-name="acctgInvoicePermissionCheck"
					result-map="permResult">
					<field-map field-name="mainAction" value="PAYMENT_EDIT" />
				</service>
				<set field="nowDate"
					value="${bsh:org.ofbiz.base.util.UtilDateTime.nowDateString(&quot;yyyy-MM-dd&quot;)}"
					type="String" />
				<set field="hasPaymentEditPermission" from-field="permResult.hasPermission" />
				<service service-name="acctgInvoicePermissionCheck"
					result-map="permResult">
					<field-map field-name="mainAction" value="PAYMENTSTATUS_CANCEL" />
				</service>
				<set field="hasPaymentCancelPermission" value="true" type="Boolean" /><!--from-field="permResult.hasPermission" -->
				<set field="parameters.noConditionFind" from-field="parameters.noConditionFind"
					default-value="N" />
				<service service-name="performFind" result-map="result">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="PaymentAndType" />
					<field-map field-name="orderBy" value="effectiveDate DESC" />
					<field-map field-name="viewIndex" from-field="viewIndex" />
					<field-map field-name="viewSize" from-field="viewSize" />
				</service>
				<set field="payments" from-field="result.listIt" />
				<set field="subTabButtonItem" value="ChequeReturn" />
				<entity-condition entity-name="FacilityParty" list="facilityParty"
					filter-by-date="true">
					<condition-list>
						<condition-expr field-name="partyId" value="${userLogin.partyId}" />
						<condition-expr field-name="roleTypeId" value="FACILITY_CASHIER" />
					</condition-list>
				</entity-condition>
				<service service-name="acctgInvoicePermissionCheck"
					result-map="permResult">
					<field-map field-name="mainAction" value="PAYMENTSTATUS_CANCEL" />
				</service>
				<set field="nowDate"
					value="${bsh:org.ofbiz.base.util.UtilDateTime.nowDateString(&quot;yyyy-MM-dd&quot;)}"
					type="String" />
				<set field="hasPaymentEditPermission" from-field="permResult.hasPermission" />
				<set field="isCashierPortalScreen" value="YES" />
				<service service-name="acctgInvoicePermissionCheck"
					result-map="permResult">
					<field-map field-name="mainAction" value="PAYMENTSTATUS_CANCEL" />
				</service>
				<set field="parameters.defaultMethodTypeId" value="${parameters.defaultMethodTypeId}" />
				<set field="hasPaymentCancelPermission" value="true" type="Boolean" /><!--from-field="permResult.hasPermission" -->
				<set field="parameters.noConditionFind" from-field="parameters.noConditionFind"
					default-value="N" />
				<service service-name="performFind" result-map="result">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="PaymentAndType" />
					<field-map field-name="orderBy" value="effectiveDate DESC" />
					<field-map field-name="viewIndex" from-field="viewIndex" />
					<field-map field-name="viewSize" from-field="viewSize" />
				</service>
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="NonRoutePaymentSubTabBar" />
						<!-- <include-menu location="component://byproducts/widget/ByProductsMenus.xml" 
							name="NonRoutePaymentSubTabBar"/> -->
						<section>
							<widgets>
								<section>
									<widgets>
										<decorator-screen name="FindScreenDecorator"
											location="component://common/widget/CommonScreens.xml">
											<decorator-section name="search-options">
												<include-form name="FindPaymentRetrunCheqNonRoute"
													location="component://accounting/widget/PaymentForms.xml" />
											</decorator-section>
											<decorator-section name="search-results">
												<screenlet title="search result">
													<platform-specific>
														<html>
															<html-template
																location="component://byproducts/webapp/byproducts/byproducts/ChequeReturnsCancel.ftl" />
														</html>
													</platform-specific>

													<platform-specific>
														<html>
															<html-template
																location="component://accounting/webapp/accounting/payment/ChequeRtrnListPayment.ftl" />
														</html>
													</platform-specific>
												</screenlet>
											</decorator-section>
										</decorator-screen>
									</widgets>
								</section>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="NewDepotSalesReceipt">
		<section>
			<actions>
				<set field="titleProperty" value="Create Depot New Receipt" />
				<set field="tabButtonItem" value="NonRouteCustomPayments" />
				<set field="subTabButtonItem" value="${parameters.subTabItem}"
					default-value="${context.subTabItem}" />
				<set field="paymentMethodTypeId" value="${parameters.paymentMethodTypeId}"
					default-value="${context.subTabItem}" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="1000" />
				<service service-name="acctgInvoicePermissionCheck"
					result-map="permResult">
					<field-map field-name="mainAction" value="PAYMENT_EDIT" />
				</service>
				<set field="nowDate"
					value="${bsh:org.ofbiz.base.util.UtilDateTime.nowDateString(&quot;yyyy-MM-dd&quot;)}"
					type="String" />
				<set field="hasPaymentEditPermission" from-field="permResult.hasPermission" />
				<set field="isCashierPortalScreen" value="YES" />
				<service service-name="acctgInvoicePermissionCheck"
					result-map="permResult">
					<field-map field-name="mainAction" value="PAYMENTSTATUS_CANCEL" />
				</service>
				<set field="layoutSettings.javaScripts[]" value="/accounting/images/paymentMethodType.js" global="true"/>
				<set field="hasPaymentCancelPermission" value="true" type="Boolean" /><!--from-field="permResult.hasPermission" -->
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="NonRoutePaymentSubTabBar" />
						<section>
							<widgets>
								<include-screen name="NewNonRouteReceiptInner" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="NewNonRouteReceiptInner">
		<section>
			<actions>
				<entity-one entity-name="PartyNameView" value-field="currentOrganization"
					auto-field-map="false">
					<field-map field-name="partyId" from-field="organizationPartyId" />
				</entity-one>
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/DateRestriction.ftl" />
							</html>
						</platform-specific>
						<screenlet title="New  Receipt">
							<include-form name="NewDepotSalesReceipt"
								location="component://accounting/widget/PaymentForms.xml" />
						</screenlet>
					</widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="searchProduct">
		<section>
			<actions>
				<set field="titleProperty" value="Product Master" />
				<set field="tabButtonItem" value="searchProduct" />
				<set field="entityName" value="Product" />
				<set field="parameters.mainDecoratorLocation" value="${parameters.mainDecoratorLocation}" />
				<entity-condition entity-name="Uom" list="uomList">
					<condition-list combine="and">
						<condition-expr field-name="uomTypeId" operator="not-equals"
							value="CURRENCY_MEASURE" />
					</condition-list>
					<order-by field-name="description" />
				</entity-condition>
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/materialUpdateUomIds.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<platform-specific>
							<html>
								<html-template
									location="component://materialmgmt/webapp/materialmgmt/purchase/editMaterialDetails.ftl" />
							</html>
						</platform-specific>
										<section>
                                    	<condition>
                            				
                            					<if-has-permission permission="PRODUCT" action="_CREATE"/>
                            				
                           				 </condition> 
                                    		<widgets>
                                               <container style="button-bar">
                                                  <link target="CreateNewProduct" text="Create New Product" style="buttontext create h2"></link>		
                                               </container>
                                            </widgets>
                                    	</section>
						<screenlet title="Search-Options">
							<include-form location="component://depotsales/widget/DepotSalesForms.xml"
								name="findMaterial" />
						</screenlet>
						<screenlet title="Search-Results">
							<include-form location="component://depotsales/widget/DepotSalesForms.xml"
								name="listMaterial" />
						</screenlet>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="EditProductPricesDepot">
		<section>
			<actions>
				<set field="titleProperty" value="PageTitleEditProductPrices" />
				<set field="tabButtonItem" value="searchProduct" />
				<set field="labelTitleProperty" value="ProductPrices" />
				<set field="targetRequest" value="updateProductPriceDepot" />
				<set field="targetRequest2" value="createProductPriceDepot" />
				<set field="targetRequestHistory" value="ProductPriceHistoryDepot" />
				<set field="targetRequestDelete" value="deleteProductPriceDepot" />
				<set field="targetRequestUpdateTax" value="updateProductPriceDepot" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-screen name="EditProductPrices"
							location="component://product/widget/catalog/ProductInnerScreens.xml" />
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="ProductPriceHistoryDepot">
		<section>
			<actions>
				<set field="titleProperty" value="PageTitleProductPricesHistory" />
				<set field="tabButtonItem" value="searchProduct" />
				<set field="labelTitleProperty" value="PageTitleProductPricesHistory" />
				<set field="productId" from-field="parameters.productId" />
				<entity-one entity-name="Product" value-field="product" />
				<entity-and entity-name="ProductPriceChange" list="productPricesChanges">
					<field-map field-name="productId" from-field="productId" />
					<field-map field-name="productPriceTypeId" from-field="parameters.productPriceTypeId" />
					<field-map field-name="fromDate" from-field="parameters.fromDate" />
					<order-by field-name="fromDate" />
				</entity-and>

				<property-to-field field="defaultCurrencyUomId"
					resource="general" property="currency.uom.id.default" default="USD" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<link target="EditProductPrices" text="${uiLabelMap.CommonBack}"
							style="buttontext">
							<parameter param-name="productId" />
						</link>
						<screenlet title="${uiLabelMap.PageTitleProductPricesHistory}">
							<include-form name="ListProductPriceHistory"
								location="component://product/widget/catalog/ProductForms.xml" />
						</screenlet>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="FindPO">
		<section>
			<actions>
				<set field="titleProperty" value="Find Purchase Order" />
				<set field="tabButtonItem" value="FindPO" />
				<set field="tabButtonItem2" value="FindPO" />
				<set field="partyId" from-field="parameters.partyId" />
				<!-- <set field="ChannalType" value="MATERIAL_PUR_CHANNEL" />
				<set field="roleTypeId" value="BILL_TO_CUSTOMER" />
				<set field="parameters.salesChannelEnumId" value="MATERIAL_PUR_CHANNEL"></set>
				<set field="parameters.findPoFlag" value="Y" />
				<set field="parameters.orderTypeId" value="PURCHASE_ORDER" /> -->
				<set field="parameters.roleTypeId" from-field="roleTypeId" />
				<set field="parameters.noConditionFind" default-value="N" from-field="parameters.noConditionFind"></set>
				<set field="parameters.hideSearch" default-value="N" from-field="parameters.hideSearch"></set>
				<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="10" />
				<service service-name="performFind" result-map="result"
					result-map-list="listIt">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="OrderHeaderAndSequenceAndRoles" />
					<field-map field-name="orderBy" value="-orderDate" />
					<field-map field-name="viewIndex"  from-field="viewIndex"/>
					<field-map field-name="viewSize" from-field="viewSize"/>
				</service>
				<set field="targetRequest" value="FindPO" />
				

				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/POSearchFilter.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="FindPOSubTabBar" />
						<section>
							<widgets>
								<!-- <section>
                             		<condition>
                            			<if-has-permission permission="DEPOTSALES"  action="_CREATE_PO"/>
                            		</condition>
									<widgets>
										<link target="CreatePO" text="Create PO" style="buttontext" />
									</widgets>
								</section> -->
								<screenlet title="search-options">
									<include-form name="FindPurchaseOrder"
										location="component://depotsales/widget/DepotSalesForms.xml" />
								</screenlet>
								<platform-specific>
							       <html>
								      <html-template
									      location="component://depotsales/webapp/depotsales/depotsales/agencyAddressDetails.ftl" />
							          </html>
						        </platform-specific>
								<screenlet title="Search-results">
									<include-form name="listPurchaseOrders"
										location="component://depotsales/widget/DepotSalesForms.xml" />
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="CreatePO">
		<section>
			<actions>
				<set field="titleProperty" value="Find Purchase Order" />
				<set field="tabButtonItem" value="FindPO" />
				<set field="targetRequest" value="FindPO" />
				<!-- <set field="ChannalType" value="PROD_PRCHSE_CHANNEL"/> -->
				<set field="parameters.roleTypeId" value="SUPPLIER" />
				<set field="changeFlag" value="PurchaseOrder" />
				<set field="subDivDeptFlag" value="PurchaseOrder" />
				<set field="parameters.changeFlag" value="PurchaseOrder" />
				<set field="purchaseTypeFlag" from-field="parameters.purchaseTypeFlag" />
				<set field="parameters.partyStatusId" value="PARTY_ENABLED" />
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enablePartyAutoComplete.groovy"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/orgnigationDept.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PurchaseEntryFormNew.groovy" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/purchaseOrderDetailsEntryDepot.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<label style="h1">New PO</label>
								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/CreatePO.ftl" />
									</html>
								</platform-specific>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="EditMaterialPO">
		<section>
			<actions>
				<set field="titleProperty" value="Find Purchase Order" />
				<set field="tabButtonItem" value="FindMaterialPO" />
				<set field="targetRequest" value="FindMaterialPO" />
				<set field="parameters.roleTypeId" value="MAINSTORE_VENDOR" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="changeFlag" value="PurchaseOrder" />
				<set field="parameters.POId" from-field="orderId" />
				<set field="parameters.changeFlag" value="PurchaseOrder" />
				<script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enablePartyAutoComplete.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/orgnigationDept.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PurchaseEntryFormNew.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/EditPOEntryForm.groovy" />
				<set field="purchaseTypeFlag" from-field="parameters.purchaseTypeFlag" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<label style="h1">Order Id : "${orderId}"</label>

								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/CreatePO.ftl" />
									</html>
								</platform-specific>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="DepotSalesInvoice">
		<section>
			<actions>
				<set field="titleProperty" value="Find Sales Invoices" />
				<set field="filterByDate" value="true" />
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/sequenceFilter.groovy"/>
				<service service-name="performFind" result-map="result">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="Invoice" />
					<field-map field-name="orderBy" value="createdStamp DESC" />
				</service>
				<set field="invoices" from-field="result.listIt" />
				<set field="tabButtonItem" value="salesInvoice" />
				<set field="tabButtonItem5" value="${parameters.subTabButtonValue}" />
				<set field="tabButtonItem2" value="${parameters.actionSubTabButtonValue}" />
				<set field="invoiceTypeId" value="${parameters.invoiceTypeId}" />
				<script
					location="component://accounting/webapp/ap/WEB-INF/actions/invoices/voucherPaymentMethod.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<!-- <include-menu name="InvoiceTypesTabBar" location="component://depotsales/widget/DepotSalesMenus.xml"/> -->
						<!-- <include-menu name="APInvoiceTabBar" location="component://depotsales/widget/DepotSalesMenus.xml" 
							/> -->
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="menu-bar">
										<container style="button-bar">
											<!-- <link target="newInvoice" text="${uiLabelMap.CommonCreateNew}" 
												style="buttontext create"/> --> <!-- NewPurchaseInvoice -->
											<!-- <link target="newInvoice" text="New Cash Voucher" style="buttontext 
												create"><parameter param-name="prefPaymentMethodTypeId" value="CASH"/></link> 
												<link target="newInvoice" text="New Bank Voucher" style="buttontext create"><parameter 
												param-name="prefPaymentMethodTypeId" value="BANK"/></link> <link target="partyFinanHistory" 
												text="Party Financial History" style="buttontext create"></link> -->
											<!-- <link target="CreateAPInvoice" text="Create Cash Voucher" 
												style="buttontext create" > <parameter param-name="prefPaymentMethodTypeId" 
												value="CASH"></parameter> <parameter param-name="subTabButtonValue" value="${parameters.subTabButtonValue}"></parameter> 
												<parameter param-name="invoiceTypeId" value="${parameters.invoiceTypeId}"></parameter> 
												<parameter param-name="showCreateButton" value="Y"></parameter> </link> <link 
												target="CreateAPInvoice" text="Create Bank Voucher" style="buttontext create" 
												> <parameter param-name="prefPaymentMethodTypeId" value="BANK"></parameter> 
												<parameter param-name="subTabButtonValue" value="${parameters.subTabButtonValue}"></parameter> 
												<parameter param-name="invoiceTypeId" value="${parameters.invoiceTypeId}"></parameter> 
												<parameter param-name="showCreateButton" value="Y"></parameter> </link> -->
											<link target="partyFinanHistory" text="Party Financial History"
												style="buttontext create"></link>
										</container>
									</decorator-section>
									<decorator-section name="search-options">
										<include-form name="FindSalesApInvoices"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="Invoices List">
											<section>
												<condition>
													<not>
														<if-empty field="invoices" />
													</not>
												</condition>
												<widgets>
													<link text="${uiLabelMap.AccountingExportAsCsv}"
														style="buttontext" target="InvoiceSearchResultsCsv.csv">
														<parameter param-name="parentTypeId" from-field="parameters.parentTypeId" />
														<parameter param-name="invoiceId_op" from-field="parameters.invoiceId_op" />
														<parameter param-name="invoiceId" from-field="parameters.invoiceId" />
														<parameter param-name="invoiceId_ic" from-field="parameters.invoiceId_ic" />
														<parameter param-name="description_op"
															from-field="parameters.description_op" />
														<parameter param-name="description" from-field="parameters.description" />
														<parameter param-name="description_ic"
															from-field="parameters.description_ic" />
														<parameter param-name="invoiceTypeId"
															from-field="parameters.invoiceTypeId" />
														<parameter param-name="statusId" from-field="parameters.statusId" />
														<parameter param-name="partyIdFrom" from-field="parameters.partyIdFrom" />
														<parameter param-name="partyId" from-field="parameters.partyId" />
														<parameter param-name="invoiceDate_fld0_value"
															from-field="parameters.invoiceDate_fld0_value" />
														<parameter param-name="invoiceDate_fld0_op"
															from-field="parameters.invoiceDate_fld0_op" />
														<parameter param-name="invoiceDate_fld1_value"
															from-field="parameters.invoiceDate_fld1_value" />
														<parameter param-name="invoiceDate_fld1_op"
															from-field="parameters.invoiceDate_fld1_op" />
														<parameter param-name="dueDate_fld0_value"
															from-field="parameters.dueDate_fld0_value" />
														<parameter param-name="dueDate_fld0_op"
															from-field="parameters.dueDate_fld0_op" />
														<parameter param-name="dueDate_fld1_value"
															from-field="parameters.dueDate_fld1_value" />
														<parameter param-name="dueDate_fld1_op"
															from-field="parameters.dueDate_fld1_op" />
													</link>
												</widgets>
											</section>
											<platform-specific>
												<html>
													<html-template
														location="component://accounting/webapp/accounting/invoice/massPayments.ftl" />
												</html>
											</platform-specific>
											<platform-specific>
												<html>
													<html-template
														location="component://depotsales/webapp/depotsales/depotsales/ListSearchInvoicesDepotSaleList.ftl" />
												</html>
											</platform-specific>
										</screenlet>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	
	<screen name="DepotSalesInvoiceView">
		<section>
			<actions>
				<set field="titleProperty" value="Find Sales Invoices" />
				<set field="filterByDate" value="true" />
				<service service-name="performFind" result-map="result">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="InvoiceAndType" />
					<field-map field-name="orderBy" value="invoiceDate DESC" />
				</service>
				<set field="invoices" from-field="result.listIt" />
				<set field="tabButtonItem" value="salesInvoiceView" />
				<set field="tabButtonItem5" value="" />
				<set field="tabButtonItem2" value="" />
				<set field="invoiceTypeId" value="SALES_INVOICE" />
				<script
					location="component://accounting/webapp/ap/WEB-INF/actions/invoices/voucherPaymentMethod.groovy" />
			</actions>
			<widgets>
			
			<decorator-screen name="DepotTransCommonDecorator" location="${parameters.mainDecoratorLocation}">
    					<decorator-section name="body">
    						
						<!-- <include-menu name="InvoiceTypesTabBar" location="component://depotsales/widget/DepotSalesMenus.xml"/> -->
						<!-- <include-menu name="APInvoiceTabBar" location="component://depotsales/widget/DepotSalesMenus.xml" 
							/> -->
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="menu-bar">
										<container style="button-bar">
											<!-- <link target="newInvoice" text="${uiLabelMap.CommonCreateNew}" 
												style="buttontext create"/> --> <!-- NewPurchaseInvoice -->
											<!-- <link target="newInvoice" text="New Cash Voucher" style="buttontext 
												create"><parameter param-name="prefPaymentMethodTypeId" value="CASH"/></link> 
												<link target="newInvoice" text="New Bank Voucher" style="buttontext create"><parameter 
												param-name="prefPaymentMethodTypeId" value="BANK"/></link> <link target="partyFinanHistory" 
												text="Party Financial History" style="buttontext create"></link> -->
											<!-- <link target="CreateAPInvoice" text="Create Cash Voucher" 
												style="buttontext create" > <parameter param-name="prefPaymentMethodTypeId" 
												value="CASH"></parameter> <parameter param-name="subTabButtonValue" value="${parameters.subTabButtonValue}"></parameter> 
												<parameter param-name="invoiceTypeId" value="${parameters.invoiceTypeId}"></parameter> 
												<parameter param-name="showCreateButton" value="Y"></parameter> </link> <link 
												target="CreateAPInvoice" text="Create Bank Voucher" style="buttontext create" 
												> <parameter param-name="prefPaymentMethodTypeId" value="BANK"></parameter> 
												<parameter param-name="subTabButtonValue" value="${parameters.subTabButtonValue}"></parameter> 
												<parameter param-name="invoiceTypeId" value="${parameters.invoiceTypeId}"></parameter> 
												<parameter param-name="showCreateButton" value="Y"></parameter> </link> -->
											<link target="partyFinanHistory" text="Party Financial History"
												style="buttontext create"></link>
										</container>
									</decorator-section>
									<decorator-section name="search-options">
										<include-form name="FindSalesApInvoicesForDepot"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="Invoices List">
											<section>
												<condition>
													<not>
														<if-empty field="invoices" />
													</not>
												</condition>
												<widgets>
													<link text="${uiLabelMap.AccountingExportAsCsv}"
														style="buttontext" target="InvoiceSearchResultsCsv.csv">
														<parameter param-name="parentTypeId" from-field="parameters.parentTypeId" />
														<parameter param-name="invoiceId_op" from-field="parameters.invoiceId_op" />
														<parameter param-name="invoiceId" from-field="parameters.invoiceId" />
														<parameter param-name="invoiceId_ic" from-field="parameters.invoiceId_ic" />
														<parameter param-name="description_op"
															from-field="parameters.description_op" />
														<parameter param-name="description" from-field="parameters.description" />
														<parameter param-name="description_ic"
															from-field="parameters.description_ic" />
														<parameter param-name="invoiceTypeId"
															from-field="parameters.invoiceTypeId" />
														<parameter param-name="statusId" from-field="parameters.statusId" />
														<parameter param-name="partyIdFrom" from-field="parameters.partyIdFrom" />
														<parameter param-name="partyId" from-field="parameters.partyId" />
														<parameter param-name="invoiceDate_fld0_value"
															from-field="parameters.invoiceDate_fld0_value" />
														<parameter param-name="invoiceDate_fld0_op"
															from-field="parameters.invoiceDate_fld0_op" />
														<parameter param-name="invoiceDate_fld1_value"
															from-field="parameters.invoiceDate_fld1_value" />
														<parameter param-name="invoiceDate_fld1_op"
															from-field="parameters.invoiceDate_fld1_op" />
														<parameter param-name="dueDate_fld0_value"
															from-field="parameters.dueDate_fld0_value" />
														<parameter param-name="dueDate_fld0_op"
															from-field="parameters.dueDate_fld0_op" />
														<parameter param-name="dueDate_fld1_value"
															from-field="parameters.dueDate_fld1_value" />
														<parameter param-name="dueDate_fld1_op"
															from-field="parameters.dueDate_fld1_op" />
													</link>
												</widgets>
											</section>
											<platform-specific>
												<html>
													<html-template
														location="component://accounting/webapp/accounting/invoice/massPayments.ftl" />
												</html>
											</platform-specific>
											<platform-specific>
												<html>
													<html-template
														location="component://depotsales/webapp/depotsales/depotsales/ListSearchInvoicesDepotSaleListView.ftl" />
												</html>
											</platform-specific>
										</screenlet>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	
	
	<screen name="DepotPurchaseInvoice">
		<section>
			<actions>
				<set field="titleProperty" value="Find Purchase Invoices" />
				<set field="filterByDate" value="true" />
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/sequenceFilter.groovy"/>
				<service service-name="performFind" result-map="result">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="Invoice" />
					<field-map field-name="orderBy" value="createdStamp DESC" />
				</service>
				<set field="invoices" from-field="result.listIt" />
				<set field="tabButtonItem" value="purchaseinvoice" />
				<set field="tabButtonItem5" value="${parameters.subTabButtonValue}" />
				<set field="tabButtonItem2" value="${parameters.actionSubTabButtonValue}" />
				<set field="invoiceTypeId" value="${parameters.invoiceTypeId}" />
				<script
					location="component://accounting/webapp/ap/WEB-INF/actions/invoices/voucherPaymentMethod.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<!-- <include-menu name="InvoiceTypesTabBar" location="component://depotsales/widget/DepotSalesMenus.xml"/> -->
						<!-- <include-menu name="APInvoiceTabBar" location="component://depotsales/widget/DepotSalesMenus.xml" 
							/> -->
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="menu-bar">
										<container style="button-bar">
											<!-- <link target="newInvoice" text="${uiLabelMap.CommonCreateNew}" 
												style="buttontext create"/> --> <!-- NewPurchaseInvoice -->
											<!-- <link target="newInvoice" text="New Cash Voucher" style="buttontext 
												create"><parameter param-name="prefPaymentMethodTypeId" value="CASH"/></link> 
												<link target="newInvoice" text="New Bank Voucher" style="buttontext create"><parameter 
												param-name="prefPaymentMethodTypeId" value="BANK"/></link> <link target="partyFinanHistory" 
												text="Party Financial History" style="buttontext create"></link> -->
											<!-- <link target="CreateAPInvoice" text="Create Cash Voucher" 
												style="buttontext create" > <parameter param-name="prefPaymentMethodTypeId" 
												value="CASH"></parameter> <parameter param-name="subTabButtonValue" value="${parameters.subTabButtonValue}"></parameter> 
												<parameter param-name="invoiceTypeId" value="${parameters.invoiceTypeId}"></parameter> 
												<parameter param-name="showCreateButton" value="Y"></parameter> </link> <link 
												target="CreateAPInvoice" text="Create Bank Voucher" style="buttontext create" 
												> <parameter param-name="prefPaymentMethodTypeId" value="BANK"></parameter> 
												<parameter param-name="subTabButtonValue" value="${parameters.subTabButtonValue}"></parameter> 
												<parameter param-name="invoiceTypeId" value="${parameters.invoiceTypeId}"></parameter> 
												<parameter param-name="showCreateButton" value="Y"></parameter> </link> -->
											<link target="partyFinanHistory" text="Party Financial History"
												style="buttontext create"></link>
										</container>
									</decorator-section>
									<decorator-section name="search-options">
										<include-form name="FindApInvoices"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="Invoices List">
											<section>
												<condition>
													<not>
														<if-empty field="invoices" />
													</not>
												</condition>
												<widgets>
													<link text="${uiLabelMap.AccountingExportAsCsv}"
														style="buttontext" target="InvoiceSearchResultsCsv.csv">
														<parameter param-name="parentTypeId" from-field="parameters.parentTypeId" />
														<parameter param-name="invoiceId_op" from-field="parameters.invoiceId_op" />
														<parameter param-name="invoiceId" from-field="parameters.invoiceId" />
														<parameter param-name="invoiceId_ic" from-field="parameters.invoiceId_ic" />
														<parameter param-name="description_op"
															from-field="parameters.description_op" />
														<parameter param-name="description" from-field="parameters.description" />
														<parameter param-name="description_ic"
															from-field="parameters.description_ic" />
														<parameter param-name="invoiceTypeId"
															from-field="parameters.invoiceTypeId" />
														<parameter param-name="statusId" from-field="parameters.statusId" />
														<parameter param-name="partyIdFrom" from-field="parameters.partyIdFrom" />
														<parameter param-name="partyId" from-field="parameters.partyId" />
														<parameter param-name="invoiceDate_fld0_value"
															from-field="parameters.invoiceDate_fld0_value" />
														<parameter param-name="invoiceDate_fld0_op"
															from-field="parameters.invoiceDate_fld0_op" />
														<parameter param-name="invoiceDate_fld1_value"
															from-field="parameters.invoiceDate_fld1_value" />
														<parameter param-name="invoiceDate_fld1_op"
															from-field="parameters.invoiceDate_fld1_op" />
														<parameter param-name="dueDate_fld0_value"
															from-field="parameters.dueDate_fld0_value" />
														<parameter param-name="dueDate_fld0_op"
															from-field="parameters.dueDate_fld0_op" />
														<parameter param-name="dueDate_fld1_value"
															from-field="parameters.dueDate_fld1_value" />
														<parameter param-name="dueDate_fld1_op"
															from-field="parameters.dueDate_fld1_op" />
													</link>
												</widgets>
											</section>
											<platform-specific>
												<html>
													<html-template
														location="component://accounting/webapp/accounting/invoice/massPayments.ftl" />
												</html>
											</platform-specific>
											<platform-specific>
												<html>
													<html-template
														location="component://depotsales/webapp/depotsales/depotsales/ListSearchInvoicesDepotSale.ftl" />
												</html>
											</platform-specific>
										</screenlet>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	
	<screen name="APInvoiceOverview">
		<section>
			<actions>
				<property-map resource="PartyUiLabels" map-name="uiLabelMap"
					global="true" />
				<set field="titleProperty" value="PageTitleInvoiceOverview" />
				<set field="tabButtonItem" value="invoiceOverView" />
				<!-- <set field="tabButtonItem5" value="${parameters.subTabButtonValue}" />
				<set field="tabButtonItem2" value="invoiceOverview" /> -->
				<set field="invoiceTypeId" value="${parameters.invoiceTypeId}" />
				<set field="invoiceId" from-field="parameters.invoiceId" />
				<set field="catflag" value="Ap" global="true" />
				<entity-one entity-name="Invoice" value-field="invoice" />
				<entity-and entity-name="InvoiceRole" list="invoiceRoles">
					<field-map from-field="parameters.invoiceId" field-name="invoiceId" />
					<order-by field-name="partyId" />
				</entity-and>
				<entity-and entity-name="InvoiceStatus" list="invoiceStatus">
					<field-map from-field="parameters.invoiceId" field-name="invoiceId" />
					<order-by field-name="statusDate" />
				</entity-and>
				<entity-and entity-name="InvoiceTerm" list="invoiceTerms">
					<field-map from-field="parameters.invoiceId" field-name="invoiceId" />
					<order-by field-name="invoiceTermId" />
				</entity-and>
				<entity-and entity-name="TimeEntry" list="timeEntries">
					<field-map from-field="parameters.invoiceId" field-name="invoiceId" />
					<order-by field-name="invoiceItemSeqId" />
				</entity-and>
				<!-- <entity-and entity-name="PaymentApplication" list="paymentApplications"> 
					<field-map from-field="parameters.invoiceId" field-name="invoiceId" /> <order-by 
					field-name="paymentApplicationId" /> </entity-and> -->
				<entity-and entity-name="PaymentAndApplication" list="payment">
					<field-map from-field="parameters.invoiceId" field-name="invoiceId" />
					<order-by field-name="paymentId" />
				</entity-and>
				<script
					location="component://accounting/webapp/accounting/WEB-INF/actions/invoice/CreateApplicationList.groovy" />
				<script
					location="component://accounting/webapp/accounting/WEB-INF/actions/invoice/OrderListInvoiceItem.groovy" />
				<set field="invoiceAmount"
					value="${bsh:org.ofbiz.accounting.invoice.InvoiceWorker.getInvoiceTotal(invoice)}"
					type="BigDecimal" />
				<set field="notAppliedAmount"
					value="${bsh:org.ofbiz.accounting.invoice.InvoiceWorker.getInvoiceNotApplied(invoice)}"
					type="BigDecimal" />
				<set field="appliedAmount"
					value="${bsh:org.ofbiz.accounting.invoice.InvoiceWorker.getInvoiceApplied(invoice)}"
					type="BigDecimal" />
				<!-- <entity-condition entity-name="AcctgTransAndEntries"
					list="AcctgTransAndEntries">
					<condition-expr field-name="invoiceId" operator="equals"
						from-field="invoiceId" />
					<order-by field-name="acctgTransId" />
				</entity-condition> -->
				<service service-name="getAcctTransEnries" result-map="AcctgTransAndEntries" auto-field-map="true"/>
			    <set field="AcctgTransAndEntries" type="List" from-field="AcctgTransAndEntries.AcctgTransAndEntries"/>
				<service service-name="acctgInvoicePermissionCheck"
					result-map="permResult">
					<field-map field-name="mainAction" value="ARINVOICE_EDIT" />
				</service>
				<set field="hasArInvoiceEditPermission" from-field="permResult.hasPermission" />
				<service service-name="acctgInvoicePermissionCheck"
					result-map="permResult">
					<field-map field-name="mainAction" value="INVOICE_APPROVE" />
				</service>
				<set field="hasApproveInvoiceEditPermission" from-field="permResult.hasPermission" />
				<service service-name="acctgInvoicePermissionCheck"
					result-map="permResult">
					<field-map field-name="mainAction" value="APINVOICE_EDIT" />
				</service>
				<set field="hasApInvoiceEditPermission" from-field="permResult.hasPermission" />
				<set field="localDispatcherName" value="${parameters.localDispatcherName}" />
				<set field="requestUri" value="${parameters.targetRequestUri}" />
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<section>
							<widgets>
								<platform-specific>
									<html>
										<html-template
											location="component://accounting/webapp/accounting/invoice/setInvoiceStatus.ftl" />
									</html>
								</platform-specific>
							</widgets>
						</section>
						<!-- <include-menu name="InvoiceTypesTabBar" location="component://accounting/widget/AccountingMenus.xml"/> -->
						<!-- <include-menu name="APInvoiceTabBar" location="component://accounting/widget/AccountingMenus.xml" 
							/> -->
						<!-- <include-menu name="CreateAPInvoiceSubTabBar"
							location="component://accounting/widget/AccountingMenus.xml" /> -->
						<container style="h1">
							<label>For: ${invoice.description} [${invoice.invoiceId}]</label>
						</container>
						<section>
							<condition>
								<and>
									<if-compare field="invoice.statusId" operator="equals"
										value="INVOICE_IN_PROCESS" />
									<if-compare field="invoice.invoiceTypeId" operator="equals"
										value="PETTYCASH_INVOICE" />
									<if-compare field="requestUri" operator="equals"
										value="/createInvoice" />
								</and>
							</condition>
							<actions>
								<script
									location="component://accounting/webapp/accounting/WEB-INF/actions/invoice/GetInvoiceItemTypes.groovy" />
							</actions>
							<widgets>
								<screenlet title="${uiLabelMap.AccountingInvoiceItems}">
									<include-form name="EditInvoiceItems"
										location="component://accounting/widget/InvoiceForms.xml" />
								</screenlet>
								<section>
									<condition>
										<and>
											<if-compare field="invoice.invoiceTypeId"
												operator="not-equals" value="PAYROL_INVOICE" />
											<or>
												<if-compare operator="equals" value="true"
													field="hasArInvoiceEditPermission" />
												<if-compare operator="equals" value="true"
													field="hasApInvoiceEditPermission" />
											</or>
										</and>
									</condition>
									<widgets>
										<screenlet title="${uiLabelMap.AccountingInvoiceItemAdd}">
											<section>
												<widgets>
													<include-form name="EditInvoiceItem"
														location="component://accounting/widget/InvoiceForms.xml" />
												</widgets>
											</section>
										</screenlet>
									</widgets>
								</section>
							</widgets>
							<fail-widgets>
								<section>
									<condition>
										<and>
											<if-compare field="invoice.statusId" operator="equals"
												value="INVOICE_IN_PROCESS" />
											<or>
												<if-compare operator="equals" value="true"
													field="hasArInvoiceEditPermission" />
												<if-compare operator="equals" value="true"
													field="hasApInvoiceEditPermission" />
											</or>
										</and>
									</condition>
									<widgets>
										<screenlet title="${uiLabelMap.AccountingInvoiceHeader}">
											<link target="editInvoice" text="${uiLabelMap.CommonUpdate}"
												style="buttontext">
												<parameter param-name="invoiceId" />
											</link>
											<include-form name="invoiceHeader"
												location="component://accounting/widget/InvoiceForms.xml" />
										</screenlet>
										<container style="lefthalf">
											<screenlet title="${uiLabelMap.CommonStatus}"
												navigation-form-name="ListInvoiceStatus">
												<include-form name="ListInvoiceStatus"
													location="component://accounting/widget/InvoiceForms.xml" />
											</screenlet>
											<!-- <screenlet title="${uiLabelMap.AccountingAppliedPayments} 
												${appliedAmount?currency(${invoice.currencyUomId})} ${uiLabelMap.AccountingOpenPayments} 
												${notAppliedAmount?currency(${invoice.currencyUomId})}" navigation-form-name="ListInvoiceApplications"> 
												<link target="editInvoiceApplications" text="${uiLabelMap.CommonUpdate}" 
												style="buttontext"> <parameter param-name="invoiceId" /> </link> <include-form 
												name="ListInvoiceApplications" location="component://accounting/widget/InvoiceForms.xml" 
												/> </screenlet> -->
										</container>
										<container style="righthalf">
											<screenlet
												title="${uiLabelMap.AccountingAppliedPayments} ${appliedAmount?currency(${invoice.currencyUomId})} ${uiLabelMap.AccountingOpenPayments} ${notAppliedAmount?currency(${invoice.currencyUomId})}"
												navigation-form-name="ListInvoiceApplications">
												<link target="editInvoiceApplications" text="${uiLabelMap.CommonUpdate}"
													style="buttontext">
													<parameter param-name="invoiceId" />
												</link>
												<include-form name="ListInvoiceApplications"
													location="component://accounting/widget/InvoiceForms.xml" />
											</screenlet>
											<!-- <screenlet title="${uiLabelMap.AccountingInvoiceRoles}" navigation-form-name="invoiceRoles"> 
												<container> <link target="invoiceRoles" text="${uiLabelMap.CommonUpdate}" 
												style="buttontext"> <parameter param-name="invoiceId" /> </link> </container> 
												<include-form name="invoiceRoles" location="component://accounting/widget/InvoiceForms.xml" 
												/> </screenlet> <screenlet title="${uiLabelMap.PartyTerms}"> <include-form 
												name="ListInvoiceTerms" location="component://accounting/widget/InvoiceForms.xml" 
												/> <include-form name="ListInvoicePaymentInfo" location="component://accounting/widget/InvoiceForms.xml" 
												/> </screenlet> -->
										</container>
										<container style="clear" />
										<screenlet title="${uiLabelMap.AccountingInvoiceItems}"
											navigation-form-name="invoiceItems">
											<link target="listInvoiceItems" text="${uiLabelMap.CommonUpdate}"
												style="buttontext">
												<parameter param-name="invoiceId" />
											</link>
											<include-form name="invoiceItems"
												location="component://accounting/widget/InvoiceForms.xml" />
										</screenlet>
										<section>
											<condition>
												<not>
													<if-empty field="timeEntries" />
												</not>
											</condition>
											<widgets>
												<screenlet title="${uiLabelMap.AccountingInvoiceTimeEntries}"
													navigation-form-name="ListTimeEntries">
													<link target="editInvoiceTimeEntries" text="${uiLabelMap.CommonUpdate}"
														style="buttontext">
														<parameter param-name="invoiceId" />
													</link>
													<include-form name="ListTimeEntries"
														location="component://accounting/widget/InvoiceForms.xml" />
												</screenlet>
											</widgets>
										</section>
										<screenlet title="${uiLabelMap.AccountingTransactions}"
											navigation-form-name="AcctgTransAndEntries">
											<include-form name="AcctgTransAndEntries"
												location="component://accounting/widget/InvoiceForms.xml" />
										</screenlet>
									</widgets>
									<fail-widgets>
										<screenlet title="${uiLabelMap.AccountingInvoiceHeader}">
											<include-form name="invoiceHeader"
												location="component://accounting/widget/InvoiceForms.xml" />
										</screenlet>
										<container style="lefthalf">
											<screenlet title="${uiLabelMap.CommonStatus}"
												navigation-form-name="ListInvoiceStatus">
												<include-form name="ListInvoiceStatus"
													location="component://accounting/widget/InvoiceForms.xml" />
											</screenlet>
											<screenlet
												title="${uiLabelMap.AccountingAppliedPayments} ${appliedAmount?currency(${invoice.currencyUomId})} ${uiLabelMap.AccountingOpenPayments} ${notAppliedAmount?currency(${invoice.currencyUomId})}"
												navigation-form-name="ListInvoiceApplications">
												<include-form name="ListInvoiceApplications"
													location="component://accounting/widget/InvoiceForms.xml" />
											</screenlet>
										</container>
										<container style="righthalf">
											<screenlet title="${uiLabelMap.AccountingInvoiceRoles}"
												navigation-form-name="invoiceRoles">
												<include-form name="invoiceRoles"
													location="component://accounting/widget/InvoiceForms.xml" />
											</screenlet>
											<screenlet title="${uiLabelMap.PartyTerms}">
												<include-form name="ListInvoiceTerms"
													location="component://accounting/widget/InvoiceForms.xml" />
												<include-form name="ListInvoicePaymentInfo"
													location="component://accounting/widget/InvoiceForms.xml" />
											</screenlet>
										</container>
										<container style="clear" />
										<screenlet title="${uiLabelMap.AccountingInvoiceItems}"
											navigation-form-name="invoiceItems">
											<include-form name="invoiceItems"
												location="component://accounting/widget/InvoiceForms.xml" />
										</screenlet>
										<section>
											<condition>
												<not>
													<if-empty field="timeEntries" />
												</not>
											</condition>
											<widgets>
												<screenlet title="${uiLabelMap.AccountingInvoiceTimeEntries}"
													navigation-form-name="ListTimeEntries">
													<include-form name="ListTimeEntries"
														location="component://accounting/widget/InvoiceForms.xml" />
												</screenlet>
											</widgets>
										</section>
										<screenlet title="${uiLabelMap.AccountingTransactions}"
											navigation-form-name="AcctgTransAndEntries">
											<include-form name="AcctgTransAndEntries"
												location="component://accounting/widget/InvoiceForms.xml" />
										</screenlet>
									</fail-widgets>
								</section>
							</fail-widgets>
						</section>

					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="PartyFinHistory">
		<section>
			<actions>
				<set field="tabButtonItem" value="purchaseinvoice" />
				<set field="parameters.hideSearch" value="${parameters.hideSearch}"></set>
				<set field="parameters.noConditionFind" value="${parameters.noConditionFind}"></set>
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<container>
							<label style="h1">Party Financial History</label>
						</container>
						<screenlet title="Party Search">
							<include-form name="findPartyFinHistory"
								location="component://accounting/widget/ap/forms/InvoiceForms.xml" />
						</screenlet>
						<include-screen name="PartyFinanHistory"
							location="component://accounting/widget/ap/InvoiceScreens.xml" />
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>

	<screen name="FinddepotPayments">
		<section>
			<actions>
				<set field="titleProperty" value="Find Payments" />
				<set field="tabButtonItem" value="depotpayments" />
				<set field="tabButtonItem2" value="find" />
				<service service-name="acctgInvoicePermissionCheck"
					result-map="permResult">
					<field-map field-name="mainAction" value="PAYMENT_EDIT" />
				</service>
				<set field="hasPaymentEditPermission" from-field="permResult.hasPermission" />
				<service service-name="performFind" result-map="result">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="PaymentAndType" />
					<field-map field-name="orderBy" value="effectiveDate DESC" />
					<field-map field-name="viewIndex" from-field="viewIndex" />
					<field-map field-name="viewSize" from-field="viewSize" />
				</service>
				<set field="listIt" from-field="result.listIt" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="purchasePaymentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<!-- <decorator-section name="menu-bar"> <section> <condition> <if-compare 
										operator="equals" value="true" field="hasPaymentEditPermission"/> </condition> 
										<widgets> <container style="button-bar"> <link target="newPayment" text="${uiLabelMap.CommonCreateNew}" 
										style="buttontext create"/> </container> </widgets> </section> </decorator-section> -->
									<decorator-section name="search-options">
										<include-form name="FindDepotPayments"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<link target="PaymentSearchResultsCsv.csv" text="Export As Csv"
											style="buttontext">
											<parameter param-name="paymentId" from-field="parameters.paymentId" />
											<parameter param-name="paymentId_op" from-field="parameters.paymentId_op" />
											<parameter param-name="paymentId_ic" from-field="parameters.paymentId_ic" />
											<parameter param-name="parentTypeId" value="DISBURSEMENT" />
											<parameter param-name="facilityId" from-field="parameters.facilityId" />
											<parameter param-name="facilityId_op" from-field="parameters.facilityId_op" />
											<parameter param-name="facilityId_ic" from-field="parameters.facilityId_ic" />
											<parameter param-name="comments" from-field="parameters.comments" />
											<parameter param-name="comments_op" from-field="parameters.comments_op" />
											<parameter param-name="comments_ic" from-field="parameters.comments_ic" />

											<parameter param-name="paymentRefNum" from-field="paymentRefNum.comments" />
											<parameter param-name="paymentRefNum_op"
												from-field="parameters.paymentRefNum_op" />
											<parameter param-name="paymentRefNum_ic"
												from-field="parameters.paymentRefNum_ic" />
											<parameter param-name="paymentDate_fld0_value"
												from-field="parameters.paymentDate_fld0_value" />
											<parameter param-name="paymentDate_fld0_op"
												from-field="parameters.paymentDate_fld0_op" />
											<parameter param-name="paymentDate_fld1_value"
												from-field="parameters.paymentDate_fld1_value" />
											<parameter param-name="paymentDate_fld1_op"
												from-field="parameters.paymentDate_fld1_op" />

											<parameter param-name="paymentMethodTypeId"
												from-field="parameters.paymentMethodTypeId" />
											<parameter param-name="paymentTypeId" from-field="parameters.paymentTypeId" />
											<parameter param-name="paymentMethodTypeId"
												from-field="parameters.paymentMethodTypeId" />
											<parameter param-name="paymentTypeId" from-field="parameters.paymentTypeId" />
											<parameter param-name="statusId" from-field="parameters.statusId" />
											<parameter param-name="partyIdFrom" from-field="parameters.partyIdFrom" />
											<parameter param-name="partyIdTo" from-field="parameters.partyIdTo" />
											<parameter param-name="amount" from-field="parameters.amount" />
											<parameter param-name="statusId" from-field="parameters.statusId" />
											<parameter param-name="partyIdFrom" from-field="parameters.partyIdFrom" />
											<parameter param-name="noConditionFind" value="Y" />
										</link>
										<include-form name="ListPayments"
											location="component://accounting/widget/PaymentForms.xml" />
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>



	<!-- <screen name="StockVariance"> <section> <actions> <set field="titleProperty" 
		value="Stock Variance"/> <set field="tabButtonItem" value="FindInventory"/> 
		<set field="tabButtonItem2" value="StockVariance"/> <script location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/PhysicalInventoryVariance.groovy"/> 
		</actions> <widgets> <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}"> 
		<decorator-section name="body"> <include-menu location="component://depotsales/widget/DepotSalesMenus.xml" 
		name="InventoryTabBar"/> <screenlet title="Stock Variance"> <section> <widgets> 
		<include-form name="createVariance" location="component://depotsales/widget/DepotSalesForms.xml"/> 
		<include-form name="ViewInventoryAndVariance" location="component://depotsales/widget/DepotSalesForms.xml"/> 
		</widgets> </section> </screenlet> </decorator-section> </decorator-screen> 
		</widgets> </section> </screen> -->
	<screen name="FindFacilityPhysicalInventoryDepot">
		<section>
			<actions>
				<set field="titleProperty" value="Find Shipmet Inventory Items " />
				<set field="headerItem" value="facility" />
				<set field="tabButtonItem" value="PhysicalInventory" />
				<set field="parameters.facilityId" from-field="parameters.facilityId"></set>
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/FindFacilityPhysicalInventory.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<screenlet title="Find Shipmet Inventory Items">
							<include-form name="FindPhysicalInventoryDepot"
								location="component://depotsales/widget/DepotSalesForms.xml" />
						</screenlet>
						<screenlet title="List Of Inventory Items">
							<include-form name="ListPhysicalInventoryDepot"
								location="component://depotsales/widget/DepotSalesForms.xml" />
						</screenlet>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="FindSalesReturns">
		<section>
			<actions>
				<set field="titleProperty" value="Sales Returns" />
				<set field="tabButtonItem" value="SalesReturns" />
				<set field="tabButtonItem2" value="findSalesReturn"/>
				<property-map resource="OrderUiLabels" map-name="uiLabelMap"
					global="true" />
				<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="20" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="SalesReturnSubTabBar" />
						<screenlet title="${uiLabelMap.PageTitleFindReturn}">
							<!-- <container>
								<link style="buttontext" target="salesReturnHeaderItems"
									text="${uiLabelMap.OrderCreateNewReturn}" />
							</container> -->
							<include-form name="FindSalesReturns"
								location="component://depotsales/widget/DepotSalesForms.xml" />


						</screenlet>
						<screenlet title="List Returns">
							<include-form name="ListSalesReturns"
								location="component://depotsales/widget/DepotSalesForms.xml" />
						</screenlet>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="SalesReturnItems">
		<section>
			<actions>
				<set field="titleProperty" value="PageTitleReturnItems" />
				<!-- <set field="headerItem" value="return"/> -->
				<set field="tabButtonItem" value="SalesReturns" />
				<set field="tabButtonItem2" value="createSalesReturn" />
				<set field="returnId" from-field="parameters.returnId" />
				<set field="screenFlag" value="returns" />
				<set field="changeFlag" value="DepotSales" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>
				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="defaultEffectiveDateTime"
					value="${bsh:org.ofbiz.base.util.UtilDateTime.getDayStart(org.ofbiz.base.util.UtilDateTime.nowTimestamp())}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<entity-condition entity-name="Enumeration" list="prodSubTrips"
					use-cache="true">
					<condition-list>
						<condition-expr field-name="enumTypeId" value="MULTI_TRIP" />
					</condition-list>
					<order-by field-name="sequenceId" />
				</entity-condition>
				<script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/getReturnItems.groovy" />
				<set field="shipDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(shipmentDate, &quot;dd MMMMM, yyyy&quot;);}" />
				<entity-one entity-name="StatusItem" value-field="currentStatus"
					auto-field-map="false">
					<field-map field-name="statusId" from-field="returnHeader.statusId" />
				</entity-one>
				<entity-condition list="headerType" entity-name="ReturnHeaderType" />
				<entity-one value-field="returnHeaderTypeId" entity-name="ReturnHeaderType">
					<field-map field-name="returnHeaderTypeId" />
				</entity-one>
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
				<script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/newIndentJsons.groovy" />
				<script	location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/salesOrderReturnsEntry.groovy" />
				<script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/getReturnItems.groovy" />
					
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/getReturnItems.groovy"/> -->
				<!-- <set field="layoutSettings.javaScripts[]" value="/depotsales/images/salesReturnsAjaxSubmit.js" 
					global="true"/> -->
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="SalesReturnSubTabBar" />
						<section>
							<widgets>
								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/SalesReturnEntry.ftl" />
									</html>
								</platform-specific>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<!-- Branch Sales -->
    
    <screen name="BranchSalesOrder">
		<section>
			<actions>
				<set field="titleProperty" value="${uiLabelMap.BranchSalesEntry}" />
				<set field="tabButtonItem" value="BranchSalesOrder" />
				<set field="tabButtonItem2" value="BranchSalesOrder" />
				<set field="changeFlag" value="DepotSales" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="orderStatus" from-field="parameters.orderStatus" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="parameters.roleTypeId" value="EMPANELLED_CUSTOMER"/>
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<!-- <container><label text="isFormSubmitted:${isFormSubmitted}" ></label></container> -->
						<include-menu name="BranchSalesEntryIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="BranchSaleInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="BranchSalesInnerScreen" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="BranchSaleInner">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" value="${parameters.productSubscriptionTypeId}" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>


				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="indentReceivedDate" value="${parameters.indentReceivedDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="checkListType" value="indentEntry" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<entity-condition entity-name="Enumeration" list="prodSubTypes"
					use-cache="true">
					<condition-list>
						<condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="CARD" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="LEAK" />
					</condition-list>
					<order-by field-name="sequenceId" />
				</entity-condition>

				<!-- <entity-condition entity-name="Product" list="productList" use-cache="true"> 
					</entity-condition> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enableBoothAutoComplete.groovy"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
				<set field="routeId" from-field="parameters.routeId" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/BranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="BranchSalesInnerScreen">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" from-field="parameters.productSubscriptionTypeId" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<set field="boothId" from-field="parameters.boothId" />
				<!-- <entity-condition entity-name="Enumeration" list="prodSubTypes" 
					use-cache="true"> <condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE"/> 
					<order-by field-name="sequenceId"/> </entity-condition> -->
				<set field="checkListType" value="indentEntry" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="indentReceivedDate" value="${parameters.indentReceivedDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="PONumber" from-field="parameters.PONumber" />
				<set field="insuranceNum" from-field="parameters.insuranceNum" />
				<set field="insCompany" from-field="parameters.insCompany" />
				<set field="promotionAdj" from-field="parameters.promotionAdj" />
				<set field="productCategoryId" from-field="parameters.productCategoryId" />
				<set field="vehicleId" from-field="parameters.vehicleId" />
				<set field="disableAcctgFlag" value="Y" />
				<set field="productStoreId" from-field="parameters.productStoreIdFrom" />
				<set field="partyId" from-field="parameters.partyId" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/BranchSalesOrderInnerScreenHelper.groovy" />
				<!-- <script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/EditStoreOrderForm.groovy" /> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/BranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/BranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>


  <screen name="ProcessOrdersSuppliersDepotSales">
		<section>
			<actions>
				<set field="titleProperty" value="Process Depot Orders" />
				<set field="tabButtonItem" value="FindPO" />
				<set field="tabButtonItem2" value="ProcessOrdersSuppliersDepotSales" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
				<set field="defaultEffectiveDateTime"
					value="${bsh:org.ofbiz.base.util.UtilDateTime.getDayStart(org.ofbiz.base.util.UtilDateTime.nowTimestamp())}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="shipmentTypeId" from-field="parameters.shipmentTypeId" />
				<set field="salesChannelEnumId" from-field="parameters.salesChannelEnumId" />
				<set field="screenFlag" value="depotSales" />
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/getIcpSalesOrder.groovy" 
					/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/getDepotSuppliersPurchseOrder.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="FindPOSubTabBar" />
						<section>
							<widgets>
								<screenlet title="Depot Orders">
									<platform-specific>
										<html>
											<html-template
												location="component://depotsales/webapp/depotsales/depotsales/ListSearchSupplierPurchseOrdersDepot.ftl" />
										</html>
									</platform-specific>
								</screenlet>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="FindDepotSupplierPurchseShipment">
		<section>
			<actions>
				<set field="titleProperty" value="Find Depot Sale Shipments" />
				<set field="tabButtonItem" value="FindPO" />
				<set field="tabButtonItem2" value="FindDepotSupplierPurchseShipment" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
				<set field="targetRequest" value="FindDepotSupplierPurchseShipment" />
				<set field="shipmentTypeId" value="DEPOT_SHIPMENT" />
				<set field="screenFlag" value="depotSales" />
			</actions>
			<widgets>
				<decorator-screen name="DepotSalesCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="FindPOSubTabBar" />
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="search-options">
										<include-form name="FindSupplierPurchaseShipment"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="">
											<include-form name="listSupplierPurchaseShipmentsDepot"
												location="component://depotsales/widget/DepotSalesForms.xml" />
										</screenlet>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>	
	
	  <screen name="FindProcProducer">
          <section>
              <actions>
                  <set field="titleProperty" value="Find Weaver"/>
                  <set field="tabButtonItem" value="producerSearch"/>
                   <script location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/findProducerFacility.groovy"/>   
                  <set field="producersList" from-field="producersList" default-value="${context.producersList}"/>
              	  <set field="roleTypeId" value="EMPANELLED_CUSTOMER"/>
              </actions>           
               <widgets>
                <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <section>
                            <widgets>
                                    	<section>
                                    	 <!-- <condition>
                            				
                            					<if-has-permission permission="WEAVER" action="_CREATE"/>
                            				
                           				 </condition> -->
                                    		<widgets>
                                    		
                                               <container style="button-bar">
                                                  <link target="CreateNewWeaver" text="Create Agency" style="buttontext create h2"></link>		
                                               </container>
                                            </widgets>
                                    	</section>
                             </widgets>  
                        </section>   
                      	<screenlet title="Find Weaver">
                      		<include-form name="FindDepotSalesProducer"
  								location="component://depotsales/widget/DepotSalesForms.xml" />
                      	</screenlet>
                      	<screenlet title="List Weaver">
                      		<include-form name="ListDepotSalesProducer"
  								location="component://depotsales/widget/DepotSalesForms.xml" />
                      	</screenlet>
                      </decorator-section>
                  </decorator-screen>
              </widgets>
          </section>
      </screen>
		     
		        
       <screen name="EditProcProducer">
          <section>
          	<actions>
          		<set field="titleProperty" value="Find Weaver"/>
                  <set field="tabButtonItem" value="producerSearch" />
                 <!-- <entity-one entity-name="PartyIdentificationAndPartyGroup" value-field="partyDetailsMap"  >
       				<field-map field-name="partyId" from-field="parameters.partyId"/>
       				<field-map field-name="partyIdentificationTypeId" value="PRODUCER_CODE"/>
      			</entity-one> -->
      			
      			<set field="partyId" from-field="parameters.partyId" global="true"/>
      			<set field="partyDetailsMap" type="Object" from-field="partyDetailsMap"/>
          		<!-- <script location="component://procurement/webapp/procurement/WEB-INF/actions/facility/ProcCheckList.groovy"/> -->
          		<script location="component://procurement/webapp/procurement/WEB-INF/actions/facility/getTenantId.groovy"/>
                 	<set field="tenantIdStr" value="${tenantId}"/>
          	</actions>
              <widgets> 
              	<section>
              		<!-- <condition>
              			<if-compare operator="equals" value="RMU" field="tenantIdStr"/>
              		</condition> -->
              		<widgets>
              				<include-screen name="ProducerProfile" location="component://depotsales/widget/DepotSalesScreens.xml"/>
              		</widgets>
              		<!-- <fail-widgets>
              			<decorator-screen name="ProcurementCommonDecorator" location="component://procurement/widget/CommonScreens.xml">
  		                    <decorator-section name="body">
  		                	    <screenlet title="Producer Details">
  		            				<include-form name="EditProcProducer" location="component://procurement/widget/ProcurementForms.xml"/>
  		            			</screenlet>
  		                    </decorator-section>
  		                 </decorator-screen>
              		</fail-widgets>	 -->
              	</section>      
             </widgets>
          </section>
      </screen> 
		     
         <screen name="ProducerProfile">
            <section>
            	<actions>
            		<set field="titleProperty" value="Weaver Details"/>
                    <set field="tabButtonItem" value="producerSearch" />
                      <entity-and entity-name="Party" list="partyDetailsMapsList"  >
         				<field-map field-name="partyId" from-field="parameters.partyId"/>
         			<!-- 	<field-map field-name="partyIdentificationTypeId" value="PRODUCER_CODE"/>  -->
        			</entity-and>  
        			<set field="partyDetailsMap" type="Object" from-field="partyDetailsMapsList[0]" global="true"/> 
        			<!-- <script location="component://procurement/webapp/procurement/WEB-INF/actions/facility/ServeProfilePic.groovy"/> -->
        			<!-- <script location="component://procurement/webapp/procurement/WEB-INF/actions/facility/producerDetails.groovy"/> -->
                   <!-- <script location="component://procurement/webapp/procurement/WEB-INF/actions/facility/ServeProfilePic.groovy"/> -->
                   	<set field="partyId" from-field="parameters.partyId" global="true"/>
                    <set field="contentId" from-field="parameters.contentId" global="true"/>
                    <entity-one entity-name="Content" value-field="content"/>
                    <script location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ServeProfilePic.groovy" />
            	</actions>
                <widgets> 
           			<decorator-screen name="DepotSalesCommonDecorator"
    					location="${parameters.mainDecoratorLocation}">
                     <decorator-section name="body">
                     	<container style="lefthalf">
    	             	    <screenlet title="Weaver Profile Details">
    	         				<!--   Here we need to add hr profile -->
    	         				<include-form name="EditProcProducer" location="component://depotsales/widget/DepotSalesForms.xml"/>
    	         			</screenlet>
    	         			 <include-screen name="EditProducerAccountDetails" location="component://depotsales/widget/DepotSalesScreens.xml"/>
    	      	         	  <screenlet title="Identification  Information">
    	      	         				<include-screen name="ProducerIdentification" location="component://depotsales/widget/DepotSalesScreens.xml"/>
    	      	         				<!-- <include-form name="ProducerProfilePicture" location="component://procurement/widget/ProcurementForms.xml"/> -->
    	      	         	  </screenlet>	
    	      	         	<screenlet title="Loom Information">
    	      	         				<include-screen name="CattleInfo" location="component://depotsales/widget/DepotSalesScreens.xml"/>
    	      	         				<!-- <include-form name="ProducerProfilePicture" location="component://procurement/widget/ProcurementForms.xml"/> -->
    	      	         	</screenlet>			
    	         			</container>
    	         			<container style="righthalf">
    	      	             	    <screenlet title="Profile Picture">
    	      	         				<!--   Here we need to add hr profile -->
    	      	         				<include-form name="ProducerProfilePicture" location="component://depotsales/widget/DepotSalesForms.xml"/>
    	      	         			</screenlet>
    	      	         			<include-screen name="Contact" location="component://depotsales/widget/DepotSalesScreens.xml"/>
    	         			</container>
                     </decorator-section>
                  </decorator-screen>
               </widgets>
            </section>
        </screen> 
        
        <screen name="EditProducerAccountDetails">
    		<section>
    			<actions>
    				<!-- <entity-and list="EditAccountDetails" entity-name="FinAccount">
    					<field-map field-name="finAccountTypeId" value="BANK_ACCOUNT"/>
    					<field-map field-name="ownerPartyId" from-field="parameters.partyId" />
    				</entity-and> -->
    				<set field="partyId" from-field="parameters.partyId"/>
    				<entity-condition list="EditAccountDetailsList" entity-name="BankAccount">
    					<condition-list combine="and">
    					<!-- 	<condition-expr field-name="finAccountTypeId"  operator="equals" value="BANK_ACCOUNT"/>  -->
    						<condition-expr field-name="ownerPartyId"  operator="equals" from-field="parameters.partyId" />
    					</condition-list>
    				</entity-condition>
    				<set field="partyId" value="${EditAccountDetailsList[0].ownerPartyId}"/>
    				<set field="finAccountCode" value="${EditAccountDetailsList[0].bankAccountCode}"/>
    				<set field="finAccountName" value="${EditAccountDetailsList[0].bankAccountName}"/>
    				<set field="finAccountBranch" value="${EditAccountDetailsList[0].ifscCode}"/>
    				<set field="ifscCode" value="${EditAccountDetailsList[0].ifscCode}"/>
    			</actions>
    			<widgets>
    			 <section>
    				<widgets>
    					<screenlet id="AccountPanel" title="Edit Account Details" >
                           	<include-form name="EditProducerAccountDetails" location="component://depotsales/widget/DepotSalesForms.xml" />
    					</screenlet>
    			  </widgets>
    			</section>
    			</widgets>
    		</section>
    	</screen>
        
       <screen name="ProducerIdentification">
            <section>
            	<actions>
            		<entity-condition entity-name="PartyIdentification" list="existedPartyIdentifications">
    				   <condition-list combine="and">
    				       <condition-expr field-name="partyId" from-field="parameters.partyId" operator="equals"/>
    				   </condition-list>
    				   <select-field field-name="partyIdentificationTypeId"/>
    	    		</entity-condition>
    	    		<set field="existedPartyIdentifications" from-field="existedPartyIdentifications" global="true"/>
    	    	<!-- 	<script location="component://procurement/webapp/procurement/WEB-INF/actions/facility/partyIdentificationTypes.groovy"/>   -->
            	</actions>
                <widgets> 
                	<include-form name="ProducerIdentification" location="component://depotsales/widget/DepotSalesForms.xml"/>
                	<include-form name="createProducerIdentification" location="component://depotsales/widget/DepotSalesForms.xml"/>
               </widgets>
            </section>
        </screen> 
       
       <screen name="CattleInfo">
           <section>
           	<actions>
                    <entity-and entity-name="PartyLoom" list="LoomDetails" >
        				
        				<field-map field-name="partyId" from-field="parameters.partyId"/>
       			</entity-and>  
       			<set field="LoomDetails" type="Object" from-field="LoomDetails"/>
           	</actions>
               <widgets> 
               	<include-form name="CattleInformation" location="component://depotsales/widget/DepotSalesForms.xml"/>
               	<include-form name="CreateCattleInformation" location="component://depotsales/widget/DepotSalesForms.xml"/>
               	
              </widgets>
           </section>
       </screen> 
       <screen name="Contact">
           <section>
               <actions>
                   <set field="partyId" from-field="parameters.partyId" default-value="${userLogin.partyId}"/>
                   <script location="component://party/webapp/partymgr/WEB-INF/actions/party/GetContactMechs.groovy"/>
                   <script location="component://party/webapp/partymgr/WEB-INF/actions/party/GetUserLoginPrimaryEmail.groovy"/>
               </actions>
               <widgets>
                   <platform-specific>
                       <html>
                           <html-template location="component://party/webapp/partymgr/party/profileblocks/Contact.ftl"/>
                       </html>
                   </platform-specific>
               </widgets>
           </section>
       </screen>
       <screen name="orderPayment">
    		<section>
    			<actions>
    				<set field="titleProperty" value="Indent Payment" />
    				<set field="tabButtonItem" value="OrderPayment" />
    				<set field="tabButtonItem2" value="OrderPayment" />
    				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
    				<set field="viewIndex" from-field="parameters.VIEW_INDEX_1" type="Integer" default-value="0"/>
                    <set field="viewSize" value="50" type="Integer"/>
                    <set field="nextFlag" type="String" default-value="Y"/>
                    <set field="prevFlag" type="String" default-value="N"/>
                      <service service-name="performFind" result-map="result">
                       <field-map field-name="inputFields" from-field="parameters"/>
                       <field-map field-name="entityName" value="OrderHeader"/>
                    </service>
    				<set field="defaultEffectiveDateTime"
    					value="${bsh:org.ofbiz.base.util.UtilDateTime.getDayStart(org.ofbiz.base.util.UtilDateTime.nowTimestamp())}" />
    				<set field="defaultEffectiveDate"
    					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
    				<set field="shipmentTypeId" from-field="parameters.shipmentTypeId" />
    				<set field="salesChannelEnumId" from-field="parameters.salesChannelEnumId" />
    				<set field="screenFlag" value="depotSales" />
    				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/getIcpSalesOrder.groovy" 
    					/> -->
    				<script
    					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ListSalesOrderPaymentParam.groovy" />
    			  <!--   <script
    					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ListSalesOrderAdvancePayments.groovy" />  -->
    			</actions>
    			<widgets>
    				<decorator-screen name="BranchTransactionsCommonDecorator"
    					location="component://depotsales/widget/CommonScreens.xml">
    					<decorator-section name="body">
    						<!-- <include-menu name="BranchSalesIndentTabBar"
    							location="component://depotsales/widget/DepotSalesMenus.xml" /> -->
    						<section>
    							<widgets>
    							<decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
                                        <decorator-section name="menu-bar">
                                        	 
                                        </decorator-section>
    							 		<decorator-section name="search-options">
                                            <include-form name="FindOrderPaymentSeach" location="component://depotsales/widget/DepotSalesForms.xml"/>
                                        </decorator-section>
                                        <decorator-section name="search-results">
    							<!-- 	<screenlet title="Sale Indents &#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;     Total Indents:     ${orderListSize}">   -->
    								<platform-specific>
    										<html>
    											<html-template
    												location="component://depotsales/webapp/depotsales/depotsales/generatePO.ftl" />
    										</html>
    									</platform-specific>
    									<platform-specific>
    										<html>
    											<html-template
    												location="component://depotsales/webapp/depotsales/depotsales/ListSearchOrderPayments.ftl" />
    										</html>
    									</platform-specific>
    							<!-- 	</screenlet>  -->
    								</decorator-section>
    								</decorator-screen>
    							</widgets>
    						</section>
    					</decorator-section>
    				</decorator-screen>
    			</widgets>
    		</section>
    	</screen>
       <screen name="DepotTransReceipts">
		<section>
			<actions>
				<set field="titleProperty" value="Find GRN Items" />
				<set field="tabButtonItem" value="DepotTransReceipts" />
				<set field="tabButtonItem2" value="DepotTransReceipts" />
				<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="20" />
				<set field="targetRequest" value="DepotTransReceipts" />
				<service service-name="performFind" result-map="result"
					result-map-list="listIt">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="entityName" value="ShipmentReceipt" />
					<field-map field-name="orderBy" value="-receiptId" />
					<field-map field-name="viewIndex" from-field="viewIndex" />
					<field-map field-name="viewSize" from-field="viewSize" />
				</service>
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/DepotTranspurchaseDepartments.groovy" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/DepotTransSupplyTillDate.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="DepotTransReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="search-options">
										<include-form name="FindShipmentReceiptDepotTrans"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="">
											<include-form name="listMaterialShipmentReceiptDepotTrans"
												location="component://depotsales/widget/DepotSalesForms.xml" />
										</screenlet>
										<platform-specific>
											<html>
												<html-template
													location="component://depotsales/webapp/depotsales/depotsales/qcApprovalDepot.ftl" />
											</html>
										</platform-specific>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="DepotTransMaterialReceipts">
		<section>
			<actions>
				<set field="titleProperty" value="PO Receipts" />
				<set field="tabButtonItem" value="DepotTransReceipts" />
				<set field="tabButtonItem2" value="DepotTransMaterialReceipts" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
				<!-- <set field="ChannalType" value="PROD_PRCHSE_CHANNEL"/> -->
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="parameters.roleTypeId" value="SUPPLIER" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="defaulteffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd:MM:yyyy hh:mm&quot;);}" />
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enablePartyAutoComplete.groovy"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />

				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/purchaseOrderDetailsEntryDepotTrans.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="DepotTransReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<section>
									<condition>
										<if-compare operator="equals" field="isFormSubmitted"
											value="" />
									</condition>
									<widgets>
										<include-screen name="DepotTransReceiptInitEntry" />
									</widgets>
								</section>
								<section>
									<condition>
										<if-compare operator="equals" field="isFormSubmitted"
											value="YES" />
									</condition>
									<widgets>
										<include-screen name="DepotTransReceiptInnerScreen" />
									</widgets>
								</section>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="DepotTransReceiptInitEntry">
		<section>
			<actions>
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>
				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="indentReceivedDate" value="${parameters.indentReceivedDate}" />
				<!-- <set field="shipmentTypeId" value="${parameters.shipmentTypeId}"/> -->
				<entity-condition entity-name="Product" list="productList"
					use-cache="true">
				</entity-condition>
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/ReceiptEntryDepotTrans.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="DepotTransReceiptInnerScreen">
		<section>
			<actions>
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/ReceiptEntryDepotTrans.ftl" />
							</html>
						</platform-specific>
					</widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="DepotTransGRNShipments">
		<section>
			<actions>
				<set field="titleProperty" value="Find GRN Shipments" />
				<set field="tabButtonItem" value="DepotTransReceipts" />
				<set field="tabButtonItem2" value="DepotTransGRNShipments" />
				<set field="viewIndex" from-field="parameters.VIEW_INDEX" type="Integer" />
				<set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer"
					default-value="20" />
				<set field="targetRequest" value="FindDepotTransGRNShipments" />
				<set field="noConditionFind" value="Y" />
				<service service-name="performFind" result-map="result"
					result-map-list="listIt">
					<field-map field-name="inputFields" from-field="parameters" />
					<field-map field-name="inputFields.shipmentTypeId" value="DEPOT_SHIPMENT" />
					<field-map field-name="entityName" value="Shipment" />
					<field-map field-name="orderBy" value="-estimatedShipDate" />
					<field-map field-name="viewIndex" from-field="viewIndex" />
					<field-map field-name="viewSize" from-field="viewSize" />
				</service>
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/ShipmentPartyView.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/purchaseDepartments.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="DepotTransReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/LinkGRNWithPoDepot.ftl" />
									</html>
								</platform-specific>
								<decorator-screen name="FindScreenDecorator"
									location="component://common/widget/CommonScreens.xml">
									<decorator-section name="search-options">
										<include-form name="FindDepotTransMaterialShipment"
											location="component://depotsales/widget/DepotSalesForms.xml" />
									</decorator-section>
									<decorator-section name="search-results">
										<screenlet title="">
											<include-form name="listDepotTransMaterialShipments"
												location="component://depotsales/widget/DepotSalesForms.xml" />
										</screenlet>
										<platform-specific>
											<html>
												<html-template
													location="component://depotsales/webapp/depotsales/depotsales/qcApprovalDepot.ftl" />
											</html>
										</platform-specific>
									</decorator-section>
								</decorator-screen>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="DepotTransMaterialInvoiceInit">
		<section>
			<actions>
				<set field="titleProperty" value="Material Invoice Entry" />
				<set field="tabButtonItem" value="DepotTransReceipts" />
				<set field="tabButtonItem2" value="DepotTransMaterialInvoiceInit" />
				<set field="shipmentId" from-field="parameters.shipmentId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;yyyy-MM-dd&quot;);}" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PurchaseInvoiceEntryForm.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="DepotTransCommonDecorator"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<include-menu name="DepotTransReceiptTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="PurchaseDepotInvoiceInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="PurchaseDepotInvoiceEntry" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	
	
<screen name="PayUBizInit">
		<section>
			<actions>
				<set field="tabButtonItem" value="NonRouteCustomPayments"/>
				<set field="subTabItem" value="PayUBizInit" />
				<set field="subTabButtonItem" value="PayUBizInit" />
				<set field="titleProperty" value="PayUBizPayment" />
				<!-- <set field="layoutSettings.javaScripts[]" value="/byproducts/images/appendRoute.js" global="true"/> -->
				<property-map resource="PartyUiLabels" map-name="uiLabelMap" global="true"/>
				<property-map resource="CommonUiLabels" map-name="uiLabelMap" global="true"/>
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/thirdPartyKit/payUbiz.groovy" />	
			</actions>
			<widgets>	
				<decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
					<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"  name="NonRoutePaymentSubTabBar" />
					<!-- <include-menu location="component://byproducts/widget/ByProductsMenus.xml" name="PaymentSubTabBar"/> -->
						<section>
							<widgets>	
								<container style="full"> 
                                	<screenlet title="PayUbiz Payments ">    
   										<platform-specific><html><html-template location="component://depotsales/webapp/depotsales/thridPartyKit/payUbiz.ftl"></html-template></html></platform-specific>
									</screenlet>
								</container>					
							</widgets>
						</section>	
					</decorator-section>	
				</decorator-screen>		
			</widgets>
		</section>
	</screen>  
           <screen name="ViewFacilityGeoPoint">
        <section>
            <actions>
                <set field="tabButtonItem" value="ViewFacilityGeoPoint"/>
                <set field="titleProperty" value="Location Map"/>
                <set field="facilityId" from-field="parameters.facilityId"/>
                <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/viewFacilityGeoPoint.groovy"/>                         
                <property-map resource="ProductUiLabels" map-name="uiLabelMap"/>
                <set field="title" value="${uiLabelMap.PageTitleFacilityGeoLocation}"/> 
                <set field="parameters.hideSearch" value="${parameters.hideSearch}"></set>
            	<set field="parameters.noConditionFind" value="${parameters.noConditionFind}"></set>                 
            </actions>
            <widgets>
             <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <container>
                            <label style="h1">Location Map</label>
                        </container>
                        <screenlet title="Location Search">
                        	<include-form name="ViewFacilityGeoPointSearch" location="component://depotsales/widget/DepotSalesForms.xml"/>
                        </screenlet>
                        <include-screen name="geoChart" location="component://common/widget/CommonScreens.xml"/>
                    </decorator-section>
                </decorator-screen>
            </widgets>        
        </section>
    </screen> 
    
    
    <screen name="minutesPDFreport">
		<section>
			<actions>
				<property-map resource="OrderUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="ProductUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="PartyUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="CommonUiLabels" map-name="uiLabelMap"
					global="true" />
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/minutesPdfReport.groovy"/>  		</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<xsl-fo>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/minutesPdfReport.fo.ftl" />
							</xsl-fo>
						</platform-specific>
					</widgets>
				</section>
			</widgets>
		</section>
	</screen>
    
    
    <screen name="minutesHindiPdfReport">
		<section>
			<actions>
				<property-map resource="OrderUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="ProductUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="PartyUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="CommonUiLabels" map-name="uiLabelMap"
					global="true" />
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/minutesPdfReport.groovy"/>  		</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<xsl-fo>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/minutesHindiPdfReport.fo.ftl" />
							</xsl-fo>
						</platform-specific>
					</widgets>
				</section>
			</widgets>
		</section>
	</screen>
    
    
    <screen name="IndentPrintReportPDF">
    		<section>
    			<actions>
    				<property-map resource="OrderUiLabels" map-name="uiLabelMap"
    					global="true" />
    				<property-map resource="ProductUiLabels" map-name="uiLabelMap"
    					global="true" />
    				<property-map resource="PartyUiLabels" map-name="uiLabelMap"
    					global="true" />
    				<property-map resource="CommonUiLabels" map-name="uiLabelMap"
    					global="true" />
    				
    				<script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/IndentReportDetails.groovy"/> 
    			</actions>
    			<widgets>
    				<section>
    					<widgets>
    						<platform-specific>
    							<xsl-fo>
    								<html-template
    									location="component://depotsales/webapp/depotsales/depotsales/branchSaleIndentReport.fo.ftl" />
    							</xsl-fo>
    						</platform-specific>
    					</widgets>
    				</section>
    			</widgets>
    		</section>
	</screen>
	
	<screen name="HindiPoPrintReportPDF">
        		<section>
        			<actions>
        				<property-map resource="OrderUiLabels" map-name="uiLabelMap"
        					global="true" />
        				<property-map resource="ProductUiLabels" map-name="uiLabelMap"
        					global="true" />
        				<property-map resource="PartyUiLabels" map-name="uiLabelMap"
        					global="true" />
        				<property-map resource="CommonUiLabels" map-name="uiLabelMap"
        					global="true" />
        				
        				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/minutesPdfReport.groovy"/> 
        			</actions>
        			<widgets>
        				<section>
        					<widgets>
        						<platform-specific>
        							<xsl-fo>
        								<html-template
        									location="component://depotsales/webapp/depotsales/depotsales/HindibranchSaleIndentReport.fo.ftl" />
        							</xsl-fo>
        						</platform-specific>
        					</widgets>
        				</section>
        			</widgets>
        		</section>
	</screen>
	
    <screen name="FindYarnProducts">
        <section>
        	<actions>
                <set field="titleProperty" value="Products"/>
                <set field="tabButtonItem" value="Product"/>
 				<set field="productTabButtonItem" value="FindProduct" />                                           
                <set field="headerItem" value="Products"/>
                <!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/ByProductsList.groovy"/> -->
            </actions>
            <widgets>
                <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<!-- <include-menu name="DepotSaleMenuTabBar" location="component://depotsales/widget/DepotSalesMenus.xml" /> -->
                    	<!-- <include-menu name="ProductSubTabBar" location="component://byproducts/widget/ByProductsMenus.xml"/> -->
                        <section>
                            <condition>
                            	<or>
                            		<if-service-permission service-name="acctgAgreementPermissionCheck" main-action="VIEW"/>
                            		<if-has-permission permission="CATALOG" action="_VIEW"/>
                            	</or>
                            </condition>
                            <widgets>
                                <decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
                                	<decorator-section name="menu-bar">
                                    	<section>
                                    	 <condition>
                            				
                            					<if-has-permission permission="PRODUCT" action="_CREATE"/>
                            				
                           				 </condition>
                                    		<widgets>
                                               <container style="button-bar">
                                                  <link target="CreateNewProduct" text="Create New Product" style="buttontext create h2"></link>		
                                               </container>
                                            </widgets>
                                    	</section>
                                    </decorator-section>
                                    <decorator-section name="search-options">
                                        <include-form name="FindByProduct" location="component://depotsales/widget/DepotSalesForms.xml"/>
                                    </decorator-section>
                                    <decorator-section name="search-results">
                                        <include-form name="ListByProducts" location="component://depotsales/widget/DepotSalesForms.xml"/>
                                    </decorator-section>
                                </decorator-screen>
                            </widgets>
                            <fail-widgets>
                                <label style="h3">${uiLabelMap.AccountingViewPermissionError}</label>
                            </fail-widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
         </section>
    </screen>
    
     <screen name="CreateNewWeaver">
        <section>
            <actions>
                <property-map resource="VendorUiLabels" map-name="uiLabelMap" global="true"/>
                <set field="titleProperty" value="PageTitleEditGroupInformation"/>
                <set field="titleProperty" value="Create New Weaver"/>
                <set field="tabButtonItem" value="producerSearch"/>
                <set field="headerItem" value="find"/>
                <set field="labelTitleProperty" value="PageTitleEditGroupInformation"/>
                <set field="donePage" from-field="parameters.DONE_PAGE" default-value="viewprofile"/>
                <set field="partyId" from-field="parameters.partyId"/>
                 <set field="layoutSettings.javaScripts[]" value="/depotsales/webapp/depotsales/depotsales/CreatNewWeaverValidations.js" global="true"/>      
                <entity-one entity-name="PartyAndGroup" value-field="partyGroup"/> 
                 <script location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/createNewWieverInfo.groovy" />
            </actions>
            <widgets>
                <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                      <decorator-section name="body">   
                       <platform-specific><html><html-template location="component://depotsales/webapp/depotsales/depotsales/CreatNewWeaver.fo.ftl"/></html></platform-specific> 
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
  
  
    <screen name="CreateNewYarnProductScreen">
   		<section>
   			<actions>
   				<set field="titleProperty" value="Create New Product" />
   				<set field="tabButtonItem" value="Product" />
   				<entity-condition list="productCategoryList" entity-name="ProductCategory">
   					<condition-list>
   						<condition-expr field-name="primaryParentCategoryId" operator="in" value="NATURAL_FIBERS,SYNTH_ARTIFIBER"/>
   					</condition-list>
   				</entity-condition>
   				<!-- <script location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/CreateNewProduct.groovy" /> -->
   			</actions>
   			<widgets>
 					<decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
 						<decorator-section name="body"> 
 							<section>
 								<widgets>
 									<screenlet title="Create New Product">
 										<platform-specific>
 												<html><html-template location="component://depotsales/webapp/depotsales/depotsales/CreateNewProduct.ftl" /></html>
 										</platform-specific>
 									</screenlet>
 								</widgets>
 							</section>
 						</decorator-section>
   				</decorator-screen>
   			</widgets>
   		</section>
	</screen>
    <screen name="CreateNewProduct">
    		<section>
    			<actions>
    				<set field="titleProperty" value="Create New Product" />
    				<set field="tabButtonItem" value="searchProduct" />
    				<entity-condition list="productCategoryList" entity-name="ProductCategory">
    					<condition-list>
    						<condition-expr field-name="productCategoryTypeId" operator="in" value="NATURAL_FIBERS,SYNTHETIC,ZARI"/>
    					</condition-list>
    				</entity-condition>
    			</actions>
    			<widgets>
    					<decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
    						<decorator-section name="body"> 
    							<section>
    								<widgets>
    									<screenlet title="Create New Product">
    										<platform-specific>
    												<html><html-template location="component://depotsales/webapp/depotsales/depotsales/CreateNewYarnProduct.ftl" /></html>
    										</platform-specific>
    									</screenlet>
    								</widgets>
    							</section>
    						</decorator-section>
    				</decorator-screen>
    			</widgets>
    		</section>
	</screen>
    
    <!-- <screen name="CreateNewYarnProductScreen">
       <section>
            <actions>
                <set field="titleProperty" value="New Product"/>
                <set field="tabButtonItem" value="Product"/>
 				<set field="productTabButtonItem" value="FindProduct" />                                           
                <set field="headerItem" value="Products"/>
            </actions>
            <widgets>
                <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    	<include-menu name="IncomingAdvancesTabBar" location="component://accounting/widget/AccountingMenus.xml"/>
                        <section>
                        	
                            <widgets>
                                <screenlet title="New Product">
                                    <platform-specific>
										<html>
											<html-template
												location="component://depotsales/webapp/depotsales/depotsales/CreateNewYarnProduct.ftl" />
										</html>
									</platform-specific>
                                </screenlet>
                            </widgets>
                            <fail-widgets>
                            	<label style="h3" text="${uiLabelMap.newPaymentScreenError}"/>
                            </fail-widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen> -->
    
    <screen name="BranchIncomingAdvancesReceived">
        <section>
            <actions>
                <set field="titleProperty" value="Incoming Advance Receipts"/>
                <set field="subTabButtonItem" value="BranchAdvancePaymentsTab"/>
                <set field="tabButtonItem4" value="BranchIncomingAdvancesReceived"/>
                <set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer" default-value="1000"/>
                <service service-name="acctgInvoicePermissionCheck" result-map="permResult">
                    <field-map field-name="mainAction" value="PAYMENT_EDIT"/>
                </service>
                <set field="hasPaymentEditPermission" from-field="permResult.hasPermission"/>
                <set  field="parameters.paymentDate" from-field="parameters.paymentDate_fld0_value"/>
                <set field="parameters.paymentDate_fld0_value" from-field="parameters.paymentDate_fld0_value"/>
                <set field="parameters.paymentDate_fld1_value" from-field="parameters.paymentDate_fld1_value"/>
                <set field="parameters.paymentDate_fld0_op" from-field="parameters.paymentDate_fld0_op"/>
                <set field="parameters. paymentDate_fld1_op" from-field="parameters. paymentDate_fld1_op"/>
                <service service-name="performFind" result-map="result">
	                <field-map field-name="inputFields" from-field="parameters"/>
	                <field-map field-name="entityName" value="PaymentAndType"/>
	                <field-map field-name="orderBy" value="effectiveDate DESC"/>
	                <field-map field-name="viewIndex" from-field="viewIndex"/>
	                <field-map field-name="viewSize" from-field="viewSize"/>
	            </service>
	            <set field="payments" from-field="result.listIt"/>
            </actions>
            <widgets>
                <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    <include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="NonRoutePaymentSubTabBar" />
                    	<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="BreanchIncomingAdvancesTabBar" />
                        <section>
                            <widgets>
                                <decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
                                    <decorator-section name="menu-bar">
                                    	<section>
                                    		<condition>
                                    		<if-compare operator="equals" value="true" field="hasPaymentEditPermission"/>
                                    		</condition>
                                    		<widgets>
                                             <container style="button-bar">
                                            <link target="BranchNewIncomingAdvanceReceived" text="${uiLabelMap.CommonCreateNew}" style="buttontext create"/>
                                        </container>
                                        </widgets>
                                    </section>
                                    </decorator-section>
                                    <decorator-section name="search-options">
                                        <include-form name="FindBranchIncomingAdvancesReceived" location="component://depotsales/widget/DepotSalesForms.xml"/>
                                    </decorator-section>
                                    <decorator-section name="search-results">
                                    	<container>
                                    		<link target="IncomingAdvancesReceived.csv" text="Export As CSV" style="buttontext">
                                    			<parameter param-name="paymentTypeId" from-field="parameters.paymentTypeId"/>
                                    			<parameter param-name="statusId" from-field="parameters.statusId"/>
                                    			<parameter param-name="partyIdFrom" from-field="parameters.partyIdFrom"/>
                                    			<parameter param-name="partyIdTo" from-field="parameters.partyIdTo"/>
                                    			<parameter param-name="paymentDate" from-field="parameters.paymentDate"/>
                                    			<parameter param-name="paymentDate_fld0_value" from-field="parameters.paymentDate_fld0_value"/>
                                    			<parameter param-name="paymentDate_fld0_op" from-field="parameters.paymentDate_fld0_op"/>
                                    			<parameter param-name="paymentDate_fld1_value" from-field="parameters.paymentDate_fld1_value"/>
                                    			<parameter param-name="paymentDate_fld1_op" from-field="parameters.paymentDate_fld1_op"/>
                                    			<parameter param-name="amount" from-field="parameters.amount"/>
                                    			<parameter param-name="paymentRefNum" from-field="parameters.paymentRefNum"/>
                                    			<parameter param-name="parentTypeId" from-field="parameters.parentTypeId"/>
                                    		</link>
                                    	</container>
                                    	<platform-specific>
                                           	<html><html-template location="component://accounting/webapp/accounting/payment/ListSearchAdvancesAndDeposits.ftl"/></html>
                                       	</platform-specific>
                                        <!-- <include-form name="ListPayments"  location="component://accounting/widget/PaymentForms.xml"/> -->
                                    </decorator-section>
                                </decorator-screen>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    
    <screen name="BranchIncomingAdvancesRefund">
        <section>
            <actions>
                <set field="titleProperty" value="Incoming Advance Receipts"/>
                <set field="subTabButtonItem" value="BranchAdvancePaymentsTab"/>
                <set field="tabButtonItem4" value="BranchIncomingAdvancesRefund"/>
                <set field="viewSize" from-field="parameters.VIEW_SIZE" type="Integer" default-value="1000"/>
                <service service-name="acctgInvoicePermissionCheck" result-map="permResult">
                    <field-map field-name="mainAction" value="PAYMENT_EDIT"/>
                </service>
                <set field="hasPaymentEditPermission" from-field="permResult.hasPermission"/>
                <set  field="parameters.paymentDate" from-field="parameters.paymentDate_fld0_value"/>
                <set field="parameters.paymentDate_fld0_value" from-field="parameters.paymentDate_fld0_value"/>
                <set field="parameters.paymentDate_fld1_value" from-field="parameters.paymentDate_fld1_value"/>
                <set field="parameters.paymentDate_fld0_op" from-field="parameters.paymentDate_fld0_op"/>
                <set field="parameters. paymentDate_fld1_op" from-field="parameters. paymentDate_fld1_op"/>
                <service service-name="performFind" result-map="result">
	                <field-map field-name="inputFields" from-field="parameters"/>
	                <field-map field-name="entityName" value="PaymentAndType"/>
	                <field-map field-name="orderBy" value="effectiveDate DESC"/>
	                <field-map field-name="viewIndex" from-field="viewIndex"/>
	                <field-map field-name="viewSize" from-field="viewSize"/>
	            </service>
	            <set field="payments" from-field="result.listIt"/>
            </actions>
            <widgets>
               <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    <include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="NonRoutePaymentSubTabBar" />
                    	<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="BreanchIncomingAdvancesTabBar" />
                      <section>
                            <widgets>
                                <decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
                                    <decorator-section name="menu-bar">
                                    	<section>
                                    		<condition>
                                    		<if-compare operator="equals" value="true" field="hasPaymentEditPermission"/>
                                    		</condition>
                                    		<widgets>
                                             <container style="button-bar">
                                            <link target="BranchNewIncomingAdvancesRefund" text="${uiLabelMap.CommonCreateNew}" style="buttontext create"/>
                                        </container>
                                        </widgets>
                                    </section>
                                    </decorator-section>
                                    <decorator-section name="search-options">
                                       <include-form name="BranchFindIncomingAdvancesRefund" location="component://depotsales/widget/DepotSalesForms.xml"/>
                                    </decorator-section>
                                    <decorator-section name="search-results">
                                    <container>
                                    		<link target="IncomingAdvancesRefund.csv" text="Export As CSV" style="buttontext">
                                    			<parameter param-name="paymentTypeId" from-field="parameters.paymentTypeId"/>
                                    			<parameter param-name="statusId" from-field="parameters.statusId"/>
                                    			<parameter param-name="partyIdFrom" from-field="parameters.partyIdFrom"/>
                                    			<parameter param-name="partyIdTo" from-field="parameters.partyIdTo"/>
                                    			<parameter param-name="paymentDate" from-field="parameters.paymentDate"/>
                                    			<parameter param-name="paymentDate_fld0_value" from-field="parameters.paymentDate_fld0_value"/>
                                    			<parameter param-name="paymentDate_fld0_op" from-field="parameters.paymentDate_fld0_op"/>
                                    			<parameter param-name="paymentDate_fld1_value" from-field="parameters.paymentDate_fld1_value"/>
                                    			<parameter param-name="paymentDate_fld1_op" from-field="parameters.paymentDate_fld1_op"/>
                                    			<parameter param-name="amount" from-field="parameters.amount"/>
                                    			<parameter param-name="paymentRefNum" from-field="parameters.paymentRefNum"/>
                                    			<parameter param-name="parentTypeId" from-field="parameters.parentTypeId"/>
                                    		</link>
                                    	</container>
                                    	<platform-specific>
                                           	<html><html-template location="component://accounting/webapp/accounting/payment/ListSearchAdvancesAndDeposits.ftl"/></html>
                                       	</platform-specific>
                                        <!-- <include-form name="ListPayments"  location="component://accounting/widget/PaymentForms.xml"/> -->
                                    </decorator-section>
                                </decorator-screen>
                            </widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    
    
     <screen name="BranchNewIncomingAdvanceReceived">
       <section>
            <actions>
                <set field="titleProperty" value="New Advance Receipt"/>
                <set field="subTabButtonItem" value="BranchAdvancePaymentsTab"/>
                <set field="tabButtonItem4" value="BranchIncomingAdvancesReceived"/>
                <service service-name="acctgInvoicePermissionCheck" result-map="permResult">
                    <field-map field-name="mainAction" value="PAYMENT_EDIT"/>
                </service>
                <set field="parameters.findPaymentMethodType" value="bankOrNonBankMethodType"/>
                 <script location="component://accounting/webapp/accounting/WEB-INF/actions/findPaymentMethodType.groovy"/>
               	<set field="layoutSettings.javaScripts[]" value="/accounting/images/paymentMethodType.js" global="true"/>
                <set field="hasPaymentEditPermission" from-field="permResult.hasPermission"/>
            </actions>
            <widgets>
                <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    <include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="NonRoutePaymentSubTabBar" />
                    	<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="BreanchIncomingAdvancesTabBar" />
                              <section>
                        	<condition>
                        		<if-compare operator="equals" value="true" field="hasPaymentEditPermission"/>
                        	</condition>
                            <widgets>
                                <screenlet title="New Incoming Deposit">
                                    <include-form name="BranchNewIncomingAdvanceReceipt" location="component://depotsales/widget/DepotSalesForms.xml"/>
                                </screenlet>
                            </widgets>
                            <fail-widgets>
                            	<label style="h3" text="${uiLabelMap.newPaymentScreenError}"/>
                            </fail-widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    
     <screen name="BranchNewIncomingAdvancesRefund">
       <section>
            <actions>
                <set field="titleProperty" value="New Advance Refund"/>
                <set field="subTabButtonItem" value="BranchAdvancePaymentsTab"/>
                <set field="tabButtonItem4" value="BranchIncomingAdvancesRefund"/>
                <service service-name="acctgInvoicePermissionCheck" result-map="permResult">
                    <field-map field-name="mainAction" value="PAYMENT_EDIT"/>
                </service>
                <!-- <set field="layoutSettings.javaScripts[]" value="/accounting/images/paymentMethod.js" global="true"/> -->
                <set field="searchParentType" value="ADVANCES_PAYIN"/>
                <set field="refundParentType" value="REFUND_PAYOUT"/>
                <set field="hasPaymentEditPermission" from-field="permResult.hasPermission"/>
                <script location="component://accounting/webapp/accounting/WEB-INF/actions/GetPaymentsForParty.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                    <include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="NonRoutePaymentSubTabBar" />
                    	<include-menu location="component://depotsales/widget/DepotSalesMenus.xml"
							name="BreanchIncomingAdvancesTabBar" />
                            <section>
                        	<condition>
                        		<if-compare operator="equals" value="true" field="hasPaymentEditPermission"/>
                        	</condition>
                            <widgets>
                                <decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
                                    <decorator-section name="search-options">
                                        <include-form name="BranchNewIncomingAdvancesRefund" location="component://depotsales/widget/DepotSalesForms.xml"/>
                                    </decorator-section>
                                    <decorator-section name="search-results">
                                    	<platform-specific>
                                           	<html><html-template location="component://accounting/webapp/accounting/payment/PaymentRefunds.ftl"/></html>
                                       	</platform-specific>
                                    	<screenlet title="Possible Payments To Refund">
                                            <include-form name="BranchlistPaymentsNotApplied" location="component://depotsales/widget/DepotSalesForms.xml"/>
                                        </screenlet>
                                    </decorator-section>
                                    
                                </decorator-screen>
                                
                                <!-- <screenlet title="New Incoming Advance">
                                    <include-form name="NewIncomingAdvancesRefund" location="component://accounting/widget/TreasurerPortalForms.xml"/>
                                </screenlet> -->
                            </widgets>
                            <fail-widgets>
                            	<label style="h3" text="${uiLabelMap.newPaymentScreenError}"/>
                            </fail-widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    
    <!-- Silk Branch Sales -->
    <screen name="SilkBranchSalesOrder">
		<section>
			<actions>
				<set field="titleProperty" value="${uiLabelMap.BranchSalesEntry}" />
				<set field="tabButtonItem" value="BranchSalesOrder" />
				<set field="tabButtonItem2" value="BranchSalesOrder" />
				<set field="tabButtonItem3" value="${parameters.menuName}" default-value="SilkIndent" />
				<set field="tabButtonItem4" value="DirectIndent" />
				<set field="changeFlag" value="DepotSales" />
				<set field="parameters.screenFlag" value="SilkIndent"/>
				<set field="parameters.formAction" value="SilkBranchSalesOrder"/>
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="orderStatus" from-field="parameters.orderStatus" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="parameters.roleTypeId" value="EMPANELLED_CUSTOMER"/>
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/TransportersList.groovy" />
				
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<!-- <container><label text="isFormSubmitted:${isFormSubmitted}" ></label></container> -->
						<!-- <include-menu name="BranchSalesEntryIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" /> -->
							<include-menu name="VariantIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
							<include-menu name="SilkBranchIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="SilkBranchSaleInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="SilkBranchSalesInnerScreen" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="SilkBranchSaleInner">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" value="${parameters.productSubscriptionTypeId}" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>


				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="indentReceivedDate" value="${parameters.indentReceivedDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="checkListType" value="indentEntry" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<entity-condition entity-name="Enumeration" list="prodSubTypes"
					use-cache="true">
					<condition-list>
						<condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="CARD" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="LEAK" />
					</condition-list>
					<order-by field-name="sequenceId" />
				</entity-condition>

				<!-- <entity-condition entity-name="Product" list="productList" use-cache="true"> 
					</entity-condition> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enableBoothAutoComplete.groovy"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
				<set field="routeId" from-field="parameters.routeId" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/BranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="SilkBranchSalesInnerScreen">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" from-field="parameters.productSubscriptionTypeId" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<set field="boothId" from-field="parameters.boothId" />
				<!-- <entity-condition entity-name="Enumeration" list="prodSubTypes" 
					use-cache="true"> <condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE"/> 
					<order-by field-name="sequenceId"/> </entity-condition> -->
				<set field="checkListType" value="indentEntry" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="indentReceivedDate" value="${parameters.indentReceivedDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="PONumber" from-field="parameters.PONumber" />
				<set field="insuranceNum" from-field="parameters.insuranceNum" />
				<set field="insCompany" from-field="parameters.insCompany" />
				<set field="promotionAdj" from-field="parameters.promotionAdj" />
				<set field="productCategoryId" from-field="parameters.productCategoryId" />
				<set field="vehicleId" from-field="parameters.vehicleId" />
				<set field="disableAcctgFlag" value="Y" />
				<set field="productStoreId" from-field="parameters.productStoreIdFrom" />
				<set field="partyId" from-field="parameters.partyId" />
				<set field="cfcs" from-field="parameters.cfcs" />
				<set field="salesChannel" from-field="parameters.salesChannel" />
				<set field="partyGeoId" from-field="parameters.partyGeoId" />
				<set field="branchGeoId" from-field="parameters.branchGeoId" />
				<set field="supplierGeoId" from-field="parameters.supplierGeoId" />
				<set field="referenceNo" from-field="parameters.referenceNo" />
				<set field="tallyReferenceNo" from-field="parameters.tallyReferenceNo" />
				<set field="contactMechId" from-field="parameters.contactMechId" />
				<set field="transporterId" from-field="parameters.transporterId" />
				<set field="suplierAdd" from-field="parameters.suplierAdd" />
				<set field="manualQuota" from-field="parameters.manualQuota" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/BranchSalesOrderInnerScreenHelper.groovy" />
				<!-- <script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/EditStoreOrderForm.groovy" /> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/BranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/BranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	
	<!-- Cotton Branch Sales -->   
    <screen name="CottonBranchSalesOrder">
		<section>
			<actions>
				<set field="titleProperty" value="${uiLabelMap.BranchSalesEntry}" />
				<set field="tabButtonItem" value="BranchSalesOrder" />
				<set field="tabButtonItem2" value="BranchSalesOrder" />
				<set field="tabButtonItem3" value="${parameters.menuName}" default-value="CottonIndent" />
				<set field="tabButtonItem4" value="DirectIndent" />
				<set field="changeFlag" value="DepotSales" />
				<set field="parameters.screenFlag" value="CottonIndent"/>
				<set field="parameters.formAction" value="CottonBranchSalesOrder"/>
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="orderStatus" from-field="parameters.orderStatus" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="indentReceivedDate" value="${parameters.indentReceivedDate}" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="parameters.roleTypeId" value="EMPANELLED_CUSTOMER"/>
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<!-- <container><label text="isFormSubmitted:${isFormSubmitted}" ></label></container> -->
						<!-- <include-menu name="BranchSalesEntryIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" /> -->
							<include-menu name="VariantIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
							<include-menu name="CottonBranchIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="CottonBranchSaleInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="CottonBranchSalesInnerScreen" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="CottonBranchSaleInner">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" value="${parameters.productSubscriptionTypeId}" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>


				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="checkListType" value="indentEntry" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<entity-condition entity-name="Enumeration" list="prodSubTypes"
					use-cache="true">
					<condition-list>
						<condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="CARD" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="LEAK" />
					</condition-list>
					<order-by field-name="sequenceId" />
				</entity-condition>

				<!-- <entity-condition entity-name="Product" list="productList" use-cache="true"> 
					</entity-condition> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enableBoothAutoComplete.groovy"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
				<set field="routeId" from-field="parameters.routeId" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/BranchSaleCottonOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="CottonBranchSalesInnerScreen">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" from-field="parameters.productSubscriptionTypeId" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<set field="boothId" from-field="parameters.boothId" />
				<!-- <entity-condition entity-name="Enumeration" list="prodSubTypes" 
					use-cache="true"> <condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE"/> 
					<order-by field-name="sequenceId"/> </entity-condition> -->
				<set field="checkListType" value="indentEntry" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="PONumber" from-field="parameters.PONumber" />
				<set field="insuranceNum" from-field="parameters.insuranceNum" />
				<set field="insCompany" from-field="parameters.insCompany" />
				<set field="promotionAdj" from-field="parameters.promotionAdj" />
				<set field="productCategoryId" from-field="parameters.productCategoryId" />
				<set field="vehicleId" from-field="parameters.vehicleId" />
				<set field="disableAcctgFlag" value="Y" />
				<set field="productStoreId" from-field="parameters.productStoreIdFrom" />
				<set field="partyId" from-field="parameters.partyId" />
				<set field="cfcs" from-field="parameters.cfcs" />
				<set field="salesChannel" from-field="parameters.salesChannel" />
				<set field="partyGeoId" from-field="parameters.partyGeoId" />
				<set field="branchGeoId" from-field="parameters.branchGeoId" />
				<set field="supplierGeoId" from-field="parameters.supplierGeoId" />
				<set field="referenceNo" from-field="parameters.referenceNo" />
				<set field="tallyReferenceNo" from-field="parameters.tallyReferenceNo" />
				<set field="contactMechId" from-field="parameters.contactMechId" />
				<set field="transporterId" from-field="parameters.transporterId" />
				<set field="suplierAdd" from-field="parameters.suplierAdd" />
				
				
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/BranchSalesOrderInnerScreenHelper.groovy" />
				<!-- <script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/EditStoreOrderForm.groovy" /> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/BranchSaleCottonOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/BranchSaleCottonOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	
	<!-- Other Branch Sales -->  
    <screen name="OtherBranchSalesOrder">
		<section>
			<actions>
				<set field="titleProperty" value="${uiLabelMap.BranchSalesEntry}" />
				<set field="tabButtonItem" value="BranchSalesOrder" />
				<set field="tabButtonItem2" value="BranchSalesOrder" />
				<set field="tabButtonItem3" value="${parameters.menuName}" default-value="OtherIndent" />
				<set field="tabButtonItem4" value="DirectIndent" />
				<set field="changeFlag" value="DepotSales" />
				<set field="parameters.screenFlag" value="OtherIndent"/>
				<set field="parameters.formAction" value="OtherBranchSalesOrder"/>
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="orderStatus" from-field="parameters.orderStatus" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="indentReceivedDate" value="${parameters.indentReceivedDate}" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="parameters.roleTypeId" value="EMPANELLED_CUSTOMER"/>
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<!-- <container><label text="isFormSubmitted:${isFormSubmitted}" ></label></container> -->
						<!-- <include-menu name="BranchSalesEntryIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" /> -->
							<include-menu name="VariantIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
							<include-menu name="OtherBranchIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="OtherBranchSaleInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="OtherBranchSalesInnerScreen" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="OtherBranchSaleInner">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" value="${parameters.productSubscriptionTypeId}" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>


				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="checkListType" value="indentEntry" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<entity-condition entity-name="Enumeration" list="prodSubTypes"
					use-cache="true">
					<condition-list>
						<condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="CARD" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="LEAK" />
					</condition-list>
					<order-by field-name="sequenceId" />
				</entity-condition>

				<!-- <entity-condition entity-name="Product" list="productList" use-cache="true"> 
					</entity-condition> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enableBoothAutoComplete.groovy"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
				<set field="routeId" from-field="parameters.routeId" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/BranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="OtherBranchSalesInnerScreen">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" from-field="parameters.productSubscriptionTypeId" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<set field="boothId" from-field="parameters.boothId" />
				<!-- <entity-condition entity-name="Enumeration" list="prodSubTypes" 
					use-cache="true"> <condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE"/> 
					<order-by field-name="sequenceId"/> </entity-condition> -->
				<set field="checkListType" value="indentEntry" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="PONumber" from-field="parameters.PONumber" />
				<set field="insuranceNum" from-field="parameters.insuranceNum" />
				<set field="insCompany" from-field="parameters.insCompany" />
				<set field="promotionAdj" from-field="parameters.promotionAdj" />
				<set field="productCategoryId" from-field="parameters.productCategoryId" />
				<set field="vehicleId" from-field="parameters.vehicleId" />
				<set field="disableAcctgFlag" value="Y" />
				<set field="productStoreId" from-field="parameters.productStoreIdFrom" />
				<set field="partyId" from-field="parameters.partyId" />
				<set field="cfcs" from-field="parameters.cfcs" />
				<set field="salesChannel" from-field="parameters.salesChannel" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/BranchSalesOrderInnerScreenHelper.groovy" />
				<!-- <script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/EditStoreOrderForm.groovy" /> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/BranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/BranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>


<!-- Branch Sales multiple wievers screens --> 
    <screen name="MultiBranchSalesOrder">
		<section>
			<actions>
				<set field="titleProperty" value="${uiLabelMap.BranchSalesEntry}" />
				<set field="tabButtonItem" value="BranchSalesOrder" />
				<set field="tabButtonItem2" value="MultiBranchSalesOrder" />
				<set field="changeFlag" value="DepotSales" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="orderStatus" from-field="parameters.orderStatus" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="parameters.roleTypeId" value="EMPANELLED_CUSTOMER"/>
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<!-- <container><label text="isFormSubmitted:${isFormSubmitted}" ></label></container> -->
						<include-menu name="BranchSalesEntryIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="MultiBranchSaleInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="MultiBranchSalesInnerScreen" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="MultiBranchSaleInner">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" value="${parameters.productSubscriptionTypeId}" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>


				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="checkListType" value="indentEntry" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<entity-condition entity-name="Enumeration" list="prodSubTypes"
					use-cache="true">
					<condition-list>
						<condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="CARD" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="LEAK" />
					</condition-list>
					<order-by field-name="sequenceId" />
				</entity-condition>

				<!-- <entity-condition entity-name="Product" list="productList" use-cache="true"> 
					</entity-condition> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enableBoothAutoComplete.groovy"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
				<set field="routeId" from-field="parameters.routeId" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/MultiBranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="MultiBranchSalesInnerScreen">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" from-field="parameters.productSubscriptionTypeId" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<set field="boothId" from-field="parameters.boothId" />
				<!-- <entity-condition entity-name="Enumeration" list="prodSubTypes" 
					use-cache="true"> <condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE"/> 
					<order-by field-name="sequenceId"/> </entity-condition> -->
				<set field="checkListType" value="indentEntry" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="PONumber" from-field="parameters.PONumber" />
				<set field="insuranceNum" from-field="parameters.insuranceNum" />
				<set field="insCompany" from-field="parameters.insCompany" />
				<set field="promotionAdj" from-field="parameters.promotionAdj" />
				<set field="productCategoryId" from-field="parameters.productCategoryId" />
				<set field="vehicleId" from-field="parameters.vehicleId" />
				<set field="disableAcctgFlag" value="Y" />
				<set field="productStoreId" from-field="parameters.productStoreIdFrom" />
				<set field="partyId" from-field="parameters.partyId" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/BranchSalesOrderInnerScreenHelper.groovy" />
				<!-- <script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/EditStoreOrderForm.groovy" /> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/MultiBranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/MultiBranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>






<!-- Branch Silk multiple wievers screens -->
    <screen name="SilkMultiBranchSalesOrder">
		<section>
			<actions>
				<set field="titleProperty" value="${uiLabelMap.BranchSalesEntry}" />
				<set field="tabButtonItem" value="BranchSalesOrder" />
				<set field="tabButtonItem2" value="BranchSalesOrder" />
				<set field="tabButtonItem3" value="${parameters.menuName}" default-value="SilkIndent" />
				<set field="tabButtonItem4" value="onBeHalfIndent" />
				<set field="changeFlag" value="DepotSales" />
				<set field="parameters.screenFlag" value="SilkIndent"/>
				<set field="parameters.formAction" value="SilkMultiBranchSalesOrder"/>
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="orderStatus" from-field="parameters.orderStatus" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="indentReceivedDate" value="${parameters.indentReceivedDate}" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="parameters.roleTypeId" value="EMPANELLED_CUSTOMER"/>
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<!-- <container><label text="isFormSubmitted:${isFormSubmitted}" ></label></container> -->
						<!-- <include-menu name="BranchSalesEntryIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" /> -->
							<include-menu name="VariantIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
							<include-menu name="SilkBranchIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="SilkMultiBranchSaleInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="SilkMultiBranchSalesInnerScreen" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="SilkMultiBranchSaleInner">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" value="${parameters.productSubscriptionTypeId}" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>


				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="checkListType" value="indentEntry" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<entity-condition entity-name="Enumeration" list="prodSubTypes"
					use-cache="true">
					<condition-list>
						<condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="CARD" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="LEAK" />
					</condition-list>
					<order-by field-name="sequenceId" />
				</entity-condition>

				<!-- <entity-condition entity-name="Product" list="productList" use-cache="true"> 
					</entity-condition> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enableBoothAutoComplete.groovy"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
				<set field="routeId" from-field="parameters.routeId" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/MultiBranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="SilkMultiBranchSalesInnerScreen">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" from-field="parameters.productSubscriptionTypeId" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<set field="boothId" from-field="parameters.boothId" />
				<!-- <entity-condition entity-name="Enumeration" list="prodSubTypes" 
					use-cache="true"> <condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE"/> 
					<order-by field-name="sequenceId"/> </entity-condition> -->
				<set field="checkListType" value="indentEntry" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="PONumber" from-field="parameters.PONumber" />
				<set field="insuranceNum" from-field="parameters.insuranceNum" />
				<set field="insCompany" from-field="parameters.insCompany" />
				<set field="promotionAdj" from-field="parameters.promotionAdj" />
				<set field="productCategoryId" from-field="parameters.productCategoryId" />
				<set field="vehicleId" from-field="parameters.vehicleId" />
				<set field="disableAcctgFlag" value="Y" />
				<set field="productStoreId" from-field="parameters.productStoreIdFrom" />
				<set field="partyId" from-field="parameters.partyId" />
				<set field="cfcs" from-field="parameters.cfcs" />
				<set field="salesChannel" from-field="parameters.salesChannel" />
				<set field="partyGeoId" from-field="parameters.partyGeoId" />
				<set field="branchGeoId" from-field="parameters.branchGeoId" />
				<set field="supplierGeoId" from-field="parameters.supplierGeoId" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/BranchSalesOrderInnerScreenHelper.groovy" />
				<!-- <script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/EditStoreOrderForm.groovy" /> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/MultiBranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/MultiBranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>




<!-- Branch Cotton multiple wievers screens --> 
    <screen name="CottonMultiBranchSalesOrder">
		<section>
			<actions>
				<set field="titleProperty" value="${uiLabelMap.BranchSalesEntry}" />
				<set field="tabButtonItem" value="BranchSalesOrder" />
				<set field="tabButtonItem2" value="BranchSalesOrder" />
				<set field="tabButtonItem3" value="${parameters.menuName}" default-value="CottonIndent" />
				<set field="tabButtonItem4" value="onBeHalfIndent" />
				<set field="changeFlag" value="DepotSales" />
				<set field="parameters.formAction" value="CottonMultiBranchSalesOrder"/>
				<set field="parameters.screenFlag" value="CottonIndent"/>
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="orderStatus" from-field="parameters.orderStatus" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="indentReceivedDate" value="${parameters.indentReceivedDate}" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="parameters.roleTypeId" value="EMPANELLED_CUSTOMER"/>
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<!-- <container><label text="isFormSubmitted:${isFormSubmitted}" ></label></container> -->
						<!-- <include-menu name="BranchSalesEntryIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" /> -->
							<include-menu name="VariantIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
							<include-menu name="CottonBranchIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="CottonMultiBranchSaleInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="CottonMultiBranchSalesInnerScreen" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="CottonMultiBranchSaleInner">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" value="${parameters.productSubscriptionTypeId}" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>


				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="checkListType" value="indentEntry" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<entity-condition entity-name="Enumeration" list="prodSubTypes"
					use-cache="true">
					<condition-list>
						<condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="CARD" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="LEAK" />
					</condition-list>
					<order-by field-name="sequenceId" />
				</entity-condition>

				<!-- <entity-condition entity-name="Product" list="productList" use-cache="true"> 
					</entity-condition> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enableBoothAutoComplete.groovy"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
				<set field="routeId" from-field="parameters.routeId" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/MultiBranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="CottonMultiBranchSalesInnerScreen">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" from-field="parameters.productSubscriptionTypeId" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<set field="boothId" from-field="parameters.boothId" />
				<!-- <entity-condition entity-name="Enumeration" list="prodSubTypes" 
					use-cache="true"> <condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE"/> 
					<order-by field-name="sequenceId"/> </entity-condition> -->
				<set field="checkListType" value="indentEntry" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="PONumber" from-field="parameters.PONumber" />
				<set field="insuranceNum" from-field="parameters.insuranceNum" />
				<set field="insCompany" from-field="parameters.insCompany" />
				<set field="promotionAdj" from-field="parameters.promotionAdj" />
				<set field="productCategoryId" from-field="parameters.productCategoryId" />
				<set field="vehicleId" from-field="parameters.vehicleId" />
				<set field="disableAcctgFlag" value="Y" />
				<set field="productStoreId" from-field="parameters.productStoreIdFrom" />
				<set field="partyId" from-field="parameters.partyId" />
				<set field="cfcs" from-field="parameters.cfcs" />
				<set field="salesChannel" from-field="parameters.salesChannel" />
				<set field="partyGeoId" from-field="parameters.partyGeoId" />
				<set field="branchGeoId" from-field="parameters.branchGeoId" />
				<set field="supplierGeoId" from-field="parameters.supplierGeoId" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/BranchSalesOrderInnerScreenHelper.groovy" />
				<!-- <script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/EditStoreOrderForm.groovy" /> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/MultiBranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/MultiBranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>





<!-- Branch Other multiple wievers screens -->
    <screen name="OtherMultiBranchSalesOrder">
		<section>
			<actions>
				<set field="titleProperty" value="${uiLabelMap.BranchSalesEntry}" />
				<set field="tabButtonItem" value="BranchSalesOrder" />
				<set field="tabButtonItem2" value="BranchSalesOrder" />
				<set field="tabButtonItem3" value="${parameters.menuName}" default-value="OtherIndent"/>
				<set field="tabButtonItem4" value="onBeHalfIndent" />
				<set field="changeFlag" value="DepotSales" />
				<set field="parameters.formAction" value="OtherMultiBranchSalesOrder"/>
				<set field="parameters.screenFlag" value="OtherIndent"/>
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="orderStatus" from-field="parameters.orderStatus" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="indentReceivedDate" value="${parameters.indentReceivedDate}" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="parameters.roleTypeId" value="EMPANELLED_CUSTOMER"/>
				
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/TransportersList.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<!-- <container><label text="isFormSubmitted:${isFormSubmitted}" ></label></container> -->
						<!-- <include-menu name="BranchSalesEntryIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" /> -->
							<include-menu name="VariantIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
							<include-menu name="OtherBranchIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="OtherMultiBranchSaleInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="OtherMultiBranchSalesInnerScreen" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	<screen name="OtherMultiBranchSaleInner">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" value="${parameters.productSubscriptionTypeId}" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<entity-one value-field="showBoothAutoSuggestConf"
					entity-name="TenantConfiguration">
					<field-map field-name="propertyTypeEnumId" value="FACILITY_AUTOSUGGEST" />
					<field-map field-name="propertyName" value="showBoothAutoSuggest" />
					<select-field field-name="propertyValue" />
				</entity-one>


				<set field="showBoothAutoSuggest" value="${showBoothAutoSuggestConf.propertyValue}" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="checkListType" value="indentEntry" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<entity-condition entity-name="Enumeration" list="prodSubTypes"
					use-cache="true">
					<condition-list>
						<condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="CARD" />
						<condition-expr field-name="enumId" operator="not-equals"
							value="LEAK" />
					</condition-list>
					<order-by field-name="sequenceId" />
				</entity-condition>

				<!-- <entity-condition entity-name="Product" list="productList" use-cache="true"> 
					</entity-condition> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/enableBoothAutoComplete.groovy"/> -->
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
				<set field="routeId" from-field="parameters.routeId" />
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/MultiBranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<label style="h3">${uiLabelMap.ProductFacilityViewPermissionError}
						</label>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
	<screen name="OtherMultiBranchSalesInnerScreen">
		<section>
			<actions>
				<set field="changeFlag" from-field="changeFlag" />
				<set field="productSubscriptionTypeId" from-field="parameters.productSubscriptionTypeId" />
				<set field="subscriptionTypeId" from-field="parameters.subscriptionTypeId" />
				<set field="boothId" from-field="parameters.boothId" />
				<!-- <entity-condition entity-name="Enumeration" list="prodSubTypes" 
					use-cache="true"> <condition-expr field-name="enumTypeId" value="SUB_PROD_TYPE"/> 
					<order-by field-name="sequenceId"/> </entity-condition> -->
				<set field="checkListType" value="indentEntry" />
				<set field="effectiveDate" value="${parameters.effectiveDate}" />
				<set field="orderDate" value="${parameters.orderDate}" />
				<set field="shipmentTypeId" value="${parameters.shipmentTypeId}" />
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="PONumber" from-field="parameters.PONumber" />
				<set field="insuranceNum" from-field="parameters.insuranceNum" />
				<set field="insCompany" from-field="parameters.insCompany" />
				<set field="promotionAdj" from-field="parameters.promotionAdj" />
				<set field="productCategoryId" from-field="parameters.productCategoryId" />
				<set field="vehicleId" from-field="parameters.vehicleId" />
				<set field="disableAcctgFlag" value="Y" />
				<set field="productStoreId" from-field="parameters.productStoreIdFrom" />
				<set field="partyId" from-field="parameters.partyId" />
				<set field="cfcs" from-field="parameters.cfcs" />
				<set field="salesChannel" from-field="parameters.salesChannel" />
				<set field="partyGeoId" from-field="parameters.partyGeoId" />
				<set field="branchGeoId" from-field="parameters.branchGeoId" />
				<set field="supplierGeoId" from-field="parameters.supplierGeoId" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/BranchSalesOrderInnerScreenHelper.groovy" />
				<!-- <script
					location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/EditStoreOrderForm.groovy" /> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/recentChangeIndents.groovy"/> -->
				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/indentCheckListReport.groovy"/> -->
			</actions>
			<widgets>
				<section>
					<widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/MultiBranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</widgets>
					<fail-widgets>
						<platform-specific>
							<html>
								<html-template
									location="component://depotsales/webapp/depotsales/depotsales/MultiBranchSaleOrderFormTest.ftl" />
							</html>
						</platform-specific>
					</fail-widgets>
				</section>
			</widgets>
		</section>
	</screen>
		<screen name="CreateBranchTransPO">
		<section>
			<actions>
				<set field="titleProperty" value="Purchase Order" />
    				<set field="tabButtonItem" value="processOrdersBranchSales" />
    				<set field="tabButtonItem2" value="DraftPurchaseOrder" />
				<set field="targetRequest" value="FindDepotTransPO" />
				<!-- <set field="ChannalType" value="PROD_PRCHSE_CHANNEL"/> -->
				<set field="parameters.roleTypeId" value="SUPPLIER" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="changeFlag" value="PurchaseOrder" />
				<set field="parameters.POId" from-field="orderId" />
				<set field="parameters.changeFlag" value="PurchaseOrder" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/orgnigationDept.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PurchaseEntryFormNew.groovy" />
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/EditBranchPOEntryForm.groovy" />
				<set field="purchaseTypeFlag" from-field="parameters.purchaseTypeFlag" />
				</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
					<include-menu name="BranchSalesIndentWithPoTabBar"
    							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<!-- <label style="h1">New PO</label> -->
								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/CreateBranchTransPo.ftl" />
									</html>
								</platform-specific>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	 <screen name="FindSupplier">
        <section>
            <actions>
                <property-map resource="PartyUiLabels" map-name="uiLabelMap" global="true"/>
                <property-map resource="VendorUiLabels" map-name="uiLabelMap" global="true"/>
                <set field="titleProperty" value="Find Supplier"/>
                <set field="headerItem" value="find"/>
                <set field="tabButtonItem" value="FindSupplier"/>
				<set field="layoutSettings.javaScripts[]" value="/materialmgmt/images/VendorValidations.js" global="true" />
                <service service-name="findParty" auto-field-map="parameters"/>
            </actions>
            <widgets>
                <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                      <decorator-section name="body">   
                      	<section>
	                      	  <condition>
	                             <if-compare operator="equals" field="isFormSubmitted" value=""/>
	                         </condition>
	                      		<widgets>
	                      		<link target="CreateNewSupplier"  text="Create Supplier" style="buttontext" ></link>
	           						<platform-specific>
                                    <html><html-template location="component://depotsales/webapp/depotsales/depotsales/findSupplier.ftl" />
                                    </html>
                                </platform-specific>
	                      		</widgets>
	                      		 <fail-widgets>
                                <label style="h3" text="${uiLabelMap.PartyMgrViewPermissionError}"/>
                            </fail-widgets>
                      	</section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
     <screen name="FindTransporter">
        <section>
            <actions>
                <property-map resource="PartyUiLabels" map-name="uiLabelMap" global="true"/>
                <property-map resource="VendorUiLabels" map-name="uiLabelMap" global="true"/>
                <set field="titleProperty" value="Find Supplier"/>
                <set field="headerItem" value="find"/>
                <set field="tabButtonItem" value="Transpoter"/>
				<set field="layoutSettings.javaScripts[]" value="/materialmgmt/images/VendorValidations.js" global="true" />
                <service service-name="findParty" auto-field-map="parameters"/>
            </actions>
            <widgets>
                <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                      <decorator-section name="body">   
                      	<section>
	                      	  <condition>
	                             <if-compare operator="equals" field="isFormSubmitted" value=""/>
	                         </condition>
	                      		<widgets>
	                      		<link target="CreateNewTransporter"  text="Create Transporter" style="buttontext" ></link>
	           						<platform-specific>
                                    <html><html-template location="component://depotsales/webapp/depotsales/depotsales/findTransPorter.ftl" />
                                    </html>
                                </platform-specific>
	                      		</widgets>
	                      		 <fail-widgets>
                                <label style="h3" text="${uiLabelMap.PartyMgrViewPermissionError}"/>
                            </fail-widgets>
                      	</section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
     <screen name="CreateNewSupplier">
        <section>
            <actions>
                <property-map resource="VendorUiLabels" map-name="uiLabelMap" global="true"/>
                <set field="titleProperty" value="PageTitleEditGroupInformation"/>
                <set field="tabButtonItem" value="FindSupplier"/>
                <set field="headerItem" value="find"/>
                <set field="labelTitleProperty" value="PageTitleEditGroupInformation"/>
                <set field="donePage" from-field="parameters.DONE_PAGE" default-value="viewprofile"/>
                <set field="partyId" from-field="parameters.partyId"/>
                <set field="layoutSettings.javaScripts[]" value="/materialmgmt/images/VendorValidations.js" global="true" />
                <entity-one entity-name="PartyAndGroup" value-field="partyGroup"/>
                
                 <entity-condition list="roleTypes"
					entity-name="RoleType">
					<condition-list combine="or">
						<condition-expr field-name="roleTypeId" value="EMPANELLED_SUPPLIER" />
						<condition-expr field-name="roleTypeId" value="UNEMPALED_SUPPLIER" />
					</condition-list>
				</entity-condition>
                <script location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/createNewWieverInfo.groovy" />
            </actions>
            <widgets>
                <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                      <decorator-section name="body">   
          					<platform-specific><html><html-template location="component://depotsales/webapp/depotsales/depotsales/createSupplier.ftl"/></html></platform-specific>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="EditVendor">
        <section>
            <actions>
                <property-map resource="VendorUiLabels" map-name="uiLabelMap" global="true"/>
                <set field="titleProperty" value="PageTitleEditGroupInformation"/>
                <set field="tabButtonItem" value="FindSupplier"/>
                <set field="headerItem" value="find"/>
                <set field="labelTitleProperty" value="PageTitleEditGroupInformation"/>
                <set field="donePage" from-field="parameters.DONE_PAGE" default-value="viewprofile"/>
                <set field="partyId" from-field="parameters.partyId"/>
                <set field="layoutSettings.javaScripts[]" value="/materialmgmt/images/VendorValidations.js" global="true" />
                <entity-one entity-name="PartyAndGroup" value-field="partyGroup"/>
            </actions>
            <widgets>
                <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                      <decorator-section name="body">   
                        <screenlet title="${uiLabelMap.PageTitleEditGroupInformation}">
                            <include-form name="EditVendor" location="component://materialmgmt/widget/materialmgmtForms.xml"/>
                        </screenlet>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
     <screen name="viewprofile">
        <section>
            <actions>
              <property-map resource="PartyUiLabels" map-name="uiLabelMap" global="true"/>
              <property-map resource="VendorUiLabels" map-name="uiLabelMap" global="true"/>
                <set field="titleProperty" value="PageTitleViewPartyProfile"/>
                <set field="tabButtonItem" value="FindSupplier"/>
                <set field="donePage" from-field="parameters.DONE_PAGE" default-value="viewprofile"/>
                <set field="partyId" from-field="parameters.partyId"/>
                <set field="layoutSettings.javaScripts[]" value="/partymgr/js/PartyProfileContent.js" global="true"/>
                <script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/ViewProfile.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                      <decorator-section name="body">   
                        <section>
                            <condition>
                                <and>
                                    <if-empty field="partyId"/>
                                    <not><if-empty field="parameters.telno"/></not>
                                </and>
                            </condition>
                            <actions>
                                <service service-name="findPartyFromTelephone" auto-field-map="true" result-map="telnoMap"/>
                                <entity-one entity-name="Party" value-field="party">
                                    <field-map field-name="partyId" from-field="telnoMap.partyId"/>
                                </entity-one>
                                <set field="parameters.partyId" from-field="party.partyId"/>
                            </actions>
                            <widgets/>
                        </section>
                        <section>
                            <condition>
                                <and>
                                    <if-empty field="partyId"/>
                                    <not><if-empty field="parameters.email"/></not>
                                </and>
                            </condition>
                            <actions>
                                <service service-name="findPartyFromEmailAddress" result-map="emailMap">
                                    <field-map field-name="address" from-field="parameters.email"/>
                                </service>
                                <entity-one entity-name="Party" value-field="party">
                                    <field-map field-name="partyId" from-field="emailMap.partyId"/>
                                </entity-one>
                                <set field="parameters.partyId" from-field="party.partyId"/>
                            </actions>
                            <widgets/>
                        </section>
                        <section>
                            <condition>
                                <not><if-empty field="party"/></not>
                            </condition>
                            <widgets>
                            	 <container>
                                    <include-screen name="Vendor"/>
                                    <include-screen name="Contact" location="component://party/widget/partymgr/ProfileScreens.xml"/>
                                    <include-screen name="EditProducerAccountDetails" location="component://depotsales/widget/DepotSalesScreens.xml"/>
                      				<include-form name="EditVendorIdentification" location="component://materialmgmt/widget/materialmgmtForms.xml"/>
                      				<include-form name="createVendorIdentification" location="component://materialmgmt/widget/materialmgmtForms.xml"/>
                                </container>
                            </widgets>
                            <fail-widgets>
                                <container>
                                    <label style="h3">${uiLabelMap.PartyNoPartyFoundWithPartyId}: ${parameters.partyId}</label>
                                </container>
                            </fail-widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    
    <screen name="AddOtherDetails">
        <section>
            <actions>
                <property-map resource="VendorUiLabels" map-name="uiLabelMap" global="true"/>
                <set field="titleProperty" value="PageTitleEditGroupInformation"/>
                <set field="tabButtonItem" value="FindSupplier"/>
                <set field="headerItem" value="find"/>
                <set field="labelTitleProperty" value="PageTitleEditGroupInformation"/>
                <set field="donePage" from-field="parameters.DONE_PAGE" default-value="viewprofile"/>
                <set field="partyId" from-field="parameters.partyId"/>
                <set field="layoutSettings.javaScripts[]" value="/materialmgmt/images/VendorValidations.js" global="true" />
                <entity-one entity-name="PartyAndGroup" value-field="partyGroup"/>
                <script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
					
					
					
            </actions>
            <widgets>
                <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                      <decorator-section name="body">   
                      
                         <platform-specific>
    										<html>
    											<html-template
    												location="component://depotsales/webapp/depotsales/depotsales/generatePO.ftl" />
    										</html>
    									</platform-specific>
                      
          					<platform-specific><html><html-template location="component://depotsales/webapp/depotsales/depotsales/AddOtherDetails.ftl"/></html></platform-specific>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    
     <screen name="TransPorterviewprofile">
        <section>
            <actions>
              <property-map resource="PartyUiLabels" map-name="uiLabelMap" global="true"/>
              <property-map resource="VendorUiLabels" map-name="uiLabelMap" global="true"/>
                <set field="titleProperty" value="PageTitleViewPartyProfile"/>
                <set field="tabButtonItem" value="Transpoter"/>
                <set field="donePage" from-field="parameters.DONE_PAGE" default-value="viewprofile"/>
                <set field="partyId" from-field="parameters.partyId"/>
                <set field="layoutSettings.javaScripts[]" value="/partymgr/js/PartyProfileContent.js" global="true"/>
                <script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/ViewProfile.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                      <decorator-section name="body">   
                        <section>
                            <condition>
                                <and>
                                    <if-empty field="partyId"/>
                                    <not><if-empty field="parameters.telno"/></not>
                                </and>
                            </condition>
                            <actions>
                                <service service-name="findPartyFromTelephone" auto-field-map="true" result-map="telnoMap"/>
                                <entity-one entity-name="Party" value-field="party">
                                    <field-map field-name="partyId" from-field="telnoMap.partyId"/>
                                </entity-one>
                                <set field="parameters.partyId" from-field="party.partyId"/>
                            </actions>
                            <widgets/>
                        </section>
                        <section>
                            <condition>
                                <and>
                                    <if-empty field="partyId"/>
                                    <not><if-empty field="parameters.email"/></not>
                                </and>
                            </condition>
                            <actions>
                                <service service-name="findPartyFromEmailAddress" result-map="emailMap">
                                    <field-map field-name="address" from-field="parameters.email"/>
                                </service>
                                <entity-one entity-name="Party" value-field="party">
                                    <field-map field-name="partyId" from-field="emailMap.partyId"/>
                                </entity-one>
                                <set field="parameters.partyId" from-field="party.partyId"/>
                            </actions>
                            <widgets/>
                        </section>
                        <section>
                            <condition>
                                <not><if-empty field="party"/></not>
                            </condition>
                            <widgets>
                            	 <container>
                                    <include-screen name="Vendor"/>
                                    <include-screen name="Contact" location="component://party/widget/partymgr/ProfileScreens.xml"/>
                      				<include-form name="EditVendorIdentification" location="component://materialmgmt/widget/materialmgmtForms.xml"/>
                      				<include-form name="createTraVendorIdentification" location="component://materialmgmt/widget/materialmgmtForms.xml"/>
                                </container>
                            </widgets>
                            <fail-widgets>
                                <container>
                                    <label style="h3">${uiLabelMap.PartyNoPartyFoundWithPartyId}: ${parameters.partyId}</label>
                                </container>
                            </fail-widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    
    <screen name="CreateNewTransporter">
        <section>
            <actions>
                <property-map resource="VendorUiLabels" map-name="uiLabelMap" global="true"/>
                <set field="titleProperty" value="PageTitleEditGroupInformation"/>
                <set field="tabButtonItem" value="Transpoter"/>
                <set field="headerItem" value="find"/>
                <set field="labelTitleProperty" value="PageTitleEditGroupInformation"/>
                <set field="donePage" from-field="parameters.DONE_PAGE" default-value="viewprofile"/>
                <set field="partyId" from-field="parameters.partyId"/>
                <set field="layoutSettings.javaScripts[]" value="/materialmgmt/images/VendorValidations.js" global="true" />
                <entity-one entity-name="PartyAndGroup" value-field="partyGroup"/>
                <script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
            </actions>
            <widgets>
                <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}">
                      <decorator-section name="body">   
          					<platform-specific><html><html-template location="component://depotsales/webapp/depotsales/depotsales/CreateTransporter.ftl"/></html></platform-specific>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="Vendor">
        <section>
            <actions>
                <property-map resource="VendorUiLabels" map-name="uiLabelMap" global="true"/>
                <set field="parameters.partyId" from-field="parameters.partyId" default-value="${userLogin.partyId}"/>
                <entity-and entity-name="PartyNameHistory" list="partyNameHistoryList">
                    <field-map field-name="partyId" from-field="parameters.partyId"/>
                    <order-by field-name="-changeDate"/>
                </entity-and>
                <entity-one entity-name="PartyAndGroup" value-field="lookupGroup">
                    <field-map field-name="partyId" from-field="parameters.partyId"/><!-- is required -->
                </entity-one>
            </actions>
            <widgets>
                <section>
                    <condition>
                        <not><if-empty field="lookupGroup"/></not>
                    </condition>
                    <widgets>
                        <section>
                            <widgets>
                                <screenlet title="Supplier Group Information" navigation-menu-name="groupUpdate" id="PartyGroupInformationPanel">
                                    <include-menu name="groupUpdate" location="component://depotsales/widget/DepotSalesMenus.xml"/>
                                    <include-form name="ViewVendor" location="component://materialmgmt/widget/materialmgmtForms.xml"/>
                                    <section>
                                        <condition>
                                            <not><if-empty field="partyNameHistoryList"/></not>
                                        </condition>
                                        <widgets>
                                            <include-form name="ViewVendorHistory" location="component://materialmgmt/widget/materialmgmtForms.xml"/>
                                        </widgets>
                                    </section>
                                </screenlet>
                            </widgets>
                            <fail-widgets>
                                <screenlet title="${uiLabelMap.GroupInformation}" id="PartyGroupInformationPanel">
                                    <include-form name="ViewVendor" location="component://materialmgmt/widget/materialmgmtForms.xml"/>
                                    <section>
                                        <condition>
                                            <not><if-empty field="partyNameHistoryList"/></not>
                                        </condition>
                                        <widgets>
                                            <include-form name="ViewVendorHistory" location="component://materialmgmt/widget/materialmgmtForms.xml"/>
                                        </widgets>
                                    </section>
                                </screenlet>
                            </fail-widgets>
                        </section>
                    </widgets>
                </section>
            </widgets>
        </section>
    </screen>
     <screen name="editcontactmech">
        <section>
            <actions>
                <property-map resource="PartyUiLabels" map-name="uiLabelMap" global="true"/>
                <property-map resource="VendorUiLabels" map-name="uiLabelMap" global="true"/>
                <set field="titleProperty" value="PageTitleEditContactMech"/>
                <set field="headerItem" value="find"/>
                <set field="tabButtonItem" value="editcontactmech"/>
                <set field="tabButtonItem2" value="findVendor"/>
                <set field="labelTitleProperty" value="PageTitleEditContactMech"/>
				<set field="donePage" from-field="parameters.DONE_PAGE" default-value="viewprofile"/>
                <script location="component://party/webapp/partymgr/WEB-INF/actions/HasPartyPermissions.groovy"/>
                <script location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/EditContactMech.groovy"/>
             </actions>
            <widgets>
                <decorator-screen name="main-decorator" location="${parameters.mainDecoratorLocation}">
                    <decorator-section name="body">
                        <section>
                            <condition>
                                <or>
                                    <if-compare field="hasViewPermission" operator="equals" value="true" type="Boolean"/>
                                    <if-compare field="hasPcmCreatePermission" operator="equals" value="true" type="Boolean"/>
                                    <if-compare field="hasPcmUpdatePermission" operator="equals" value="true" type="Boolean"/>
                                    <if-compare-field field="parameters.partyId" operator="equals" to-field="userLogin.partyId"/>
                                    <not><if-empty field="mechMap.partyContactMech"/></not>
                                </or>
                            </condition>
                            <actions>
                                <!-- fields for setDependentDropdownValuesJs.ftl, it's a try on generalization but there are still issues. For instance: what if we have 2 couple of dependent dropdowns in the same form? -->
                                <set field="dependentForm" value="editcontactmechform"/>
                                <set field="paramKey" value="countryGeoId"/>                                        
                                <set field="mainId" value="countryId"/>
                                <set field="dependentId" value="stateId"/>
                                <set field="requestName" value="getAssociatedStateList"/>
                                <set field="responseName" value="stateList"/>
                                <set field="dependentKeyName" value="geoId"/>
                                <set field="descName" value="geoName"/>
                                <set field="selectedDependentOption" value="_none_"/>
                                   
                            </actions>
                            <widgets>
                                <platform-specific>
                                	<html><html-template location="component://common/webcommon/includes/setDependentDropdownValuesJs.ftl"/>
                               		<html-template location="component://materialmgmt/webapp/materialmgmt/purchase/editcontactmech.ftl"/></html>
                                </platform-specific>
                            </widgets>
                            <fail-widgets>
                                <container style="button-bar">
                                    <link target="backHome" text="[${uiLabelMap.CommonBack}]" style="smallSubmit"/>
                                </container>
                                <container>
                                    <label style="h3">${uiLabelMap.PartyMsgContactNotBelongToYou}</label>
                                </container>
                            </fail-widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    <screen name="PaymentOverview">
        <section>
            <actions>
                <set field="titleProperty" value="AP Payment Overview"/>
                <set field="tabButtonItem" value="paymentOverView"/>
                <set field="labelTitleProperty" value="Payment"/>
                <property-map resource="PartyUiLabels" map-name="uiLabelMap" global="true"/>
                <set field="paymentId" from-field="parameters.paymentId"/>
                <entity-one entity-name="Payment" value-field="payment"/>
                <set field="finAccountTransId" from-field="payment.finAccountTransId"/>
                <entity-one entity-name="FinAccountTrans" value-field="finAccountTrans"/>
                <set field="appliedAmount" value="${bsh:org.ofbiz.accounting.payment.PaymentWorker.getPaymentApplied(payment).toString()}"/>
                <set field="notAppliedAmount" value="${bsh:org.ofbiz.accounting.payment.PaymentWorker.getPaymentNotApplied(payment).toString()}"/>
                <service service-name="getAcctTransEnries" result-map="AcctgTransAndEntries" auto-field-map="true"/>
			    <set field="AcctgTransAndEntries" type="List" from-field="AcctgTransAndEntries.AcctgTransAndEntries"/>
               <!--  <entity-condition entity-name="AcctgTransAndEntries" list="AcctgTransAndEntries">
                    <condition-expr field-name="paymentId" from-field="paymentId"/>
                    <order-by field-name="acctgTransId"/>
                    <order-by field-name="acctgTransEntrySeqId"/>
                </entity-condition> -->
                <service service-name="acctgInvoicePermissionCheck" result-map="permResult">
                    <field-map field-name="mainAction" value="PAYMENT_EDIT"/>
                </service>
               <set field="hasPaymentEditPermission" from-field="permResult.hasPermission"/>
               <service service-name="acctgInvoicePermissionCheck" result-map="permResult">
                    <field-map field-name="mainAction" value="PAYMENTAPP_EDIT"/>
                </service>
               <set field="hasPaymentAppEditPermission" from-field="permResult.hasPermission"/>
                <service service-name="acctgInvoicePermissionCheck" result-map="permResult">
                    <field-map field-name="mainAction" value="PAYMENTSTATUS_CANCEL"/>
                </service>
               <set field="hasPaymentStatusCancelPermission" from-field="permResult.hasPermission"/>
               <script location="component://accounting/webapp/accounting/WEB-INF/actions/PaymentAttributeInfo.groovy"/>
            </actions>
            <widgets>
                <decorator-screen name="BranchTransactionsCommonDecorator" location="component://depotsales/widget/CommonScreens.xml">
                    <decorator-section name="body">
                     <platform-specific>
                               <html><html-template location="component://accounting/webapp/accounting/payment/setPaymentStatusCancel.ftl"/></html>
              				</platform-specific>
                        <section>
                            <condition>
                                <if-compare field="payment.statusId" operator="equals"  value="PMNT_NOT_PAID"/>
                            </condition>
                            <widgets>
                             <platform-specific>
                                <html><html-template location="component://accounting/webapp/accounting/payment/setPaymentStatus.ftl"/></html>
                            </platform-specific>
                                <container style="lefthalf">
                                    <screenlet title="${uiLabelMap.AccountingPaymentHeader}">
                                        <link target="editPayment" text="ad${uiLabelMap.CommonUpdate}" style="buttontext">
                                            <parameter param-name="paymentId"/>
                                        </link>
                                        <include-form name="paymentHeader" location="component://accounting/widget/PaymentForms.xml"/>
                                    </screenlet>
                                </container>
                                <container style="righthalf">
                                    <screenlet title="${uiLabelMap.AccountingPaymentsApplied} ${appliedAmount?currency(${payment.currencyUomId})} ${uiLabelMap.AccountingOpenPayments} ${notAppliedAmount?currency(${payment.currencyUomId})}">
                                        <link target="editPaymentApplications" text="${uiLabelMap.CommonUpdate}" style="buttontext">
                                            <parameter param-name="paymentId"/>
                                        </link>
                                        <include-form name="paymentApplications" location="component://accounting/widget/PaymentForms.xml"/>
                                    </screenlet>
                                    <section>
                                        <condition>
                                            <not><if-empty field="finAccountTransId"/></not>
                                        </condition>
                                        <widgets>
                                            <screenlet title="${uiLabelMap.AccountingFinAccountTransaction}">
                                                <include-form name="FinAccountTransAssociatedWithPayment" location="component://accounting/widget/PaymentForms.xml"/>
                                            </screenlet>
                                        </widgets>
                                    </section>
                                </container>
                                <container style="clear"/>
                                <screenlet title="${uiLabelMap.AccountingTransactions}" navigation-form-name="AcctgTransAndEntries">
                                    <include-form name="AcctgTransAndEntries" location="component://accounting/widget/PaymentForms.xml"/>
                                </screenlet>
                            </widgets>
                            <fail-widgets>
                                <container style="lefthalf">
                                    <screenlet title="${uiLabelMap.AccountingPaymentHeader}">
                                        <include-form name="paymentHeader" location="component://accounting/widget/PaymentForms.xml"/>
                                    </screenlet>
                                </container>
                                <container style="righthalf">
                                    <screenlet title="${uiLabelMap.AccountingPaymentsApplied} ${appliedAmount?currency(${payment.currencyUomId})} ${uiLabelMap.AccountingOpenPayments} ${notAppliedAmount?currency(${payment.currencyUomId})}">
                                        <include-form name="paymentApplications" location="component://accounting/widget/PaymentForms.xml"/>
                                    </screenlet>
                                        <section>
                                            <condition>
                                                <not><if-empty field="finAccountTransId"/></not>
                                            </condition>
                                            <widgets>
                                                <screenlet title="${uiLabelMap.AccountingFinAccountTransaction}">
                                                    <include-form name="FinAccountTransAssociatedWithPayment" location="component://accounting/widget/PaymentForms.xml"/>
                                                </screenlet>
                                            </widgets>
                                        </section>
                                </container>
                                <container style="clear"/>
                                <screenlet title="${uiLabelMap.AccountingTransactions}" navigation-form-name="AcctgTransAndEntries">
                                    <include-form name="AcctgTransAndEntries" location="component://accounting/widget/PaymentForms.xml"/>
                                </screenlet>
                            </fail-widgets>
                        </section>
                    </decorator-section>
                </decorator-screen>
            </widgets>
        </section>
    </screen>
    
	<screen name="SalelistMaterialShipmentReceipt">
		<section>
			<actions>
			<entity-condition list="orderAssoc" entity-name="OrderAssoc">
				<condition-expr field-name="toOrderId" from-field="parameters.orderId"/>
			</entity-condition>
			<set field="parameters.orderId" value="${orderAssoc[0].orderId}"/>
			</actions>
			<widgets>
			<include-screen name="listMaterialShipmentReceipt"/>
			</widgets>
		</section>
	</screen>
	<screen name="ViewIndentRequest">
		<section>
			<actions>
				<set field="titleProperty"
					value="Sales Indent OverView - IndentId - ${parameters.orderId}" />
				<set field="tabButtonItem" value="processOrdersBranchSales" />
				<set field="tabButtonItem2" value="IndentOverView" />
				<set field="parameters.localDispatcherName" value="depotsales" />
				<set field="layoutSettings.javaScripts[]" value="/ordermgr/images/js/order.js"
					global="true" />
				<set field="layoutSettings.javaScripts[]" value="/ordermgr/images/js/OrderShippingInfo.js"
					global="true" />
				<set field="layoutSettings.javaScripts[]" value="/ordermgr/images/js/geoAutoCompleter.js"
					global="true" />
					<set field="parameters.isSalesIndent"  value="Y"/>
					
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/PurchageOrderView.groovy" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/SalesOrderOverView.groovy" />
					
				<script
					location="component://materialmgmt/webapp/materialmgmt/WEB-INF/actions/purchases/POViewWebSecure.groovy" />
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
						<decorator-section name="body">
						<include-menu name="FindDepotTransIndentSubTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<widgets>
								<container style="lefthalf">
									<platform-specific>
										<html>
											<html-template
												location="component://depotsales/webapp/depotsales/depotsales/indentInfo.ftl" />
										</html>
									</platform-specific>
									<platform-specific>
										<html>
											<html-template
												location="component://depotsales/webapp/depotsales/depotsales/indentItem.ftl" />
										</html>
									</platform-specific>
									
									<screenlet title="Indent Attributes">
										<include-screen name="orderAttributes" />
									</screenlet>
									<include-screen name="IndentAssoc" />
								</container>
								<container style="righthalf">
									 <screenlet title="Indent Status" navigation-form-name="ViewIndentRequest">
                        					<include-form name="ViewIndentStatus" location="component://depotsales/widget/DepotSalesForms.xml"/>
                 				   </screenlet>
									<platform-specific>
										<html>
											<html-template
												location="component://materialmgmt/webapp/materialmgmt/purchase/POContactInfo.ftl" />
										</html>
									</platform-specific>
									<screenlet title="Receipts For Indent">
										<!-- <include-form location="component://materialmgmt/widget/MaterialPurchaseForms.xml" 
											name="listMaterialShipmentReceipt"/> -->
											
										<include-screen name="SalelistMaterialShipmentReceipt" />
									</screenlet>
									<platform-specific>
										<html>
											<html-template
												location="component://depotsales/webapp/depotsales/depotsales/salesIndentPaymentInfo.ftl" />
										</html>
									</platform-specific>
									<screenlet title="Invoices For Indent">
										<include-form
											location="component://depotsales/widget/DepotSalesForms.xml"
											name="invoiceDetailList" />
									</screenlet>
									<!-- <screenlet title="Content">
										<include-screen name="POcontent" />
									</screenlet> -->
									<!-- <platform-specific>
										<html>
											<html-template
												location="component://materialmgmt/webapp/materialmgmt/purchase/PONotes.ftl" />
										</html>
									</platform-specific> -->
									<screenlet title="Supply Products Till Date">
										<include-screen name="supplyProductsTillDate" />
									</screenlet>
								</container>
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
    	<screen name="IndentAssoc">
		<section>
			<actions>
				<entity-condition list="OrderAssocList"
					entity-name="OrderAssoc">
					<condition-list combine="or">
						<condition-expr field-name="orderId" from-field="parameters.orderId" />
						<condition-expr field-name="toOrderId" from-field="parameters.orderId" />
					</condition-list>
				</entity-condition>
				<set field="assocId" value="${parameters.orderId}" />
			</actions>
			<widgets>
				<screenlet title="Indent Associations">
					<include-form
						location="component://materialmgmt/widget/materialmgmtForms.xml"
						name="listOrderAssoc" />
				</screenlet>
			</widgets>
		</section>
	</screen>
	<screen name="orderAmend">
    		<section>
    			<actions>
    				<set field="titleProperty" value="Indent Amend" />
    				<set field="tabButtonItem" value="orderAmend" />
    				<set field="tabButtonItem2" value="orderAmend" />
    				<set field="viewSize" from-field="parameters.VIEW_SIZE" />
    				<set field="viewIndex" from-field="parameters.VIEW_INDEX_1" type="Integer" default-value="0"/>
                    <set field="viewSize" value="50" type="Integer"/>
                    <set field="nextFlag" type="String" default-value="Y"/>
                    <set field="prevFlag" type="String" default-value="N"/>
                    <set field="statusId" value="ORDER_APPROVED"></set>
                      <service service-name="performFind" result-map="result">
                       <field-map field-name="inputFields" from-field="parameters"/>
                       <field-map field-name="entityName" value="OrderHeader"/>
                    </service>
    				<set field="defaultEffectiveDateTime"
    					value="${bsh:org.ofbiz.base.util.UtilDateTime.getDayStart(org.ofbiz.base.util.UtilDateTime.nowTimestamp())}" />
    				<set field="defaultEffectiveDate"
    					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
    				<set field="shipmentTypeId" from-field="parameters.shipmentTypeId" />
    				<set field="salesChannelEnumId" from-field="parameters.salesChannelEnumId" />
    				<set field="screenFlag" value="depotSales" />
    				<!-- <script location="component://byproducts/webapp/byproducts/WEB-INF/actions/facility/getIcpSalesOrder.groovy" 
    					/> -->
    				<script
    					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ListSalesOrderPaymentParam.groovy" />
    			  <!--   <script
    					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/ListSalesOrderAdvancePayments.groovy" />  -->
    			</actions>
    			<widgets>
    				<decorator-screen name="BranchTransactionsCommonDecorator"
    					location="component://depotsales/widget/CommonScreens.xml">
    					<decorator-section name="body">
    						<!-- <include-menu name="BranchSalesIndentTabBar"
    							location="component://depotsales/widget/DepotSalesMenus.xml" /> -->
    						<section>
    							<widgets>
    							<decorator-screen name="FindScreenDecorator" location="component://common/widget/CommonScreens.xml">
                                        <decorator-section name="menu-bar">
                                        	
                                        </decorator-section>
                                        
    							 		<decorator-section name="search-options">
											 <platform-specific>
    										<html>
    											<html-template
    												location="component://depotsales/webapp/depotsales/depotsales/SearchOrders.ftl" />
    										</html>
    									</platform-specific> 
    									</decorator-section>
                                        <decorator-section name="search-results">
    							<!-- 	<screenlet title="Sale Indents &#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; &#160;&#160;&#160;&#160;&#160;&#160;&#160;     Total Indents:     ${orderListSize}">   -->
    								
    									<platform-specific>
    										<html>
    											<html-template
    												location="component://depotsales/webapp/depotsales/depotsales/ListSearchAmendOrders.ftl" />
    										</html>
    									</platform-specific>
    							<!-- 	</screenlet>  -->
    								</decorator-section>
    								</decorator-screen>
    							</widgets>
    						</section>
    					</decorator-section>
    				</decorator-screen>
    			</widgets>
    		</section>
    	</screen>
     	 <screen name="amendOrder">
    		<section>
    			<actions>
    				<set field="titleProperty" value="Indent Amend" />
    				<set field="tabButtonItem" value="orderAmend" />
    				<set field="tabButtonItem2" value="SalesOrderAmend" />
    				<set field="parameters.salesChannelEnumId" value="BRANCH_CHANNEL"/>
    				<service service-name="performFind" result-map="result">
                       <field-map field-name="inputFields" from-field="parameters"/>
                       <field-map field-name="entityName" value="OrderItem"/>
                    </service>
                    <set field="parameters.isFormSubmitted" value="YES" />
                    
      				<set field="salesChannelEnumId" from-field="parameters.salesChannelEnumId" />
    				<script
    					location="component://depotsales/webapp/depotsales/WEB-INF/actions/depotsales/amendOrderItems.groovy" />
       							       			
       			</actions>
    			<widgets>
    				<decorator-screen name="BranchTransactionsCommonDecorator"
    					location="component://depotsales/widget/CommonScreens.xml">
    					<decorator-section name="body">
    						<section>
    							<widgets>    								
                                      <platform-specific>
    										<html>
    											<html-template
    												location="component://depotsales/webapp/depotsales/depotsales/AmendOrders.ftl" />
    										</html>
    								 </platform-specific> 
    							</widgets>
    						</section>
    					</decorator-section>
    				</decorator-screen>
    			</widgets>
    		</section>
    	</screen> 
    	<screen name="FebricBranchSalesOrder">
		<section>
			<actions>
				<set field="titleProperty" value="${uiLabelMap.BranchSalesEntry}" />
				<set field="tabButtonItem" value="BranchSalesOrder" />
				<set field="tabButtonItem2" value="BranchSalesOrder" />
				<set field="tabButtonItem3" value="${parameters.menuName}" default-value="FebricIndent" />
				<set field="tabButtonItem4" value="DirectIndent" />
				<set field="changeFlag" value="DepotSales" />
				<set field="parameters.screenFlag" value="FebricIndent"/>
				<set field="parameters.formAction" value="FebricBranchSalesOrder"/>
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="orderStatus" from-field="parameters.orderStatus" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="parameters.roleTypeId" value="EMPANELLED_CUSTOMER"/>
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/enableDepotPartyAutoComplete.groovy" />
				<script
					location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/TransportersList.groovy" />
				
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
							<include-menu name="VariantIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
							<include-menu name="FebricIndentorIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="SilkBranchSaleInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="SilkBranchSalesInnerScreen" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
	 <screen name="FebricMultiIndentorSalesOrder">
		<section>
			<actions>
				<set field="titleProperty" value="${uiLabelMap.BranchSalesEntry}" />
				<set field="tabButtonItem" value="BranchSalesOrder" />
				<set field="tabButtonItem2" value="BranchSalesOrder" />
				<set field="tabButtonItem3" value="${parameters.menuName}" default-value="FebricIndent" />
				<set field="tabButtonItem4" value="onBeHalfIndent" />
				<set field="changeFlag" value="DepotSales" />
				<set field="parameters.screenFlag" value="FebricIndent"/>
				<set field="parameters.formAction" value="FebricMultiIndentorSalesOrder"/>
				<set field="priceTypeId" from-field="parameters.priceTypeId" />
				<set field="orderStatus" from-field="parameters.orderStatus" />
				<set field="orderId" from-field="parameters.orderId" />
				<set field="supplyDate" from-field="parameters.supplyDate" />
				<set field="indentReceivedDate" value="${parameters.indentReceivedDate}" />
				<set field="isFormSubmitted" from-field="parameters.isFormSubmitted" />
				<set field="defaultEffectiveDateTime" value="${supplyDate}"
					default-value="${bsh:org.ofbiz.base.util.UtilDateTime.nowTimestamp()}" />
				<set field="defaultEffectiveDate"
					value="${groovy:org.ofbiz.base.util.UtilDateTime.toDateString(defaultEffectiveDateTime, &quot;dd MMMMM, yyyy&quot;);}" />
				<set field="parameters.roleTypeId" value="EMPANELLED_CUSTOMER"/>
			</actions>
			<widgets>
				<decorator-screen name="BranchTransactionsCommonDecorator"
					location="component://depotsales/widget/CommonScreens.xml">
					<decorator-section name="body">
						<!-- <container><label text="isFormSubmitted:${isFormSubmitted}" ></label></container> -->
						<!-- <include-menu name="BranchSalesEntryIndentTabBar"
							location="component://depotsales/widget/DepotSalesMenus.xml" /> -->
							<include-menu name="VariantIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
							<include-menu name="FebricIndentorIndentPortalTab"
							location="component://depotsales/widget/DepotSalesMenus.xml" />
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="" />
							</condition>
							<widgets>
								<include-screen name="SilkMultiBranchSaleInner" />
							</widgets>
						</section>
						<section>
							<condition>
								<if-compare operator="equals" field="isFormSubmitted"
									value="YES" />
							</condition>
							<widgets>
								<include-screen name="SilkMultiBranchSalesInnerScreen" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>
</screens>