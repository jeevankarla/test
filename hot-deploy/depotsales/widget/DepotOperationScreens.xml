<?xml version="1.0" encoding="UTF-8"?>
<screens xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/widget-screen.xsd">

<screen name="DepotOperationMainScreen">
		<section>
            <actions>
               <property-map resource="OrderUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="ProductUiLabels" map-name="uiLabelMap"
					global="true" />
				<set field="titleProperty" value="StockPosition" />
				<set field="tabButtonItem" value="stockPositionDepotSales" />
				<!-- <set field="tabButtonItem2" value="stockPosition"/> -->
				<set field="headerItem" value="StockPosition" />
				<set field="ajaxUrl" value="StockPositionDepotInternal" type="String" />
            </actions>
            <widgets>
                 <section>
                 <widgets>
                 <platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/stockPositionDepot_Select.ftl" />
									</html>
								</platform-specific>
                    <include-screen name="StockPositionDepotInternal" />
                    </widgets>
                    </section>
            </widgets>
        </section>
	</screen>
	
	<screen name="StockPositionSubDepot">
		<section>
			<actions>
				<property-map resource="OrderUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="ProductUiLabels" map-name="uiLabelMap"
					global="true" />
				<set field="titleProperty" value="Stock Position SubDepot" />
				<set field="tabButtonItem" value="StockPositionSubDepot" />
				<!-- <set field="tabButtonItem2" value="stockPosition"/> -->
				<set field="headerItem" value="StockPosition" />
				<set field="ajaxUrl" value="StockPositionSubDepot" type="String" />
			</actions>
			<widgets>
				<!-- <decorator-screen name="DepotSalesCommonDecorator" location="${parameters.mainDecoratorLocation}"> -->
				<decorator-screen name="CommonInventoryDecoratorSubOprDepot"
					location="${parameters.mainDecoratorLocation}">
					<decorator-section name="body">
						<section>
							<widgets>
								<platform-specific>
									<html>
										<html-template
											location="component://depotsales/webapp/depotsales/depotsales/stockPostionFindSubDepot.ftl" />
									</html>
								</platform-specific>
								<include-screen name="StockPositionDepotInternal" />
							</widgets>
						</section>
					</decorator-section>
				</decorator-screen>
			</widgets>
		</section>
	</screen>


	<screen name="StockPositionDepotInternal">
		<section>
			<actions>
				<property-map resource="OrderUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="ProductUiLabels" map-name="uiLabelMap"
					global="true" />
				<property-map resource="CommonUiLabels" map-name="uiLabelMap"
					global="true" />
				<script location="component://depotsales/webapp/depotsales/WEB-INF/actions/facility/stockPositionDepot.groovy"/> 
			</actions>
			<condition>
				<or>
					<not>
						<if-empty field="parameters.productId" />
					</not>
					<not>
						<if-empty field="productId" />
					</not>
				</or>
			</condition>
			<widgets>
			
				<container>
					<platform-specific>
						<html>
							<html-template
								location="component://materialmgmt/webapp/materialmgmt/reports/stockPosition.ftl" />
						</html>
					</platform-specific>

					<platform-specific>
						<html>
							<html-template
								location="component://materialmgmt/webapp/materialmgmt/reports/EditProductInventoryItems.ftl" />
						</html>
					</platform-specific>

					<screenlet title="${uiLabelMap.ProductOutstandingPurchaseOrders}">
						<include-form name="OutstandingPurchaseOrders"
							location="component://materialmgmt/widget/materialmgmtForms.xml" />
					</screenlet>
					<screenlet title="${uiLabelMap.ProductRequirements}">
						<include-form name="ListRequirements"
							location="component://materialmgmt/widget/materialmgmtForms.xml" />
					</screenlet>
					<screenlet title="${uiLabelMap.Indents}">
						<include-form name="ListRequestList"
							location="component://materialmgmt/widget/materialmgmtForms.xml" />
					</screenlet>
					<screenlet title="Receipts">
						<include-form name="ListReceiptsList"
							location="component://materialmgmt/widget/materialmgmtForms.xml" />
					</screenlet>
					<screenlet title="${uiLabelMap.ProductSuppliers}">
						<include-form name="ListSupplierProducts"
							location="component://materialmgmt/widget/materialmgmtForms.xml" />
					</screenlet>
				</container>
			</widgets>
		</section>
	</screen>
</screens>