<?xml version="1.0" encoding="UTF-8"?>
<entitymodel xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:noNamespaceSchemaLocation="http://ofbiz.apache.org/dtds/entitymodel.xsd">
    <!-- ========================================================= -->
    <!-- ======================== Defaults ======================= -->
    <!-- ========================================================= -->
    <title>Entity of Procurement Component</title>
    <description>None</description>
    <copyright></copyright>
    <version></version>

    <entity entity-name="ProcurementPriceChart"
            package-name="in.vasista.vbiz.procurement.price"
            title="Procurement Price Chart Entity">
      <field name="procPriceChartId" type="id-ne"/>
      <field name="regionId" type="id"/>
      <field name="categoryTypeEnum" type="id"/>
      <field name="supplyTypeEnumId" type="id"/>      
      <field name="useBaseSnf" type="indicator"/>
      <field name="useBaseFat" type="indicator"/>
      <field name="billQuantity" type="id"/>
      <field name="isPremiumChart" type="indicator"/>
      <field name="fromDate" type="date-time"></field>
      <field name="thruDate" type="date-time"></field> 
      <field name="uomId" type="id"/>
      <field name="lrFormulaId" type="id"/>
      <field name="customPriceCalcService" type="id-vlong"/>
      <field name="createdDate" type="date-time"></field>
      <field name="createdByUserLogin" type="id-vlong"></field>
      <field name="lastModifiedDate" type="date-time"></field>
      <field name="lastModifiedByUserLogin" type="id-vlong"></field>   
      <prim-key field="procPriceChartId"/>  
      <relation type="one" fk-name="PPC_lrFormulaId" rel-entity-name="AcctgFormula">
      	<key-map field-name="lrFormulaId" rel-field-name="acctgFormulaId"/>
      </relation>
      <relation type="one" fk-name="PPC_BillQty" rel-entity-name="Enumeration">
      	<key-map field-name="billQuantity" rel-field-name="enumId"/>
      </relation> 
      <relation type="one" fk-name="PPC_FAC" rel-entity-name="Facility">
      	<key-map field-name="regionId" rel-field-name="facilityId"/>
      </relation> 
      <relation type="one" fk-name="PPC_CTENUM" rel-entity-name="Enumeration">
        <key-map field-name="categoryTypeEnum" rel-field-name="enumId"/>        
      </relation>  
      <relation type="one" fk-name="PPC_STENUM" rel-entity-name="Enumeration">
        <key-map field-name="supplyTypeEnumId" rel-field-name="enumId"/>        
      </relation>             
      <relation type="one" fk-name="PROD_PRICE_CBUL" title="CreatedBy" rel-entity-name="UserLogin">
        <key-map field-name="createdByUserLogin" rel-field-name="userLoginId"/>
      </relation>
      <relation type="one" fk-name="PROD_PRICE_LMBUL" title="LastModifiedBy" rel-entity-name="UserLogin">
        <key-map field-name="lastModifiedByUserLogin" rel-field-name="userLoginId"/>
      </relation>
      <relation type="one" fk-name="PPRICECHART_UOMID_UOM" title="Quantity" rel-entity-name="Uom">
            <key-map field-name="uomId" rel-field-name="uomId"/>
      </relation>                            
    </entity>
    
    <entity entity-name="ProcurementPrice"
            package-name="in.vasista.vbiz.procurement.price"
            title="Procurement Price Entity">
      <field name="procPriceChartId" type="id-ne"/>            
      <field name="productId" type="id-ne"></field>
      <field name="procurementPriceTypeId" type="id-ne"></field>
      <field name="currencyUomId" type="id-ne"></field>
      <field name="fatPercent" type="fixed-point"></field>  
      <field name="snfPercent" type="fixed-point"></field>  
      <field name="useTotalSolids" type="indicator"></field>
      <field name="price" type="currency-precise"></field>
      <field name="uomId" type="id"/>
      <!--  price based on TS value-->
      <field name="tsValue" type="fixed-point"></field>
      <field name="createdDate" type="date-time"></field>
      <field name="createdByUserLogin" type="id-vlong"></field>
      <field name="lastModifiedDate" type="date-time"></field>
      <field name="lastModifiedByUserLogin" type="id-vlong"></field>
      <prim-key field="procPriceChartId"/>        
      <prim-key field="productId"/>
      <prim-key field="procurementPriceTypeId"/>
      <prim-key field="currencyUomId"/>
      <prim-key field="fatPercent"/>
      <prim-key field="snfPercent"/>
      <relation type="one" fk-name="PROC_PRICE_PROD" rel-entity-name="Product">
        <key-map field-name="productId"/>
      </relation>
      <relation type="one" fk-name="PROC_PRICE_TYPE" rel-entity-name="Enumeration">
        <key-map field-name="procurementPriceTypeId" rel-field-name="enumId"/>        
      </relation>
      <relation type="one" fk-name="PROC_PRICE_CUOM" title="Currency" rel-entity-name="Uom">
        <key-map field-name="currencyUomId" rel-field-name="uomId"/>
      </relation>
      <relation type="one" fk-name="PROD_PRICE_CBUL" title="CreatedBy" rel-entity-name="UserLogin">
        <key-map field-name="createdByUserLogin" rel-field-name="userLoginId"/>
      </relation>
      <relation type="one" fk-name="PROD_PRICE_LMBUL" title="LastModifiedBy" rel-entity-name="UserLogin">
        <key-map field-name="lastModifiedByUserLogin" rel-field-name="userLoginId"/>
      </relation>
    </entity>
    
    <entity entity-name="ProcurementMigration"
            package-name="in.vasista.vbiz.procurement.migration"
            title="Procurement Migration Temp table">
      <field name="ddate" type="date-time"></field>
      <field name="scode" type="id"></field> 
      <field name="ucode" type="id"></field>
      <field name="ccode" type="id"></field>                  
      <field name="daytyp" type="id"/>                 
      <field name="typmlk" type="id-ne"></field>
      <field name="gqty" type="fixed-point" ></field>
      <field name="gqtyLtrs" type="fixed-point" ></field>       
      <field name="gfat" type="fixed-point" ></field>
      <field name="gsnf" type="fixed-point" ></field> 
      <field name="sqty" type="fixed-point"></field>              
      <field name="sfat" type="fixed-point"></field>
      <field name="cqty" type="fixed-point"></field>  
      <field name="cans" type="fixed-point"></field>
      <field name="ptcMilkType" type="indicator"></field>
      <field name="ptcQuantity" type="fixed-point"></field>
      <prim-key field="ddate"/>
      <prim-key field="ccode"/>
      <prim-key field="ucode"/>
      <prim-key field="scode"/>
      <prim-key field="daytyp"/>
      <prim-key field="typmlk"/> 	      	
      <relation type="one" fk-name="PROC_MIGR_PRODUCT" rel-entity-name="Product">
        <key-map field-name="typmlk" rel-field-name="productId"/>
      </relation>
      <relation type="one" fk-name="PROC_MIGR_STENUM" title="SupplyType" rel-entity-name="Enumeration">
        <key-map field-name="daytyp" rel-field-name="enumId"/>
      </relation>             	   
    </entity>
    <entity entity-name="AdditionDeductionMigration"
            package-name="in.vasista.vbiz.procurement.migration"
            title="Procurement Migration Temp table">
       <field name="ddate" type="date-time"></field>
        <field name="scode" type="id"></field> 
       <field name="ucode" type="id"></field>
       <field name="ccode" type="id"></field>                  
       <field name="orderAdjustmentTypeId" type="id"></field>
       <field name="amount" type="currency-precise"></field>
      <prim-key field="ddate"/>
      <prim-key field="ccode"/>
      <prim-key field="ucode"/>
      <prim-key field="scode"/>
      <prim-key field="orderAdjustmentTypeId"/>
      <relation type="many" rel-entity-name="OrderAdjustmentTypeAttr">
        <key-map field-name="orderAdjustmentTypeId" rel-field-name="orderAdjustmentTypeId"/>
      </relation>
    </entity>     
    <entity entity-name="FacilityRelationship"
            package-name="in.vasista.vbiz.procurement.facility"
            title="Facility Relationship Entity">
      <field name="facilityIdFrom" type="id-ne"></field>
      <field name="facilityIdTo" type="id-ne"></field>
      <field name="roleTypeIdFrom" type="id-ne"></field>
      <field name="roleTypeIdTo" type="id-ne"></field>
      <field name="facilityRelationshipTypeId" type="id"></field>
      <field name="fromDate" type="date-time"></field>
      <field name="thruDate" type="date-time"></field>
      <field name="statusId" type="id"></field>         
      <field name="comments" type="comment"></field>
      <prim-key field="facilityIdFrom"/>
      <prim-key field="facilityIdTo"/>
      <prim-key field="roleTypeIdFrom"/>
      <prim-key field="roleTypeIdTo"/>
      <prim-key field="fromDate"/>
      <relation type="one-nofk" title="From" rel-entity-name="Facility">
        <key-map field-name="facilityIdFrom" rel-field-name="facilityId"/>
      </relation>
      <relation type="one-nofk" title="To" rel-entity-name="Facility">
        <key-map field-name="facilityIdTo" rel-field-name="facilityId"/>
      </relation>
      <relation type="one-nofk" title="From" rel-entity-name="RoleType">
        <key-map field-name="roleTypeIdFrom" rel-field-name="roleTypeId"/>
      </relation>
      <relation type="one-nofk" title="To" rel-entity-name="RoleType">
        <key-map field-name="roleTypeIdTo" rel-field-name="roleTypeId"/>
      </relation>
      <relation type="one" fk-name="FACILITY_REL_FPROLE" title="From" rel-entity-name="FacilityParty">
        <key-map field-name="facilityIdFrom" rel-field-name="facilityId"/>
        <key-map field-name="roleTypeIdFrom" rel-field-name="roleTypeId"/>
      </relation>
      <relation type="one" fk-name="FACILITY_REL_TPROLE" title="To" rel-entity-name="FacilityParty">
        <key-map field-name="facilityIdTo" rel-field-name="facilityId"/>
        <key-map field-name="roleTypeIdTo" rel-field-name="roleTypeId"/>
      </relation>
      <relation type="one" fk-name="FACILITY_REL_STTS" rel-entity-name="StatusItem">
        <key-map field-name="statusId"/>
      </relation>     
      <relation type="one" fk-name="FACILITY_REL_TYPE" rel-entity-name="Enumeration">
        <key-map field-name="facilityRelationshipTypeId" rel-field-name="enumId"/>
      </relation>   
    </entity>
    <entity entity-name="ProcProducerMigration"
            package-name="in.vasista.vbiz.procurement.facility"
            title="Procurement Producer Migration">
      <field name="recordId" type="id-ne"/>      
      <field name="shedCode" type="id"/>
      <field name="bmcuCode" type="id"/>
      <field name="bmcuName" type="name"/>
      <field name="routeId" type="id"/>      
      <field name="centerCode" type="id"/>
      <field name="producerCode" type="id"/>
      <field name="centerName" type="name"/>
      <field name="firstName" type="name"/>
      <field name="lastName" type="name"/>
      <field name="fullName" type="name"/>
      <field name="fatherName" type="name"/>
      <field name="gender" type="name"/>
      <field name="caste" type="name"/>
      <field name="mobileNo" type="id"/>
      <field name="bankName" type="name"/>
      <field name="bankAccountNo" type="id"/>
      <field name="branchName" type="name"/>
      <field name="ifscNo" type="id"/>
      <field name="micrCode" type="id"/>
      <field name="aadharCardNo" type="id"/>
      <field name="avgMilkProduced" type="fixed-point"/>
      <field name="isMigrated" type="indicator"/>  
      <field name="createdDate" type="date-time"></field>
      <field name="createdByUserLogin" type="id-vlong"></field>
      <field name="lastModifiedDate" type="date-time"></field>
      <field name="lastModifiedByUserLogin" type="id-vlong"></field>
      <prim-key field="recordId"/>                            
    </entity>
    <entity entity-name="ProcFacilityOutput"
            package-name="in.vasista.vbiz.procurement.facility"
            title="Procurement Facility Output">
      <field name="facilityId" type="id-ne"/>      
      <field name="customTimePeriodId" type="id-ne"></field>
      <field name="outputTypeId" type="id-ne"></field>
      <field name="qty" type="fixed-point"></field>
      <field name="kgFat" type="fixed-point"></field>
      <field name="kgSnf" type="fixed-point"></field>
      <field name="quantityLtrs" type="fixed-point"></field>
      <field name="fat" type="fixed-point"></field>
      <field name="snf" type="fixed-point"></field>
      <field name="lactoReading" type="fixed-point"></field>
      <field name="createdByUserLogin" type="id-vlong"></field>
       <field name="createdDate" type="date-time"></field>
      <prim-key field="facilityId"/>
      <prim-key field="customTimePeriodId"/>
      <prim-key field="outputTypeId"/> 
       <relation type="one" fk-name="PROC_OUTPUT_FAC" rel-entity-name="Facility">
        <key-map field-name="facilityId" rel-field-name="facilityId"/>
      </relation>  
       <relation type="one" fk-name="PROC_OUTPUT_PERIOD" rel-entity-name="CustomTimePeriod">
			<key-map field-name="customTimePeriodId" />
	  </relation>  
	   <relation type="one" fk-name="PROC_OUTPUT_ENUM" rel-entity-name="Enumeration">
          <key-map field-name="outputTypeId" rel-field-name="enumId"/>
      </relation>                       
    </entity>
    <entity entity-name="ProcBillingValidation"
            package-name="in.vasista.vbiz.procurement.facility"
            title="Procurement Billing Validation" no-auto-stamp="true">
      <field name="shedId" type="id-ne"/>      
      <field name="customTimePeriodId" type="id-ne"></field>
      <field name="validationTypeId" type="id-ne"></field>
      <field name="sequenceNum" type="id-ne"></field>
      <field name="orderId" type="id-ne"></field>
      <field name="orderItemSeqId" type="id-ne"></field>
      <field name="centerId" type="id-ne"></field>
      <field name="statusId" type="id-ne"></field>
      <field name="approvedDate" type="date-time"></field>
      <field name="approvedByUserLoginId" type="id-ne"></field>   
      <prim-key field="shedId"/>
      <prim-key field="customTimePeriodId"/>
      <prim-key field="validationTypeId"/>
      <prim-key field="sequenceNum"/> 
      <relation type="one" fk-name="PROC_BILV_SHE" rel-entity-name="Facility">
        <key-map field-name="shedId" rel-field-name="facilityId"/>
      </relation>
      <relation type="one" fk-name="PROC_BILV_CEN" rel-entity-name="Facility">
        <key-map field-name="centerId" rel-field-name="facilityId"/>
      </relation>   
       <relation type="one" fk-name="PROC_BILV_PERIOD" rel-entity-name="CustomTimePeriod">
			<key-map field-name="customTimePeriodId" />
	  </relation>
	   <relation type="one" fk-name="PROC_BILV_ENUM" rel-entity-name="Enumeration">
          <key-map field-name="validationTypeId" rel-field-name="enumId"/>
      </relation>
      <relation type="many" rel-entity-name="StatusValidChange">
        <key-map field-name="statusId"/>
      </relation>
      <relation type="one" fk-name="PROC_BILV_OIT" rel-entity-name="OrderItem">
        <key-map field-name="orderId"/>
        <key-map field-name="orderItemSeqId"/>
      </relation>
	  <relation type="one" fk-name="PROC_BILV_LMBUL" rel-entity-name="UserLogin">
      	  <key-map field-name="approvedByUserLoginId" rel-field-name="userLoginId"/>
      </relation>                      
    </entity>
     
   <entity entity-name="ProcBillingValidationRule"
            package-name="in.vasista.vbiz.procurement.facility"
            title="Procurement Billing Validation Rule">
      <field name="shedId" type="id-ne"/>
      <field name="validationTypeId" type="id-ne"></field>
      <field name="productId" type="id-ne"></field>
      <field name="fromDate" type="date-time"></field>
      <field name="thruDate" type="date-time"></field>
      <field name="minFat" type="fixed-point"></field>
      <field name="maxFat" type="fixed-point"></field>
      <field name="minSnf" type="fixed-point"></field>
      <field name="maxSnf" type="fixed-point"></field>
      <field name="maxSFat" type="fixed-point"></field>
      <!-- qtyDivisor is to identify quantity in the desired format. i.e  to chcek decimal value for apdairy it is 0.5 --> 
      <field name="qtyDivisor" type="fixed-point"></field>
      <field name="quantity" type="fixed-point"></field>
      <field name="createdDate" type="date-time"></field>
      <field name="createdByUserLoginId" type="id-ne"></field>   
      <prim-key field="shedId"/>
      <prim-key field="productId"/>     
      <prim-key field="validationTypeId"/>
      <prim-key field="fromDate"/> 
      <relation type="one" fk-name="PROC_BILV_SHE" rel-entity-name="Facility">
        <key-map field-name="shedId" rel-field-name="facilityId"/>
      </relation>
       <relation type="one" fk-name="PROC_PRICE_PROD" rel-entity-name="Product">
        <key-map field-name="productId"/>
      </relation>      
	   <relation type="one" fk-name="PROC_BILV_ENUM" rel-entity-name="Enumeration">
          <key-map field-name="validationTypeId" rel-field-name="enumId"/>
      </relation>     
	  <relation type="one" fk-name="PROC_BILV_LMBUL" rel-entity-name="UserLogin">
      	  <key-map field-name="createdByUserLoginId" rel-field-name="userLoginId"/>
      </relation>                           
    </entity>
      <entity entity-name="MilkTransferAdvice"
            package-name="org.ofbiz.product.inventory"
            title="Milk Transfer Advice Entity">
      <field name="milkTransferId" type="id-ne"></field>
      <field name="facilityId" type="id"></field>
      <field name="quantityLtrs" type="fixed-point"></field>
      <field name="createdByUserLogin" type="id-vlong"></field>
      <field name="lastModifiedByUserLogin" type="id-vlong"></field>
      <prim-key field="milkTransferId"/>
      <prim-key field="facilityId"/>
      <relation rel-entity-name="MilkTransfer" type="one" fk-name="SD_MXFID_MXF">
           <key-map field-name="milkTransferId"/>
      </relation>
      <relation rel-entity-name="Facility" type="one" fk-name="SD_FAC_FACILITY">
           <key-map field-name="facilityId"/>
      </relation>
      <relation type="one" fk-name="SD_CBUL" title="CreatedBy" rel-entity-name="UserLogin">
        <key-map field-name="createdByUserLogin" rel-field-name="userLoginId"/>
      </relation>
      <relation type="one" fk-name="SD_LMBUL" title="ModifiedBy" rel-entity-name="UserLogin">
        <key-map field-name="lastModifiedByUserLogin" rel-field-name="userLoginId"/>
      </relation>
    </entity>        
    <entity entity-name="MilkTransfer"
            package-name="org.ofbiz.product.inventory"
            title="Milk Transfer Entity">
      <field name="milkTransferId" type="id-ne"></field>
      <field name="statusId" type="id-ne"></field>
      <field name="facilityId" type="id"></field>
      <field name="facilityIdTo" type="id"></field>
      <field name="dcNo" type="id"></field>
      <field name="partyId" type="id"></field>
      <field name="partyIdTo" type="id"></field> 
      <field name="numberOfCells" type="numeric"/>
      <field name="isSealChecked" type="indicator"/>
      <field name="productId" type="id-ne"></field>
      <field name="quantity" type="fixed-point"></field>
      <field name="quantityLtrs" type="fixed-point"></field>
      <field name="snf" type="fixed-point"></field>
      <field name="fat" type="fixed-point"></field>
      <field name="sendKgFat" type="fixed-point"></field>
      <field name="sendKgSnf" type="fixed-point"></field>
      <field name="sendLR" type="fixed-point"></field>
      <field name="sQuantityLtrs" type="fixed-point"></field>
      <field name="sQtyKgs" type="fixed-point"></field>
      <field name="sFat" type="fixed-point"></field>
      <field name="sKgFat" type="fixed-point"></field>
      <field name="sKgSnf" type="fixed-point"></field>
      <field name="sSnf" type="fixed-point"></field>
      <field name="cQuantityLtrs" type="fixed-point"></field>
      <field name="receivedQuantity" type="fixed-point"></field>
      <field name="receivedQuantityLtrs" type="fixed-point"></field>
      <field name="milkType" type="indicator"></field>
      <field name="supplyTypeEnumId" type="id"/>
      
      <field name="grossWeight" type="fixed-point"></field>
      <field name="tareWeight" type="fixed-point"></field>
      <field name="dispatchWeight" type="fixed-point"></field> <!-- Dispatch weight = tankerweight+milkweight -->
      
      <field name="receivedSnf" type="fixed-point"></field>
      <field name="receivedFat" type="fixed-point"></field>
      <field name="receivedKgFat" type="fixed-point"></field>
      <field name="receivedKgSnf" type="fixed-point"></field>
      <field name="receivedLR" type="fixed-point"></field>
      <field name="gheeYield" type="fixed-point"></field>
      
      <field name="containerId" type="id-ne"></field>
      <field name="sequenceNum" type="id-ne"></field>
      
      <field name="sendDate" type="date-time"></field>
      <field name="receiveDate" type="date-time"></field>
      <field name="comments" type="comment"></field>
      <field name="isMilkRcpt" type="id-ne"></field>      
      <field name="createdByUserLogin" type="id-vlong"></field>
      <field name="lastModifiedByUserLogin" type="id-vlong"></field>
      <prim-key field="milkTransferId"/>
      <relation type="one" fk-name="MILK_XFER_PROD" rel-entity-name="Product">
        <key-map field-name="productId"/>
      </relation>
      <relation type="one" fk-name="MILK_XFER_VEHICLE" rel-entity-name="VehicleTrip">
        <key-map field-name="containerId" rel-field-name="vehicleId"/>
        <key-map field-name="sequenceNum"/>
      </relation>
      <relation type="one" fk-name="MILK_XFER_STTS" rel-entity-name="StatusItem">
        <key-map field-name="statusId"/>
      </relation>
      <relation type="one" fk-name="MILK_XFER_STENUM" rel-entity-name="Enumeration">
        <key-map field-name="supplyTypeEnumId" rel-field-name="enumId"/>        
      </relation>
      <relation type="one" fk-name="MILK_XFER_CBUL" title="CreatedBy" rel-entity-name="UserLogin">
        <key-map field-name="createdByUserLogin" rel-field-name="userLoginId"/>
      </relation>
      <relation type="one" fk-name="MILK_XFER_LMBUL" title="ModifiedBy" rel-entity-name="UserLogin">
        <key-map field-name="lastModifiedByUserLogin" rel-field-name="userLoginId"/>
      </relation>
      <relation type="one" fk-name="MILK_XFER_FAC" rel-entity-name="Facility">
        <key-map field-name="facilityId"/>
      </relation>
      <relation type="one" fk-name="MILK_RECEIVEDFROM_FAC" rel-entity-name="Facility">
        <key-map field-name="facilityIdTo" rel-field-name="facilityId"/>
      </relation>
      <relation type="one" fk-name="MILK_RECEIVEDFROM_PAR" rel-entity-name="Party">
        <key-map field-name="partyIdTo" rel-field-name="partyId"/>
      </relation>
      <relation type="one" fk-name="MILK_XFER_PARTY" rel-entity-name="Party">
        <key-map field-name="partyId" rel-field-name="partyId"/>
      </relation>
    </entity>
    
    <entity entity-name="MilkTransferItem"
            package-name="org.ofbiz.product.inventory"
            title="Milk Transfer Item Entity">
      <field name="milkTransferId" type="id-ne"></field>
      <field name="siloId" type="id"></field>
      <field name="sequenceNum" type="id-ne"></field>
      <field name="sendProductId" type="id-ne"></field>
      <field name="receivedProductId" type="id-ne"></field>
      <field name="quantity" type="fixed-point"></field>
      <field name="unitPremiumPrice" type="fixed-point"></field>
      <field name="quantityLtrs" type="fixed-point"></field>
      <field name="snf" type="fixed-point"></field>
      <field name="fat" type="fixed-point"></field>
      <field name="sendKgFat" type="fixed-point"></field>
      <field name="sendKgSnf" type="fixed-point"></field>
      <field name="sendLR" type="fixed-point"></field>
      <field name="sQuantityLtrs" type="fixed-point"></field>
      <field name="sFat" type="fixed-point"></field>
      <field name="sKgFat" type="fixed-point"></field>
      <field name="sKgSnf" type="fixed-point"></field>
      <field name="sSnf" type="fixed-point"></field>
      <field name="cQuantityLtrs" type="fixed-point"></field>
      <field name="receivedQuantity" type="fixed-point"></field>
      <field name="receivedQuantityLtrs" type="fixed-point"></field>
      <field name="milkType" type="indicator"></field><!-- sour/curd S or C -->
      <field name="supplyTypeEnumId" type="id"/>
      <field name="sendTime" type="id"/>
      <field name="sendSoda" type="indicator"/>
      
      <field name="receivedSoda" type="indicator"/>
      <field name="ackTime" type="id"/>
      <field name="receivedSnf" type="fixed-point"></field>
      <field name="receivedFat" type="fixed-point"></field>
      <field name="receivedKgFat" type="fixed-point"></field>
      <field name="receivedKgSnf" type="fixed-point"></field>
      <field name="receivedLR" type="fixed-point"></field>
      <field name="gheeYield" type="fixed-point"></field>
      <field name="vehicleId" type="id"></field><!-- vehicle/tanker number -->
      <field name="sendDate" type="date-time"></field>
      <field name="receiveDate" type="date-time"></field>
     
     <!--  tanker Receipt Fields -->
     <field name="sendNutrilisers" type="indicator"></field><!-- P/N positive/Negative -->
     <field name="receivedSedimentTest" type="indicator"></field><!-- P/N positive/Negative -->
     <field name="receivedPH" type="fixed-point"></field>
     <field name="receivedMBRT" type="fixed-point"></field>
     <field name="receivedFlavour" type="id"></field>
     
     <!--  <field name="sendHour" type="numeric"></field>
      <field name="receivedHour" type="numeric"></field> -->
     
      <field name="sendAcidity" type="numeric"></field>
      <field name="receivedAcidity" type="numeric"></field>
      <field name="sendTemparature" type="fixed-point"></field>
      <field name="receivedTemparature" type="fixed-point"></field>
      
      <field name="cellType" type="id"></field><!-- FC/MC/BC -->
      <field name="capacity" type="indicator"></field><!-- Y/N -->
      <field name="sendCob" type="indicator"></field><!-- Y/N chemicals present or not -->
      <field name="receivedCob" type="indicator"></field><!-- Y/N chemicals present or not -->
      <field name="milkCondition" type="indicator"></field><!-- C/P chilled/Pasteurized  -->
      
      
      <field name="createdByUserLogin" type="id-vlong"></field>
      <field name="createdDate" type="date-time"></field>
      <field name="lastModifiedDate" type="date-time"></field>
      <field name="lastModifiedByUserLogin" type="id-vlong"></field>
      <prim-key field="milkTransferId"/>
      <prim-key field="sequenceNum"/>
      <!-- siloId represents facility which is used to store unloaded milk from tanker-->
      <relation type="one" fk-name="MILK_XFER_SILO" rel-entity-name="Facility">
        <key-map field-name="siloId" rel-field-name="facilityId"/>
      </relation>
      <relation type="one" fk-name="MILK_XFER_ID" rel-entity-name="MilkTransfer">
        <key-map field-name="milkTransferId" rel-field-name="milkTransferId"/>
      </relation>
      <relation type="one" fk-name="MILK_XFER_ITEM_SEND_PROD" rel-entity-name="Product">
        <key-map field-name="sendProductId" rel-field-name="productId"/>
      </relation>
      <relation type="one" fk-name="MILK_XFER_ITEM_RECD_PROD" rel-entity-name="Product">
        <key-map field-name="receivedProductId" rel-field-name="productId"/>
      </relation>
      <relation type="one" fk-name="MILK_XFER_ITEM_STENUM" rel-entity-name="Enumeration">
        <key-map field-name="supplyTypeEnumId" rel-field-name="enumId"/>        
      </relation>
      <relation type="one" fk-name="MILK_XFER_ITEM_CBUL" title="CreatedBy" rel-entity-name="UserLogin">
        <key-map field-name="createdByUserLogin" rel-field-name="userLoginId"/>
      </relation>
      <relation type="one" fk-name="MILK_XFER_ITEM_LMBUL" title="ModifiedBy" rel-entity-name="UserLogin">
        <key-map field-name="lastModifiedByUserLogin" rel-field-name="userLoginId"/>
      </relation>
      <relation type="one" fk-name="MILK_XFER_ITEM_FAC" rel-entity-name="Facility">
        <key-map field-name="facilityId"/>
      </relation>
      <relation type="one" fk-name="MILK_XFER_ITEM_RECD_FROM_FAC" rel-entity-name="Facility">
        <key-map field-name="facilityIdTo" rel-field-name="facilityId"/>
      </relation>
    </entity>

    <entity entity-name="FacilityCustomTimePeriod"
            package-name="org.ofbiz.common.period"
            title="Custom Time Period Entity">
      <field name="customTimePeriodId" type="id-ne"></field>
      <field name="facilityId" type="id"></field>
      <field name="createdDate" type="date-time"></field>
      <field name="createdByUserLogin" type="id-vlong"></field>
      <field name="lastModifiedDate" type="date-time"></field>
      <field name="lastModifiedByUserLogin" type="id-vlong"></field>
      <field name="isClosed" type="indicator"></field>  
      <prim-key field="customTimePeriodId"/>
      <prim-key field="facilityId"/>
      <relation type="one" fk-name="FCTP_CTP_CTPID"  rel-entity-name="CustomTimePeriod">
        <key-map field-name="customTimePeriodId" rel-field-name="customTimePeriodId"/>
      </relation>
      <relation type="one" fk-name="FCTP_FA_FACILITYID" rel-entity-name="Facility">
        <key-map field-name="facilityId"/>
      </relation>
    </entity>
    <entity entity-name="OrderAdjustmentTypeProcAbstractMapping"
            package-name="in.vasista.vbiz.procurement.mapping"
            title="Procurement Migration Temp table">
       <field name="orderAdjustmentTypeId" type="id"></field>
       <field name="procAbstractFieldName" type="id"></field>
      <prim-key field="orderAdjustmentTypeId"/>
      <relation type="many" rel-entity-name="OrderAdjustmentTypeAttr">
        <key-map field-name="orderAdjustmentTypeId" rel-field-name="orderAdjustmentTypeId"/>
      </relation>
    </entity>
    <!-- abstract Entity -->
    <!--  In this Entity We are storing totalQtyLtrs(qtyLtrs+sQtyLtrs) as qtyLtrs and totalQtyKgs(qtyKgs+sQtyKgs) as qtyKgs  -->
    <entity entity-name="ProcurementAbstract"
            package-name="in.vasista.vbiz.procurement.facility"
            title="Procurement Abstract Entity">
      <field name="periodBillingId" type="id-ne"></field>
      <field name="fromDate" type="date-time"></field>
      <field name="thruDate" type="date-time"></field>
      <!-- Center Details -->
      <field name="facilityId" type="id"></field>
      <field name="facilityCode" type="id"></field>
      <field name="facilityName" type="name"></field>
      <field name="ownerName" type="name"></field>
  	  <field name="finAccountCode" type="name"></field>
  	  <field name="finAccountName" type="name"></field>
  	  <field name="finAccountBranch" type="name"></field>	
  	  <field name="ifscCode" type="long-varchar"></field>
  	  <field name="gbCode" type="name"></field>
  	  <field name="bCode" type="name"></field>
  	  <field name="bPlace" type="name"></field>
  	  <field name="dist" type="name"></field>
      <!-- product Details -->
      <field name="productId" type="id"></field>
      <field name="qtyKgs" type="fixed-point"/>
      <field name="qtyLtrs" type="fixed-point"/>
      <field name="amQtyLtrs" type="fixed-point"/>
      <field name="pmQtyLtrs" type="fixed-point"/>
      <field name="cQtyLtrs" type="fixed-point"/>
      <field name="ptcCurd" type="fixed-point"/>
      <field name="sQtyKgs" type="fixed-point"/>
      <field name="kgFat" type="fixed-point"/>
      <field name="kgSnf" type="fixed-point"/>
      <field name="solids" type="fixed-point"/>
      <field name="price" type="currency-amount"/>
	 
	  <!--  Amounts related to the billing -->	
      <field name="commissionAmount" type="currency-amount"/>
      <field name="opCost" type="currency-amount"/>
      <field name="cartage" type="currency-amount"/>
      <field name="grossAmt" type="currency-amount"/>
      <!-- deductions and additions -->
      <field name="ded1" type="currency-amount"/>
      <field name="ded2" type="currency-amount"/>
      <field name="ded3" type="currency-amount"/>
      <field name="ded4" type="currency-amount"/>
      <field name="ded5" type="currency-amount"/>
      <field name="ded6" type="currency-amount"/>
      <field name="ded7" type="currency-amount"/>
      <field name="ded8" type="currency-amount"/>
      <field name="ded9" type="currency-amount"/>
      <field name="ded10" type="currency-amount"/>
      <field name="ded11" type="currency-amount"/>
      <field name="ded12" type="currency-amount"/>
      <field name="ded13" type="currency-amount"/>
      <field name="ded14" type="currency-amount"/>
      <field name="ded15" type="currency-amount"/>
      <field name="ded16" type="currency-amount"/>
      <field name="ded17" type="currency-amount"/>
      <field name="ded18" type="currency-amount"/>
      <field name="ded19" type="currency-amount"/>
      <field name="ded20" type="currency-amount"/>
      
      <field name="addn1" type="currency-amount"/>
      <field name="addn2" type="currency-amount"/>
      <field name="addn3" type="currency-amount"/>
      <field name="addn4" type="currency-amount"/>
      <field name="addn5" type="currency-amount"/>
      <field name="addn6" type="currency-amount"/>
      <field name="addn7" type="currency-amount"/>
      <field name="addn8" type="currency-amount"/>
      <field name="addn9" type="currency-amount"/>
      <field name="addn10" type="currency-amount"/>
      
      <field name="grsDed" type="currency-amount"/>
      <field name="grsAddn" type="currency-amount"/>
      <field name="tipAmt" type="currency-amount"/>
      <field name="netAmt" type="currency-amount"/>
      
      
      <prim-key field="periodBillingId"/>
      <prim-key field="fromDate"/>
      <prim-key field="thruDate"/>
      <prim-key field="facilityId"/>
      <prim-key field="productId"/>            
      <relation type="one" fk-name="PA_PB" rel-entity-name="PeriodBilling">
        <key-map field-name="periodBillingId"/>
      </relation>        
      <relation type="one" fk-name="PA_FAC" rel-entity-name="Facility">
        <key-map field-name="facilityId" rel-field-name="facilityId"/>
      </relation>
      <relation type="one" fk-name="PA_PID" rel-entity-name="Product">
        <key-map field-name="productId"/>
      </relation>    
    </entity>
    <view-entity entity-name="MilkTransferAndMilkTransferItem"
          package-name="org.ofbiz.product.inventory" 
          title="MilkTransfer And MilkTransferItem View Entity">
	    <member-entity entity-alias="MT" entity-name="MilkTransfer"/>
	    <member-entity entity-alias="MTI" entity-name="MilkTransferItem"/>	
		<alias-all entity-alias="MTI" />    
		<alias name="dcNo" entity-alias="MT"/>
		<alias name="statusId" entity-alias="MT"/>
		<alias name="facilityId" entity-alias="MT"/>
		<alias name="facilityIdTo" entity-alias="MT"/>
		<alias name="partyId" entity-alias="MT"/>
		<alias name="partyIdTo" entity-alias="MT"/>
		<alias name="receiveDate" entity-alias="MT"/>
		<alias name="containerId" entity-alias="MT"/>
		<alias name="grossWeight" entity-alias="MT"/>
		<alias name="tareWeight" entity-alias="MT"/>
		<alias name="sendDate" entity-alias="MT"/>
		
      	<view-link entity-alias="MTI" rel-entity-alias="MT">
        	<key-map field-name="milkTransferId"/>
      	</view-link>
  	</view-entity>     
    <view-entity entity-name="OrderAdjustmentTypeAndProcAbstractMapping"
          package-name="org.ofbiz.common.period" 
          title="CustomTimePeriod And FacilityCustomTimePeriod View Entity">
	    <member-entity entity-alias="OAT" entity-name="OrderAdjustmentType"/>
	    <member-entity entity-alias="OAPAM" entity-name="OrderAdjustmentTypeProcAbstractMapping"/>	
		<alias-all entity-alias="OAPAM" />    
	    <alias entity-alias="OAPAM" name="orderAdjustmentTypeId"/>
	    <alias entity-alias="OAT" name="parentTypeId"/>
      	<view-link entity-alias="OAPAM" rel-entity-alias="OAT">
        	<key-map field-name="orderAdjustmentTypeId"/>
      	</view-link>
  </view-entity>	    	
   <view-entity entity-name="BillingAndFacilityCustomTimePeriod" package-name="org.ofbiz.accounting.invoice" title="CustomTimePeriod and PeriodBilling View Entity">
        <member-entity entity-alias="PB" entity-name="PeriodBilling"/>
        <member-entity entity-alias="FCTP" entity-name="FacilityCustomTimePeriod"/>
        <alias-all entity-alias="PB"/>
        <alias entity-alias="FCTP"  field="isClosed" name="isClosed" />
        <alias entity-alias="FCTP"  field="customTimePeriodId"  name="customTimePeriodId"/>
        <view-link entity-alias="FCTP" rel-entity-alias="PB">
            <key-map field-name="customTimePeriodId"/>
            <key-map field-name="facilityId"/>
        </view-link>
    </view-entity> 
    <view-entity entity-name="CustomTimePeriodAndFacilityCustomTimePeriod"
          package-name="org.ofbiz.common.period" 
          title="CustomTimePeriod And FacilityCustomTimePeriod View Entity">
	    <member-entity entity-alias="FCTP" entity-name="FacilityCustomTimePeriod"/>
	    <member-entity entity-alias="CTP" entity-name="CustomTimePeriod"/>	
		<alias-all entity-alias="CTP" />    
	    <alias entity-alias="FCTP" name="facilityId"/>
	    <alias entity-alias="FCTP" name="fctpIsClosed" field="isClosed" />
      	<view-link entity-alias="FCTP" rel-entity-alias="CTP">
        	<key-map field-name="customTimePeriodId"/>
      	</view-link>
  </view-entity>
  
  <!-- FacilityIncomeExpenditure to store SaleAmount and ShedWise Salaries   -->
  <entity entity-name="FacilityIncomeExpenditure"
            package-name="in.vasista.vbiz.procurement.price"
            title="Facility Income Expenditure Entity ">
      <field name="facilityId" type="id-ne"/>
      <field name="amountTypeId" type="id-ne"/>
      <field name="customTimePeriodId" type="id-ne"/>      
	  <field name="amount" type="fixed-point"></field>
	  <field name="cashRemittance" type="fixed-point"></field>
	  <field name="productId" type="id-ne"></field>
	  <field name="qtyKgs" type="fixed-point"></field>
	  <field name="qtyLtrs" type="fixed-point"></field>
	  <field name="kgFat" type="fixed-point"></field>
	  <field name="kgSnf" type="fixed-point"></field>	
	  <field name="fat" type="fixed-point"></field>
	  <field name="snf" type="fixed-point"></field>
      <field name="createdDate" type="date-time"></field>
      <field name="createdByUserLogin" type="id-vlong"></field>
      <field name="lastModifiedDate" type="date-time"></field>
      <field name="lastModifiedByUserLogin" type="id-vlong"></field>   
      <prim-key field="facilityId"/>
      <prim-key field="customTimePeriodId"/>
      <prim-key field="amountTypeId"/>
        
      <relation type="one" fk-name="FIE_FAC" rel-entity-name="Facility">
      	<key-map field-name="facilityId" rel-field-name="facilityId"/>
      </relation>
      <relation type="one" fk-name="FIE_PRO" rel-entity-name="Product">
      	<key-map field-name="productId" rel-field-name="productId"/>
      </relation>
      <relation type="one" fk-name="FIE_ENUM" rel-entity-name="Enumeration">
      	<key-map field-name="amountTypeId" rel-field-name="enumId"/>
      </relation> 
      <relation type="one" fk-name="FIE_CBUL" title="CreatedBy" rel-entity-name="UserLogin">
        <key-map field-name="createdByUserLogin" rel-field-name="userLoginId"/>
      </relation>
      <relation type="one" fk-name="FIE_LMBUL" title="LastModifiedBy" rel-entity-name="UserLogin">
        <key-map field-name="lastModifiedByUserLogin" rel-field-name="userLoginId"/>
      </relation>
      <relation type="one" fk-name="FIE_CTP" title="customTimePeriodId" rel-entity-name="CustomTimePeriod">
            <key-map field-name="customTimePeriodId" rel-field-name="customTimePeriodId"/>
      </relation>                            
    </entity>
  
  
  
  <entity entity-name="ProcAgentCanMas" package-name="org.ofbiz.product.facility" title="Procurement Agent Master Can">
      <field name="facilityId" type="id"></field>
      <field name="canCode" type="id"></field>
      <prim-key field="facilityId"/>
      <prim-key field="canCode"/>
      <relation type="one" fk-name="FA_CC" rel-entity-name="Facility">
        <key-map field-name="facilityId"/>
      </relation>
  </entity>
   <entity entity-name="VehicleRate" package-name="org.ofbiz.product.facility">
		<field name="vehicleId" type="id-ne" />
		<field name="rateTypeId" type="id-ne" />
		<field name="rateCurrencyUomId" type="id-ne" />			
		<field name="acctgFormulaId" type="id"></field>
		<field name="uomId" type="id"></field>
		<field name="fromDate" type="date-time">
			<description>Describes when a rate amount will be valid. If null, valid immediately.</description>
		</field>
		<field name="thruDate" type="date-time">
			<description>Describes when a rate amount will be valid untl. If null, valid indefinitly.</description>
		</field>
		<field name="rateAmount" type="fixed-point" />
		<field name="createdDate" type="date-time"></field>
	    <field name="createdByUserLogin" type="id-vlong"></field>
	    <field name="lastModifiedDate" type="date-time"></field>
	    <field name="lastModifiedByUserLogin" type="id-vlong"></field>
		<prim-key field="vehicleId" />
		<prim-key field="rateTypeId" />
		<prim-key field="rateCurrencyUomId" />		
		<prim-key field="fromDate" />
		<relation type="one" fk-name="VEHICLE_RATE_VID"
			rel-entity-name="Vehicle">
			<key-map field-name="vehicle" />
		</relation>
		<relation type="one" fk-name="FACILITY_RATE_RT"
			rel-entity-name="RateType">
			<key-map field-name="rateTypeId" />
		</relation>
		<relation type="one" fk-name="FACILITY_RATE_PR"
			rel-entity-name="Product">
			<key-map field-name="productId" />
		</relation>
		<relation type="one" fk-name="FACILITY_RATE_RCT"
			rel-entity-name="Uom">
			<key-map field-name="rateCurrencyUomId" rel-field-name="uomId" />
		</relation>
		<relation type="one" fk-name="FACILITY_RATE_ACTFRL"
			rel-entity-name="AcctgFormula">
			<key-map field-name="acctgFormulaId" />
		</relation>	
	</entity>
  
  
  <entity entity-name="WeighBridgeDetails" package-name="org.ofbiz.product.inventory "
		title="Vehicle Entity">
		<field name="weighmentId" type="id"></field>
		<field name="vehicleId" type="id-ne"></field>
		<field name="statusId" type="id-ne"></field>
		<field name="weightKgs" type="fixed-point"></field>
		<field name="createdDate" type="date-time"></field>      
		<prim-key field="weighmentId"/>
		<relation type="one" fk-name="WBD_VID" rel-entity-name="Vehicle">
			<key-map field-name="vehicleId" />
		</relation>
		<relation type="one" fk-name="WBD_STTS" rel-entity-name="StatusItem">
			<key-map field-name="statusId" />
		</relation>
		
	</entity>
	<!-- PTC Billing for Transporter MilkReceipts  -->
	 <entity entity-name="PtcBillingCommission"
            package-name="org.ofbiz.accounting.invoice"
            title="PTC Billing Commission">
      <field name="periodBillingId" type="id-ne"></field>
      <field name="milkTransferId" type="id"></field>
      <field name="commissionAmount" type="currency-amount"/>                 
      <field name="recoveryAmount" type="currency-amount"/>                         
      <prim-key field="periodBillingId"/>
      <prim-key field="milkTransferId"/>
      <relation type="one" fk-name="FCMR_XFERID" rel-entity-name="MilkTransfer">
        <key-map field-name="milkTransferId"/>
      </relation>
      <relation type="one" fk-name="FCMR_PB" rel-entity-name="PeriodBilling">
        <key-map field-name="periodBillingId"/>
      </relation>        
    </entity>
    
    <view-entity entity-name="PtcBillingCommissionAndMilkTransfer"
          package-name="org.ofbiz.product.inventory" 
          title="PtcBillingCommission and MilkTransfer  View Entity">
	    <member-entity entity-alias="PBC" entity-name="PtcBillingCommission"/>
	    <member-entity entity-alias="MT" entity-name="MilkTransfer"/>
	    	
		<alias-all entity-alias="PBC" />
		<alias-all entity-alias="MT">
			<exclude field="milkTransferId"/>
		</alias-all>
      	<view-link entity-alias="PBC" rel-entity-alias="MT">
        	<key-map field-name="milkTransferId"/>
      	</view-link>
  	</view-entity>
	
</entitymodel>